(function(){"use strict";var Ll=typeof document<"u"?document.currentScript:null;function jv(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in r)){const s=Object.getOwnPropertyDescriptor(i,n);s&&Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ui(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Ul(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){var n=!1;try{n=this instanceof i}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var n=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return r[i]}})}),t}var Ga={exports:{}};const Fl=Ul(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var zv=Ga.exports,sd;function Hv(){return sd||(sd=1,(function(r){(function(e,t){function i(w,a){if(!w)throw new Error(a||"Assertion failed")}function n(w,a){w.super_=a;var u=function(){};u.prototype=a.prototype,w.prototype=new u,w.prototype.constructor=w}function s(w,a,u){if(s.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(w||0,a||10,u||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Fl.Buffer}catch{}s.isBN=function(a){return a instanceof s?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===s.wordSize&&Array.isArray(a.words)},s.max=function(a,u){return a.cmp(u)>0?a:u},s.min=function(a,u){return a.cmp(u)<0?a:u},s.prototype._init=function(a,u,d){if(typeof a=="number")return this._initNumber(a,u,d);if(typeof a=="object")return this._initArray(a,u,d);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var g=0;a[0]==="-"&&(g++,this.negative=1),g<a.length&&(u===16?this._parseHex(a,g,d):(this._parseBase(a,u,g),d==="le"&&this._initArray(this.toArray(),u,d)))},s.prototype._initNumber=function(a,u,d){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(i(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),u,d)},s.prototype._initArray=function(a,u,d){if(i(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var E,M,O=0;if(d==="be")for(g=a.length-1,E=0;g>=0;g-=3)M=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[E]|=M<<O&67108863,this.words[E+1]=M>>>26-O&67108863,O+=24,O>=26&&(O-=26,E++);else if(d==="le")for(g=0,E=0;g<a.length;g+=3)M=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[E]|=M<<O&67108863,this.words[E+1]=M>>>26-O&67108863,O+=24,O>=26&&(O-=26,E++);return this._strip()};function c(w,a){var u=w.charCodeAt(a);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;i(!1,"Invalid character in "+w)}function l(w,a,u){var d=c(w,u);return u-1>=a&&(d|=c(w,u-1)<<4),d}s.prototype._parseHex=function(a,u,d){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var E=0,M=0,O;if(d==="be")for(g=a.length-1;g>=u;g-=2)O=l(a,u,g)<<E,this.words[M]|=O&67108863,E>=18?(E-=18,M+=1,this.words[M]|=O>>>26):E+=8;else{var m=a.length-u;for(g=m%2===0?u+1:u;g<a.length;g+=2)O=l(a,u,g)<<E,this.words[M]|=O&67108863,E>=18?(E-=18,M+=1,this.words[M]|=O>>>26):E+=8}this._strip()};function h(w,a,u,d){for(var g=0,E=0,M=Math.min(w.length,u),O=a;O<M;O++){var m=w.charCodeAt(O)-48;g*=d,m>=49?E=m-49+10:m>=17?E=m-17+10:E=m,i(m>=0&&E<d,"Invalid character"),g+=E}return g}s.prototype._parseBase=function(a,u,d){this.words=[0],this.length=1;for(var g=0,E=1;E<=67108863;E*=u)g++;g--,E=E/u|0;for(var M=a.length-d,O=M%g,m=Math.min(M,M-O)+d,f=0,x=d;x<m;x+=g)f=h(a,x,x+g,u),this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(O!==0){var $=1;for(f=h(a,x,a.length,u),x=0;x<O;x++)$*=u;this.imuln($),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red};function p(w,a){w.words=a.words,w.length=a.length,w.negative=a.negative,w.red=a.red}if(s.prototype._move=function(a){p(a,this)},s.prototype.clone=function(){var a=new s(null);return this.copy(a),a},s.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(a,u){a=a||10,u=u|0||1;var d;if(a===16||a==="hex"){d="";for(var g=0,E=0,M=0;M<this.length;M++){var O=this.words[M],m=((O<<g|E)&16777215).toString(16);E=O>>>24-g&16777215,g+=2,g>=26&&(g-=26,M--),E!==0||M!==this.length-1?d=_[6-m.length]+m+d:d=m+d}for(E!==0&&(d=E.toString(16)+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(a===(a|0)&&a>=2&&a<=36){var f=A[a],x=P[a];d="";var $=this.clone();for($.negative=0;!$.isZero();){var y=$.modrn(x).toString(a);$=$.idivn(x),$.isZero()?d=y+d:d=_[f-y.length]+y+d}for(this.isZero()&&(d="0"+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(a,u){return this.toArrayLike(o,a,u)}),s.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)};var S=function(a,u){return a.allocUnsafe?a.allocUnsafe(u):new a(u)};s.prototype.toArrayLike=function(a,u,d){this._strip();var g=this.byteLength(),E=d||Math.max(1,g);i(g<=E,"byte array longer than desired length"),i(E>0,"Requested array length <= 0");var M=S(a,E),O=u==="le"?"LE":"BE";return this["_toArrayLike"+O](M,g),M},s.prototype._toArrayLikeLE=function(a,u){for(var d=0,g=0,E=0,M=0;E<this.length;E++){var O=this.words[E]<<M|g;a[d++]=O&255,d<a.length&&(a[d++]=O>>8&255),d<a.length&&(a[d++]=O>>16&255),M===6?(d<a.length&&(a[d++]=O>>24&255),g=0,M=0):(g=O>>>24,M+=2)}if(d<a.length)for(a[d++]=g;d<a.length;)a[d++]=0},s.prototype._toArrayLikeBE=function(a,u){for(var d=a.length-1,g=0,E=0,M=0;E<this.length;E++){var O=this.words[E]<<M|g;a[d--]=O&255,d>=0&&(a[d--]=O>>8&255),d>=0&&(a[d--]=O>>16&255),M===6?(d>=0&&(a[d--]=O>>24&255),g=0,M=0):(g=O>>>24,M+=2)}if(d>=0)for(a[d--]=g;d>=0;)a[d--]=0},Math.clz32?s.prototype._countBits=function(a){return 32-Math.clz32(a)}:s.prototype._countBits=function(a){var u=a,d=0;return u>=4096&&(d+=13,u>>>=13),u>=64&&(d+=7,u>>>=7),u>=8&&(d+=4,u>>>=4),u>=2&&(d+=2,u>>>=2),d+u},s.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,d=0;return(u&8191)===0&&(d+=13,u>>>=13),(u&127)===0&&(d+=7,u>>>=7),(u&15)===0&&(d+=4,u>>>=4),(u&3)===0&&(d+=2,u>>>=2),(u&1)===0&&d++,d},s.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function R(w){for(var a=new Array(w.bitLength()),u=0;u<a.length;u++){var d=u/26|0,g=u%26;a[u]=w.words[d]>>>g&1}return a}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var d=this._zeroBits(this.words[u]);if(a+=d,d!==26)break}return a},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},s.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this._strip()},s.prototype.ior=function(a){return i((this.negative|a.negative)===0),this.iuor(a)},s.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},s.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},s.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]&a.words[d];return this.length=u.length,this._strip()},s.prototype.iand=function(a){return i((this.negative|a.negative)===0),this.iuand(a)},s.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},s.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},s.prototype.iuxor=function(a){var u,d;this.length>a.length?(u=this,d=a):(u=a,d=this);for(var g=0;g<d.length;g++)this.words[g]=u.words[g]^d.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this._strip()},s.prototype.ixor=function(a){return i((this.negative|a.negative)===0),this.iuxor(a)},s.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},s.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},s.prototype.inotn=function(a){i(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,d=a%26;this._expand(u),d>0&&u--;for(var g=0;g<u;g++)this.words[g]=~this.words[g]&67108863;return d>0&&(this.words[g]=~this.words[g]&67108863>>26-d),this._strip()},s.prototype.notn=function(a){return this.clone().inotn(a)},s.prototype.setn=function(a,u){i(typeof a=="number"&&a>=0);var d=a/26|0,g=a%26;return this._expand(d+1),u?this.words[d]=this.words[d]|1<<g:this.words[d]=this.words[d]&~(1<<g),this._strip()},s.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var d,g;this.length>a.length?(d=this,g=a):(d=a,g=this);for(var E=0,M=0;M<g.length;M++)u=(d.words[M]|0)+(g.words[M]|0)+E,this.words[M]=u&67108863,E=u>>>26;for(;E!==0&&M<d.length;M++)u=(d.words[M]|0)+E,this.words[M]=u&67108863,E=u>>>26;if(this.length=d.length,E!==0)this.words[this.length]=E,this.length++;else if(d!==this)for(;M<d.length;M++)this.words[M]=d.words[M];return this},s.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},s.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var d=this.cmp(a);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,E;d>0?(g=this,E=a):(g=a,E=this);for(var M=0,O=0;O<E.length;O++)u=(g.words[O]|0)-(E.words[O]|0)+M,M=u>>26,this.words[O]=u&67108863;for(;M!==0&&O<g.length;O++)u=(g.words[O]|0)+M,M=u>>26,this.words[O]=u&67108863;if(M===0&&O<g.length&&g!==this)for(;O<g.length;O++)this.words[O]=g.words[O];return this.length=Math.max(this.length,O),g!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(a){return this.clone().isub(a)};function B(w,a,u){u.negative=a.negative^w.negative;var d=w.length+a.length|0;u.length=d,d=d-1|0;var g=w.words[0]|0,E=a.words[0]|0,M=g*E,O=M&67108863,m=M/67108864|0;u.words[0]=O;for(var f=1;f<d;f++){for(var x=m>>>26,$=m&67108863,y=Math.min(f,a.length-1),L=Math.max(0,f-w.length+1);L<=y;L++){var K=f-L|0;g=w.words[K]|0,E=a.words[L]|0,M=g*E+$,x+=M/67108864|0,$=M&67108863}u.words[f]=$|0,m=x|0}return m!==0?u.words[f]=m|0:u.length--,u._strip()}var T=function(a,u,d){var g=a.words,E=u.words,M=d.words,O=0,m,f,x,$=g[0]|0,y=$&8191,L=$>>>13,K=g[1]|0,H=K&8191,V=K>>>13,Z=g[2]|0,J=Z&8191,Y=Z>>>13,ye=g[3]|0,X=ye&8191,ne=ye>>>13,wt=g[4]|0,Ee=wt&8191,_e=wt>>>13,Bt=g[5]|0,ue=Bt&8191,fe=Bt>>>13,nt=g[6]|0,he=nt&8191,ce=nt>>>13,et=g[7]|0,de=et&8191,le=et>>>13,at=g[8]|0,pe=at&8191,oe=at>>>13,ft=g[9]|0,me=ft&8191,ve=ft>>>13,ut=E[0]|0,ge=ut&8191,Ne=ut>>>13,Wr=E[1]|0,Te=Wr&8191,Ce=Wr>>>13,Kr=E[2]|0,ke=Kr&8191,Be=Kr>>>13,Nr=E[3]|0,Ie=Nr&8191,Re=Nr>>>13,Or=E[4]|0,De=Or&8191,Pe=Or>>>13,ii=E[5]|0,$e=ii&8191,Le=ii>>>13,ni=E[6]|0,Ue=ni&8191,Oe=ni>>>13,Tr=E[7]|0,Me=Tr&8191,Fe=Tr>>>13,si=E[8]|0,qe=si&8191,je=si>>>13,oi=E[9]|0,Se=oi&8191,ze=oi>>>13;d.negative=a.negative^u.negative,d.length=19,m=Math.imul(y,ge),f=Math.imul(y,Ne),f=f+Math.imul(L,ge)|0,x=Math.imul(L,Ne);var kr=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(kr>>>26)|0,kr&=67108863,m=Math.imul(H,ge),f=Math.imul(H,Ne),f=f+Math.imul(V,ge)|0,x=Math.imul(V,Ne),m=m+Math.imul(y,Te)|0,f=f+Math.imul(y,Ce)|0,f=f+Math.imul(L,Te)|0,x=x+Math.imul(L,Ce)|0;var Br=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(J,ge),f=Math.imul(J,Ne),f=f+Math.imul(Y,ge)|0,x=Math.imul(Y,Ne),m=m+Math.imul(H,Te)|0,f=f+Math.imul(H,Ce)|0,f=f+Math.imul(V,Te)|0,x=x+Math.imul(V,Ce)|0,m=m+Math.imul(y,ke)|0,f=f+Math.imul(y,Be)|0,f=f+Math.imul(L,ke)|0,x=x+Math.imul(L,Be)|0;var $r=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+($r>>>26)|0,$r&=67108863,m=Math.imul(X,ge),f=Math.imul(X,Ne),f=f+Math.imul(ne,ge)|0,x=Math.imul(ne,Ne),m=m+Math.imul(J,Te)|0,f=f+Math.imul(J,Ce)|0,f=f+Math.imul(Y,Te)|0,x=x+Math.imul(Y,Ce)|0,m=m+Math.imul(H,ke)|0,f=f+Math.imul(H,Be)|0,f=f+Math.imul(V,ke)|0,x=x+Math.imul(V,Be)|0,m=m+Math.imul(y,Ie)|0,f=f+Math.imul(y,Re)|0,f=f+Math.imul(L,Ie)|0,x=x+Math.imul(L,Re)|0;var Lr=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,m=Math.imul(Ee,ge),f=Math.imul(Ee,Ne),f=f+Math.imul(_e,ge)|0,x=Math.imul(_e,Ne),m=m+Math.imul(X,Te)|0,f=f+Math.imul(X,Ce)|0,f=f+Math.imul(ne,Te)|0,x=x+Math.imul(ne,Ce)|0,m=m+Math.imul(J,ke)|0,f=f+Math.imul(J,Be)|0,f=f+Math.imul(Y,ke)|0,x=x+Math.imul(Y,Be)|0,m=m+Math.imul(H,Ie)|0,f=f+Math.imul(H,Re)|0,f=f+Math.imul(V,Ie)|0,x=x+Math.imul(V,Re)|0,m=m+Math.imul(y,De)|0,f=f+Math.imul(y,Pe)|0,f=f+Math.imul(L,De)|0,x=x+Math.imul(L,Pe)|0;var Ut=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,m=Math.imul(ue,ge),f=Math.imul(ue,Ne),f=f+Math.imul(fe,ge)|0,x=Math.imul(fe,Ne),m=m+Math.imul(Ee,Te)|0,f=f+Math.imul(Ee,Ce)|0,f=f+Math.imul(_e,Te)|0,x=x+Math.imul(_e,Ce)|0,m=m+Math.imul(X,ke)|0,f=f+Math.imul(X,Be)|0,f=f+Math.imul(ne,ke)|0,x=x+Math.imul(ne,Be)|0,m=m+Math.imul(J,Ie)|0,f=f+Math.imul(J,Re)|0,f=f+Math.imul(Y,Ie)|0,x=x+Math.imul(Y,Re)|0,m=m+Math.imul(H,De)|0,f=f+Math.imul(H,Pe)|0,f=f+Math.imul(V,De)|0,x=x+Math.imul(V,Pe)|0,m=m+Math.imul(y,$e)|0,f=f+Math.imul(y,Le)|0,f=f+Math.imul(L,$e)|0,x=x+Math.imul(L,Le)|0;var an=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(an>>>26)|0,an&=67108863,m=Math.imul(he,ge),f=Math.imul(he,Ne),f=f+Math.imul(ce,ge)|0,x=Math.imul(ce,Ne),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Ce)|0,f=f+Math.imul(fe,Te)|0,x=x+Math.imul(fe,Ce)|0,m=m+Math.imul(Ee,ke)|0,f=f+Math.imul(Ee,Be)|0,f=f+Math.imul(_e,ke)|0,x=x+Math.imul(_e,Be)|0,m=m+Math.imul(X,Ie)|0,f=f+Math.imul(X,Re)|0,f=f+Math.imul(ne,Ie)|0,x=x+Math.imul(ne,Re)|0,m=m+Math.imul(J,De)|0,f=f+Math.imul(J,Pe)|0,f=f+Math.imul(Y,De)|0,x=x+Math.imul(Y,Pe)|0,m=m+Math.imul(H,$e)|0,f=f+Math.imul(H,Le)|0,f=f+Math.imul(V,$e)|0,x=x+Math.imul(V,Le)|0,m=m+Math.imul(y,Ue)|0,f=f+Math.imul(y,Oe)|0,f=f+Math.imul(L,Ue)|0,x=x+Math.imul(L,Oe)|0;var cn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(cn>>>26)|0,cn&=67108863,m=Math.imul(de,ge),f=Math.imul(de,Ne),f=f+Math.imul(le,ge)|0,x=Math.imul(le,Ne),m=m+Math.imul(he,Te)|0,f=f+Math.imul(he,Ce)|0,f=f+Math.imul(ce,Te)|0,x=x+Math.imul(ce,Ce)|0,m=m+Math.imul(ue,ke)|0,f=f+Math.imul(ue,Be)|0,f=f+Math.imul(fe,ke)|0,x=x+Math.imul(fe,Be)|0,m=m+Math.imul(Ee,Ie)|0,f=f+Math.imul(Ee,Re)|0,f=f+Math.imul(_e,Ie)|0,x=x+Math.imul(_e,Re)|0,m=m+Math.imul(X,De)|0,f=f+Math.imul(X,Pe)|0,f=f+Math.imul(ne,De)|0,x=x+Math.imul(ne,Pe)|0,m=m+Math.imul(J,$e)|0,f=f+Math.imul(J,Le)|0,f=f+Math.imul(Y,$e)|0,x=x+Math.imul(Y,Le)|0,m=m+Math.imul(H,Ue)|0,f=f+Math.imul(H,Oe)|0,f=f+Math.imul(V,Ue)|0,x=x+Math.imul(V,Oe)|0,m=m+Math.imul(y,Me)|0,f=f+Math.imul(y,Fe)|0,f=f+Math.imul(L,Me)|0,x=x+Math.imul(L,Fe)|0;var ln=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(ln>>>26)|0,ln&=67108863,m=Math.imul(pe,ge),f=Math.imul(pe,Ne),f=f+Math.imul(oe,ge)|0,x=Math.imul(oe,Ne),m=m+Math.imul(de,Te)|0,f=f+Math.imul(de,Ce)|0,f=f+Math.imul(le,Te)|0,x=x+Math.imul(le,Ce)|0,m=m+Math.imul(he,ke)|0,f=f+Math.imul(he,Be)|0,f=f+Math.imul(ce,ke)|0,x=x+Math.imul(ce,Be)|0,m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,Re)|0,f=f+Math.imul(fe,Ie)|0,x=x+Math.imul(fe,Re)|0,m=m+Math.imul(Ee,De)|0,f=f+Math.imul(Ee,Pe)|0,f=f+Math.imul(_e,De)|0,x=x+Math.imul(_e,Pe)|0,m=m+Math.imul(X,$e)|0,f=f+Math.imul(X,Le)|0,f=f+Math.imul(ne,$e)|0,x=x+Math.imul(ne,Le)|0,m=m+Math.imul(J,Ue)|0,f=f+Math.imul(J,Oe)|0,f=f+Math.imul(Y,Ue)|0,x=x+Math.imul(Y,Oe)|0,m=m+Math.imul(H,Me)|0,f=f+Math.imul(H,Fe)|0,f=f+Math.imul(V,Me)|0,x=x+Math.imul(V,Fe)|0,m=m+Math.imul(y,qe)|0,f=f+Math.imul(y,je)|0,f=f+Math.imul(L,qe)|0,x=x+Math.imul(L,je)|0;var fn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(fn>>>26)|0,fn&=67108863,m=Math.imul(me,ge),f=Math.imul(me,Ne),f=f+Math.imul(ve,ge)|0,x=Math.imul(ve,Ne),m=m+Math.imul(pe,Te)|0,f=f+Math.imul(pe,Ce)|0,f=f+Math.imul(oe,Te)|0,x=x+Math.imul(oe,Ce)|0,m=m+Math.imul(de,ke)|0,f=f+Math.imul(de,Be)|0,f=f+Math.imul(le,ke)|0,x=x+Math.imul(le,Be)|0,m=m+Math.imul(he,Ie)|0,f=f+Math.imul(he,Re)|0,f=f+Math.imul(ce,Ie)|0,x=x+Math.imul(ce,Re)|0,m=m+Math.imul(ue,De)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(fe,De)|0,x=x+Math.imul(fe,Pe)|0,m=m+Math.imul(Ee,$e)|0,f=f+Math.imul(Ee,Le)|0,f=f+Math.imul(_e,$e)|0,x=x+Math.imul(_e,Le)|0,m=m+Math.imul(X,Ue)|0,f=f+Math.imul(X,Oe)|0,f=f+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Oe)|0,m=m+Math.imul(J,Me)|0,f=f+Math.imul(J,Fe)|0,f=f+Math.imul(Y,Me)|0,x=x+Math.imul(Y,Fe)|0,m=m+Math.imul(H,qe)|0,f=f+Math.imul(H,je)|0,f=f+Math.imul(V,qe)|0,x=x+Math.imul(V,je)|0,m=m+Math.imul(y,Se)|0,f=f+Math.imul(y,ze)|0,f=f+Math.imul(L,Se)|0,x=x+Math.imul(L,ze)|0;var un=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(un>>>26)|0,un&=67108863,m=Math.imul(me,Te),f=Math.imul(me,Ce),f=f+Math.imul(ve,Te)|0,x=Math.imul(ve,Ce),m=m+Math.imul(pe,ke)|0,f=f+Math.imul(pe,Be)|0,f=f+Math.imul(oe,ke)|0,x=x+Math.imul(oe,Be)|0,m=m+Math.imul(de,Ie)|0,f=f+Math.imul(de,Re)|0,f=f+Math.imul(le,Ie)|0,x=x+Math.imul(le,Re)|0,m=m+Math.imul(he,De)|0,f=f+Math.imul(he,Pe)|0,f=f+Math.imul(ce,De)|0,x=x+Math.imul(ce,Pe)|0,m=m+Math.imul(ue,$e)|0,f=f+Math.imul(ue,Le)|0,f=f+Math.imul(fe,$e)|0,x=x+Math.imul(fe,Le)|0,m=m+Math.imul(Ee,Ue)|0,f=f+Math.imul(Ee,Oe)|0,f=f+Math.imul(_e,Ue)|0,x=x+Math.imul(_e,Oe)|0,m=m+Math.imul(X,Me)|0,f=f+Math.imul(X,Fe)|0,f=f+Math.imul(ne,Me)|0,x=x+Math.imul(ne,Fe)|0,m=m+Math.imul(J,qe)|0,f=f+Math.imul(J,je)|0,f=f+Math.imul(Y,qe)|0,x=x+Math.imul(Y,je)|0,m=m+Math.imul(H,Se)|0,f=f+Math.imul(H,ze)|0,f=f+Math.imul(V,Se)|0,x=x+Math.imul(V,ze)|0;var ai=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(ai>>>26)|0,ai&=67108863,m=Math.imul(me,ke),f=Math.imul(me,Be),f=f+Math.imul(ve,ke)|0,x=Math.imul(ve,Be),m=m+Math.imul(pe,Ie)|0,f=f+Math.imul(pe,Re)|0,f=f+Math.imul(oe,Ie)|0,x=x+Math.imul(oe,Re)|0,m=m+Math.imul(de,De)|0,f=f+Math.imul(de,Pe)|0,f=f+Math.imul(le,De)|0,x=x+Math.imul(le,Pe)|0,m=m+Math.imul(he,$e)|0,f=f+Math.imul(he,Le)|0,f=f+Math.imul(ce,$e)|0,x=x+Math.imul(ce,Le)|0,m=m+Math.imul(ue,Ue)|0,f=f+Math.imul(ue,Oe)|0,f=f+Math.imul(fe,Ue)|0,x=x+Math.imul(fe,Oe)|0,m=m+Math.imul(Ee,Me)|0,f=f+Math.imul(Ee,Fe)|0,f=f+Math.imul(_e,Me)|0,x=x+Math.imul(_e,Fe)|0,m=m+Math.imul(X,qe)|0,f=f+Math.imul(X,je)|0,f=f+Math.imul(ne,qe)|0,x=x+Math.imul(ne,je)|0,m=m+Math.imul(J,Se)|0,f=f+Math.imul(J,ze)|0,f=f+Math.imul(Y,Se)|0,x=x+Math.imul(Y,ze)|0;var hn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(hn>>>26)|0,hn&=67108863,m=Math.imul(me,Ie),f=Math.imul(me,Re),f=f+Math.imul(ve,Ie)|0,x=Math.imul(ve,Re),m=m+Math.imul(pe,De)|0,f=f+Math.imul(pe,Pe)|0,f=f+Math.imul(oe,De)|0,x=x+Math.imul(oe,Pe)|0,m=m+Math.imul(de,$e)|0,f=f+Math.imul(de,Le)|0,f=f+Math.imul(le,$e)|0,x=x+Math.imul(le,Le)|0,m=m+Math.imul(he,Ue)|0,f=f+Math.imul(he,Oe)|0,f=f+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Oe)|0,m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Fe)|0,f=f+Math.imul(fe,Me)|0,x=x+Math.imul(fe,Fe)|0,m=m+Math.imul(Ee,qe)|0,f=f+Math.imul(Ee,je)|0,f=f+Math.imul(_e,qe)|0,x=x+Math.imul(_e,je)|0,m=m+Math.imul(X,Se)|0,f=f+Math.imul(X,ze)|0,f=f+Math.imul(ne,Se)|0,x=x+Math.imul(ne,ze)|0;var dn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(dn>>>26)|0,dn&=67108863,m=Math.imul(me,De),f=Math.imul(me,Pe),f=f+Math.imul(ve,De)|0,x=Math.imul(ve,Pe),m=m+Math.imul(pe,$e)|0,f=f+Math.imul(pe,Le)|0,f=f+Math.imul(oe,$e)|0,x=x+Math.imul(oe,Le)|0,m=m+Math.imul(de,Ue)|0,f=f+Math.imul(de,Oe)|0,f=f+Math.imul(le,Ue)|0,x=x+Math.imul(le,Oe)|0,m=m+Math.imul(he,Me)|0,f=f+Math.imul(he,Fe)|0,f=f+Math.imul(ce,Me)|0,x=x+Math.imul(ce,Fe)|0,m=m+Math.imul(ue,qe)|0,f=f+Math.imul(ue,je)|0,f=f+Math.imul(fe,qe)|0,x=x+Math.imul(fe,je)|0,m=m+Math.imul(Ee,Se)|0,f=f+Math.imul(Ee,ze)|0,f=f+Math.imul(_e,Se)|0,x=x+Math.imul(_e,ze)|0;var dr=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(me,$e),f=Math.imul(me,Le),f=f+Math.imul(ve,$e)|0,x=Math.imul(ve,Le),m=m+Math.imul(pe,Ue)|0,f=f+Math.imul(pe,Oe)|0,f=f+Math.imul(oe,Ue)|0,x=x+Math.imul(oe,Oe)|0,m=m+Math.imul(de,Me)|0,f=f+Math.imul(de,Fe)|0,f=f+Math.imul(le,Me)|0,x=x+Math.imul(le,Fe)|0,m=m+Math.imul(he,qe)|0,f=f+Math.imul(he,je)|0,f=f+Math.imul(ce,qe)|0,x=x+Math.imul(ce,je)|0,m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,ze)|0,f=f+Math.imul(fe,Se)|0,x=x+Math.imul(fe,ze)|0;var pn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(pn>>>26)|0,pn&=67108863,m=Math.imul(me,Ue),f=Math.imul(me,Oe),f=f+Math.imul(ve,Ue)|0,x=Math.imul(ve,Oe),m=m+Math.imul(pe,Me)|0,f=f+Math.imul(pe,Fe)|0,f=f+Math.imul(oe,Me)|0,x=x+Math.imul(oe,Fe)|0,m=m+Math.imul(de,qe)|0,f=f+Math.imul(de,je)|0,f=f+Math.imul(le,qe)|0,x=x+Math.imul(le,je)|0,m=m+Math.imul(he,Se)|0,f=f+Math.imul(he,ze)|0,f=f+Math.imul(ce,Se)|0,x=x+Math.imul(ce,ze)|0;var gn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(gn>>>26)|0,gn&=67108863,m=Math.imul(me,Me),f=Math.imul(me,Fe),f=f+Math.imul(ve,Me)|0,x=Math.imul(ve,Fe),m=m+Math.imul(pe,qe)|0,f=f+Math.imul(pe,je)|0,f=f+Math.imul(oe,qe)|0,x=x+Math.imul(oe,je)|0,m=m+Math.imul(de,Se)|0,f=f+Math.imul(de,ze)|0,f=f+Math.imul(le,Se)|0,x=x+Math.imul(le,ze)|0;var mn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(mn>>>26)|0,mn&=67108863,m=Math.imul(me,qe),f=Math.imul(me,je),f=f+Math.imul(ve,qe)|0,x=Math.imul(ve,je),m=m+Math.imul(pe,Se)|0,f=f+Math.imul(pe,ze)|0,f=f+Math.imul(oe,Se)|0,x=x+Math.imul(oe,ze)|0;var bn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(bn>>>26)|0,bn&=67108863,m=Math.imul(me,Se),f=Math.imul(me,ze),f=f+Math.imul(ve,Se)|0,x=Math.imul(ve,ze);var xn=(O+m|0)+((f&8191)<<13)|0;return O=(x+(f>>>13)|0)+(xn>>>26)|0,xn&=67108863,M[0]=kr,M[1]=Br,M[2]=$r,M[3]=Lr,M[4]=Ut,M[5]=an,M[6]=cn,M[7]=ln,M[8]=fn,M[9]=un,M[10]=ai,M[11]=hn,M[12]=dn,M[13]=dr,M[14]=pn,M[15]=gn,M[16]=mn,M[17]=bn,M[18]=xn,O!==0&&(M[19]=O,d.length++),d};Math.imul||(T=B);function k(w,a,u){u.negative=a.negative^w.negative,u.length=w.length+a.length;for(var d=0,g=0,E=0;E<u.length-1;E++){var M=g;g=0;for(var O=d&67108863,m=Math.min(E,a.length-1),f=Math.max(0,E-w.length+1);f<=m;f++){var x=E-f,$=w.words[x]|0,y=a.words[f]|0,L=$*y,K=L&67108863;M=M+(L/67108864|0)|0,K=K+O|0,O=K&67108863,M=M+(K>>>26)|0,g+=M>>>26,M&=67108863}u.words[E]=O,d=M,M=g}return d!==0?u.words[E]=d:u.length--,u._strip()}function I(w,a,u){return k(w,a,u)}s.prototype.mulTo=function(a,u){var d,g=this.length+a.length;return this.length===10&&a.length===10?d=T(this,a,u):g<63?d=B(this,a,u):g<1024?d=k(this,a,u):d=I(this,a,u),d},s.prototype.mul=function(a){var u=new s(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},s.prototype.mulf=function(a){var u=new s(null);return u.words=new Array(this.length+a.length),I(this,a,u)},s.prototype.imul=function(a){return this.clone().mulTo(a,this)},s.prototype.imuln=function(a){var u=a<0;u&&(a=-a),i(typeof a=="number"),i(a<67108864);for(var d=0,g=0;g<this.length;g++){var E=(this.words[g]|0)*a,M=(E&67108863)+(d&67108863);d>>=26,d+=E/67108864|0,d+=M>>>26,this.words[g]=M&67108863}return d!==0&&(this.words[g]=d,this.length++),this.length=a===0?1:this.length,u?this.ineg():this},s.prototype.muln=function(a){return this.clone().imuln(a)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(a){var u=R(a);if(u.length===0)return new s(1);for(var d=this,g=0;g<u.length&&u[g]===0;g++,d=d.sqr());if(++g<u.length)for(var E=d.sqr();g<u.length;g++,E=E.sqr())u[g]!==0&&(d=d.mul(E));return d},s.prototype.iushln=function(a){i(typeof a=="number"&&a>=0);var u=a%26,d=(a-u)/26,g=67108863>>>26-u<<26-u,E;if(u!==0){var M=0;for(E=0;E<this.length;E++){var O=this.words[E]&g,m=(this.words[E]|0)-O<<u;this.words[E]=m|M,M=O>>>26-u}M&&(this.words[E]=M,this.length++)}if(d!==0){for(E=this.length-1;E>=0;E--)this.words[E+d]=this.words[E];for(E=0;E<d;E++)this.words[E]=0;this.length+=d}return this._strip()},s.prototype.ishln=function(a){return i(this.negative===0),this.iushln(a)},s.prototype.iushrn=function(a,u,d){i(typeof a=="number"&&a>=0);var g;u?g=(u-u%26)/26:g=0;var E=a%26,M=Math.min((a-E)/26,this.length),O=67108863^67108863>>>E<<E,m=d;if(g-=M,g=Math.max(0,g),m){for(var f=0;f<M;f++)m.words[f]=this.words[f];m.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var x=0;for(f=this.length-1;f>=0&&(x!==0||f>=g);f--){var $=this.words[f]|0;this.words[f]=x<<26-E|$>>>E,x=$&O}return m&&x!==0&&(m.words[m.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(a,u,d){return i(this.negative===0),this.iushrn(a,u,d)},s.prototype.shln=function(a){return this.clone().ishln(a)},s.prototype.ushln=function(a){return this.clone().iushln(a)},s.prototype.shrn=function(a){return this.clone().ishrn(a)},s.prototype.ushrn=function(a){return this.clone().iushrn(a)},s.prototype.testn=function(a){i(typeof a=="number"&&a>=0);var u=a%26,d=(a-u)/26,g=1<<u;if(this.length<=d)return!1;var E=this.words[d];return!!(E&g)},s.prototype.imaskn=function(a){i(typeof a=="number"&&a>=0);var u=a%26,d=(a-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(u!==0&&d++,this.length=Math.min(d,this.length),u!==0){var g=67108863^67108863>>>u<<u;this.words[this.length-1]&=g}return this._strip()},s.prototype.maskn=function(a){return this.clone().imaskn(a)},s.prototype.iaddn=function(a){return i(typeof a=="number"),i(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},s.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},s.prototype.isubn=function(a){if(i(typeof a=="number"),i(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},s.prototype.addn=function(a){return this.clone().iaddn(a)},s.prototype.subn=function(a){return this.clone().isubn(a)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(a,u,d){var g=a.length+d,E;this._expand(g);var M,O=0;for(E=0;E<a.length;E++){M=(this.words[E+d]|0)+O;var m=(a.words[E]|0)*u;M-=m&67108863,O=(M>>26)-(m/67108864|0),this.words[E+d]=M&67108863}for(;E<this.length-d;E++)M=(this.words[E+d]|0)+O,O=M>>26,this.words[E+d]=M&67108863;if(O===0)return this._strip();for(i(O===-1),O=0,E=0;E<this.length;E++)M=-(this.words[E]|0)+O,O=M>>26,this.words[E]=M&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(a,u){var d=this.length-a.length,g=this.clone(),E=a,M=E.words[E.length-1]|0,O=this._countBits(M);d=26-O,d!==0&&(E=E.ushln(d),g.iushln(d),M=E.words[E.length-1]|0);var m=g.length-E.length,f;if(u!=="mod"){f=new s(null),f.length=m+1,f.words=new Array(f.length);for(var x=0;x<f.length;x++)f.words[x]=0}var $=g.clone()._ishlnsubmul(E,1,m);$.negative===0&&(g=$,f&&(f.words[m]=1));for(var y=m-1;y>=0;y--){var L=(g.words[E.length+y]|0)*67108864+(g.words[E.length+y-1]|0);for(L=Math.min(L/M|0,67108863),g._ishlnsubmul(E,L,y);g.negative!==0;)L--,g.negative=0,g._ishlnsubmul(E,1,y),g.isZero()||(g.negative^=1);f&&(f.words[y]=L)}return f&&f._strip(),g._strip(),u!=="div"&&d!==0&&g.iushrn(d),{div:f||null,mod:g}},s.prototype.divmod=function(a,u,d){if(i(!a.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var g,E,M;return this.negative!==0&&a.negative===0?(M=this.neg().divmod(a,u),u!=="mod"&&(g=M.div.neg()),u!=="div"&&(E=M.mod.neg(),d&&E.negative!==0&&E.iadd(a)),{div:g,mod:E}):this.negative===0&&a.negative!==0?(M=this.divmod(a.neg(),u),u!=="mod"&&(g=M.div.neg()),{div:g,mod:M.mod}):(this.negative&a.negative)!==0?(M=this.neg().divmod(a.neg(),u),u!=="div"&&(E=M.mod.neg(),d&&E.negative!==0&&E.isub(a)),{div:M.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new s(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new s(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new s(this.modrn(a.words[0]))}:this._wordDiv(a,u)},s.prototype.div=function(a){return this.divmod(a,"div",!1).div},s.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},s.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},s.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var d=u.div.negative!==0?u.mod.isub(a):u.mod,g=a.ushrn(1),E=a.andln(1),M=d.cmp(g);return M<0||E===1&&M===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},s.prototype.modrn=function(a){var u=a<0;u&&(a=-a),i(a<=67108863);for(var d=(1<<26)%a,g=0,E=this.length-1;E>=0;E--)g=(d*g+(this.words[E]|0))%a;return u?-g:g},s.prototype.modn=function(a){return this.modrn(a)},s.prototype.idivn=function(a){var u=a<0;u&&(a=-a),i(a<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var E=(this.words[g]|0)+d*67108864;this.words[g]=E/a|0,d=E%a}return this._strip(),u?this.ineg():this},s.prototype.divn=function(a){return this.clone().idivn(a)},s.prototype.egcd=function(a){i(a.negative===0),i(!a.isZero());var u=this,d=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var g=new s(1),E=new s(0),M=new s(0),O=new s(1),m=0;u.isEven()&&d.isEven();)u.iushrn(1),d.iushrn(1),++m;for(var f=d.clone(),x=u.clone();!u.isZero();){for(var $=0,y=1;(u.words[0]&y)===0&&$<26;++$,y<<=1);if($>0)for(u.iushrn($);$-- >0;)(g.isOdd()||E.isOdd())&&(g.iadd(f),E.isub(x)),g.iushrn(1),E.iushrn(1);for(var L=0,K=1;(d.words[0]&K)===0&&L<26;++L,K<<=1);if(L>0)for(d.iushrn(L);L-- >0;)(M.isOdd()||O.isOdd())&&(M.iadd(f),O.isub(x)),M.iushrn(1),O.iushrn(1);u.cmp(d)>=0?(u.isub(d),g.isub(M),E.isub(O)):(d.isub(u),M.isub(g),O.isub(E))}return{a:M,b:O,gcd:d.iushln(m)}},s.prototype._invmp=function(a){i(a.negative===0),i(!a.isZero());var u=this,d=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var g=new s(1),E=new s(0),M=d.clone();u.cmpn(1)>0&&d.cmpn(1)>0;){for(var O=0,m=1;(u.words[0]&m)===0&&O<26;++O,m<<=1);if(O>0)for(u.iushrn(O);O-- >0;)g.isOdd()&&g.iadd(M),g.iushrn(1);for(var f=0,x=1;(d.words[0]&x)===0&&f<26;++f,x<<=1);if(f>0)for(d.iushrn(f);f-- >0;)E.isOdd()&&E.iadd(M),E.iushrn(1);u.cmp(d)>=0?(u.isub(d),g.isub(E)):(d.isub(u),E.isub(g))}var $;return u.cmpn(1)===0?$=g:$=E,$.cmpn(0)<0&&$.iadd(a),$},s.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),d=a.clone();u.negative=0,d.negative=0;for(var g=0;u.isEven()&&d.isEven();g++)u.iushrn(1),d.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;d.isEven();)d.iushrn(1);var E=u.cmp(d);if(E<0){var M=u;u=d,d=M}else if(E===0||d.cmpn(1)===0)break;u.isub(d)}while(!0);return d.iushln(g)},s.prototype.invm=function(a){return this.egcd(a).a.umod(a)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(a){return this.words[0]&a},s.prototype.bincn=function(a){i(typeof a=="number");var u=a%26,d=(a-u)/26,g=1<<u;if(this.length<=d)return this._expand(d+1),this.words[d]|=g,this;for(var E=g,M=d;E!==0&&M<this.length;M++){var O=this.words[M]|0;O+=E,E=O>>>26,O&=67108863,this.words[M]=O}return E!==0&&(this.words[M]=E,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var d;if(this.length>1)d=1;else{u&&(a=-a),i(a<=67108863,"Number is too big");var g=this.words[0]|0;d=g===a?0:g<a?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},s.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,d=this.length-1;d>=0;d--){var g=this.words[d]|0,E=a.words[d]|0;if(g!==E){g<E?u=-1:g>E&&(u=1);break}}return u},s.prototype.gtn=function(a){return this.cmpn(a)===1},s.prototype.gt=function(a){return this.cmp(a)===1},s.prototype.gten=function(a){return this.cmpn(a)>=0},s.prototype.gte=function(a){return this.cmp(a)>=0},s.prototype.ltn=function(a){return this.cmpn(a)===-1},s.prototype.lt=function(a){return this.cmp(a)===-1},s.prototype.lten=function(a){return this.cmpn(a)<=0},s.prototype.lte=function(a){return this.cmp(a)<=0},s.prototype.eqn=function(a){return this.cmpn(a)===0},s.prototype.eq=function(a){return this.cmp(a)===0},s.red=function(a){return new q(a)},s.prototype.toRed=function(a){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(a){return this.red=a,this},s.prototype.forceRed=function(a){return i(!this.red,"Already a number in reduction context"),this._forceRed(a)},s.prototype.redAdd=function(a){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},s.prototype.redIAdd=function(a){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},s.prototype.redSub=function(a){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},s.prototype.redISub=function(a){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},s.prototype.redShl=function(a){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},s.prototype.redMul=function(a){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},s.prototype.redIMul=function(a){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(a){return i(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var N={k256:null,p224:null,p192:null,p25519:null};function C(w,a){this.name=w,this.p=new s(a,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var a=new s(null);return a.words=new Array(Math.ceil(this.n/13)),a},C.prototype.ireduce=function(a){var u=a,d;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),d=u.bitLength();while(d>this.n);var g=d<this.n?-1:u.ucmp(this.p);return g===0?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},C.prototype.split=function(a,u){a.iushrn(this.n,0,u)},C.prototype.imulK=function(a){return a.imul(this.k)};function b(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(b,C),b.prototype.split=function(a,u){for(var d=4194303,g=Math.min(a.length,9),E=0;E<g;E++)u.words[E]=a.words[E];if(u.length=g,a.length<=9){a.words[0]=0,a.length=1;return}var M=a.words[9];for(u.words[u.length++]=M&d,E=10;E<a.length;E++){var O=a.words[E]|0;a.words[E-10]=(O&d)<<4|M>>>22,M=O}M>>>=22,a.words[E-10]=M,M===0&&a.length>10?a.length-=10:a.length-=9},b.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,d=0;d<a.length;d++){var g=a.words[d]|0;u+=g*977,a.words[d]=u&67108863,u=g*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function D(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(D,C);function U(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(U,C);function j(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(j,C),j.prototype.imulK=function(a){for(var u=0,d=0;d<a.length;d++){var g=(a.words[d]|0)*19+u,E=g&67108863;g>>>=26,a.words[d]=E,u=g}return u!==0&&(a.words[a.length++]=u),a},s._prime=function(a){if(N[a])return N[a];var u;if(a==="k256")u=new b;else if(a==="p224")u=new D;else if(a==="p192")u=new U;else if(a==="p25519")u=new j;else throw new Error("Unknown prime "+a);return N[a]=u,u};function q(w){if(typeof w=="string"){var a=s._prime(w);this.m=a.p,this.prime=a}else i(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}q.prototype._verify1=function(a){i(a.negative===0,"red works only with positives"),i(a.red,"red works only with red numbers")},q.prototype._verify2=function(a,u){i((a.negative|u.negative)===0,"red works only with positives"),i(a.red&&a.red===u.red,"red works only with red numbers")},q.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(p(a,a.umod(this.m)._forceRed(this)),a)},q.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},q.prototype.add=function(a,u){this._verify2(a,u);var d=a.add(u);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},q.prototype.iadd=function(a,u){this._verify2(a,u);var d=a.iadd(u);return d.cmp(this.m)>=0&&d.isub(this.m),d},q.prototype.sub=function(a,u){this._verify2(a,u);var d=a.sub(u);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},q.prototype.isub=function(a,u){this._verify2(a,u);var d=a.isub(u);return d.cmpn(0)<0&&d.iadd(this.m),d},q.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},q.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},q.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},q.prototype.isqr=function(a){return this.imul(a,a.clone())},q.prototype.sqr=function(a){return this.mul(a,a)},q.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(a,d)}for(var g=this.m.subn(1),E=0;!g.isZero()&&g.andln(1)===0;)E++,g.iushrn(1);i(!g.isZero());var M=new s(1).toRed(this),O=M.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,m).cmp(O)!==0;)f.redIAdd(O);for(var x=this.pow(f,g),$=this.pow(a,g.addn(1).iushrn(1)),y=this.pow(a,g),L=E;y.cmp(M)!==0;){for(var K=y,H=0;K.cmp(M)!==0;H++)K=K.redSqr();i(H<L);var V=this.pow(x,new s(1).iushln(L-H-1));$=$.redMul(V),x=V.redSqr(),y=y.redMul(x),L=H}return $},q.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},q.prototype.pow=function(a,u){if(u.isZero())return new s(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var d=4,g=new Array(1<<d);g[0]=new s(1).toRed(this),g[1]=a;for(var E=2;E<g.length;E++)g[E]=this.mul(g[E-1],a);var M=g[0],O=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),E=u.length-1;E>=0;E--){for(var x=u.words[E],$=f-1;$>=0;$--){var y=x>>$&1;if(M!==g[0]&&(M=this.sqr(M)),y===0&&O===0){m=0;continue}O<<=1,O|=y,m++,!(m!==d&&(E!==0||$!==0))&&(M=this.mul(M,g[O]),m=0,O=0)}f=26}return M},q.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},q.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},s.mont=function(a){return new F(a)};function F(w){q.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(F,q),F.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},F.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},F.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var d=a.imul(u),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=d.isub(g).iushrn(this.shift),M=E;return E.cmp(this.m)>=0?M=E.isub(this.m):E.cmpn(0)<0&&(M=E.iadd(this.m)),M._forceRed(this)},F.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new s(0)._forceRed(this);var d=a.mul(u),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=d.isub(g).iushrn(this.shift),M=E;return E.cmp(this.m)>=0?M=E.isub(this.m):E.cmpn(0)<0&&(M=E.iadd(this.m)),M._forceRed(this)},F.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(r,zv)})(Ga)),Ga.exports}var Wv=Hv();const Kv=ui(Wv),Vv="logger/5.7.0";let od=!1,ad=!1;const Ja={debug:1,default:2,info:2,warning:3,error:4,off:5};let cd=Ja.default,ql=null;function Gv(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if("é".normalize("NFD")!=="é")throw new Error("broken implementation")}catch(r){return r.message}return null}const ld=Gv();var jl;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})(jl||(jl={}));var Gr;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(Gr||(Gr={}));const fd="0123456789abcdef";class W{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const i=e.toLowerCase();Ja[i]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(cd>Ja[i])&&console.log.apply(console,t)}debug(...e){this._log(W.levels.DEBUG,e)}info(...e){this._log(W.levels.INFO,e)}warn(...e){this._log(W.levels.WARNING,e)}makeError(e,t,i){if(ad)return this.makeError("censored error",t,{});t||(t=W.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(l=>{const h=i[l];try{if(h instanceof Uint8Array){let p="";for(let v=0;v<h.length;v++)p+=fd[h[v]>>4],p+=fd[h[v]&15];n.push(l+"=Uint8Array(0x"+p+")")}else n.push(l+"="+JSON.stringify(h))}catch{n.push(l+"="+JSON.stringify(i[l].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);const s=e;let o="";switch(t){case Gr.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Gr.CALL_EXCEPTION:case Gr.INSUFFICIENT_FUNDS:case Gr.MISSING_NEW:case Gr.NONCE_EXPIRED:case Gr.REPLACEMENT_UNDERPRICED:case Gr.TRANSACTION_REPLACED:case Gr.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const c=new Error(e);return c.reason=s,c.code=t,Object.keys(i).forEach(function(l){c[l]=i[l]}),c}throwError(e,t,i){throw this.makeError(e,t,i)}throwArgumentError(e,t,i){return this.throwError(e,W.errors.INVALID_ARGUMENT,{argument:t,value:i})}assert(e,t,i,n){e||this.throwError(t,i,n)}assertArgument(e,t,i,n){e||this.throwArgumentError(t,i,n)}checkNormalize(e){ld&&this.throwError("platform missing String.prototype.normalize",W.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:ld})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,W.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,W.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,i){i?i=": "+i:i="",e<t&&this.throwError("missing argument"+i,W.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+i,W.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",W.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",W.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",W.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return ql||(ql=new W(Vv)),ql}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",W.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),od){if(!e)return;this.globalLogger().throwError("error censorship permanent",W.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ad=!!e,od=!!t}static setLogLevel(e){const t=Ja[e.toLowerCase()];if(t==null){W.globalLogger().warn("invalid log level - "+e);return}cd=t}static from(e){return new W(e)}}W.errors=Gr,W.levels=jl;const Jv="bytes/5.7.0",Mt=new W(Jv);function ud(r){return!!r.toHexString}function ks(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return ks(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Eo(r){return Ke(r)&&!(r.length%2)||wn(r)}function hd(r){return typeof r=="number"&&r==r&&r%1===0}function wn(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!hd(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!hd(t)||t<0||t>=256)return!1}return!0}function te(r,e){if(e||(e={}),typeof r=="number"){Mt.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),ks(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),ud(r)&&(r=r.toHexString()),Ke(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Mt.throwArgumentError("hex data is odd-length","value",r));const i=[];for(let n=0;n<t.length;n+=2)i.push(parseInt(t.substring(n,n+2),16));return ks(new Uint8Array(i))}return wn(r)?ks(new Uint8Array(r)):Mt.throwArgumentError("invalid arrayify value","value",r)}function mt(r){const e=r.map(n=>te(n)),t=e.reduce((n,s)=>n+s.length,0),i=new Uint8Array(t);return e.reduce((n,s)=>(i.set(s,n),n+s.length),0),ks(i)}function Ei(r){let e=te(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function _o(r,e){r=te(r),r.length>e&&Mt.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),ks(t)}function Ke(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const zl="0123456789abcdef";function ie(r,e){if(e||(e={}),typeof r=="number"){Mt.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=zl[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),ud(r))return r.toHexString();if(Ke(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Mt.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(wn(r)){let t="0x";for(let i=0;i<r.length;i++){let n=r[i];t+=zl[(n&240)>>4]+zl[n&15]}return t}return Mt.throwArgumentError("invalid hexlify value","value",r)}function _i(r){if(typeof r!="string")r=ie(r);else if(!Ke(r)||r.length%2)return null;return(r.length-2)/2}function Dt(r,e,t){return typeof r!="string"?r=ie(r):(!Ke(r)||r.length%2)&&Mt.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function gr(r){let e="0x";return r.forEach(t=>{e+=ie(t).substring(2)}),e}function Ao(r){const e=dd(ie(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function dd(r){typeof r!="string"&&(r=ie(r)),Ke(r)||Mt.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function bt(r,e){for(typeof r!="string"?r=ie(r):Ke(r)||Mt.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Mt.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function Gn(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Eo(r)){let t=te(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=ie(t.slice(0,32)),e.s=ie(t.slice(32,64))):t.length===65?(e.r=ie(t.slice(0,32)),e.s=ie(t.slice(32,64)),e.v=t[64]):Mt.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Mt.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=ie(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const n=_o(te(e._vs),32);e._vs=ie(n);const s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Mt.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;const o=ie(n);e.s==null?e.s=o:e.s!==o&&Mt.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Mt.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const n=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==n&&Mt.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Ke(e.r)?Mt.throwArgumentError("signature missing or invalid r","signature",r):e.r=bt(e.r,32),e.s==null||!Ke(e.s)?Mt.throwArgumentError("signature missing or invalid s","signature",r):e.s=bt(e.s,32);const t=te(e.s);t[0]>=128&&Mt.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const i=ie(t);e._vs&&(Ke(e._vs)||Mt.throwArgumentError("signature invalid _vs","signature",r),e._vs=bt(e._vs,32)),e._vs==null?e._vs=i:e._vs!==i&&Mt.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function Hl(r){return r=Gn(r),ie(mt([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const pd="bignumber/5.7.0";var So=Kv.BN;const qi=new W(pd),Wl={},gd=9007199254740991;function Qv(r){return r!=null&&(re.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||Ke(r)||typeof r=="bigint"||wn(r))}let md=!1;class re{constructor(e,t){e!==Wl&&qi.throwError("cannot call constructor directly; use BigNumber.from",W.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Er(tt(this).fromTwos(e))}toTwos(e){return Er(tt(this).toTwos(e))}abs(){return this._hex[0]==="-"?re.from(this._hex.substring(1)):this}add(e){return Er(tt(this).add(tt(e)))}sub(e){return Er(tt(this).sub(tt(e)))}div(e){return re.from(e).isZero()&&Jr("division-by-zero","div"),Er(tt(this).div(tt(e)))}mul(e){return Er(tt(this).mul(tt(e)))}mod(e){const t=tt(e);return t.isNeg()&&Jr("division-by-zero","mod"),Er(tt(this).umod(t))}pow(e){const t=tt(e);return t.isNeg()&&Jr("negative-power","pow"),Er(tt(this).pow(t))}and(e){const t=tt(e);return(this.isNegative()||t.isNeg())&&Jr("unbound-bitwise-result","and"),Er(tt(this).and(t))}or(e){const t=tt(e);return(this.isNegative()||t.isNeg())&&Jr("unbound-bitwise-result","or"),Er(tt(this).or(t))}xor(e){const t=tt(e);return(this.isNegative()||t.isNeg())&&Jr("unbound-bitwise-result","xor"),Er(tt(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Jr("negative-width","mask"),Er(tt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Jr("negative-width","shl"),Er(tt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Jr("negative-width","shr"),Er(tt(this).shrn(e))}eq(e){return tt(this).eq(tt(e))}lt(e){return tt(this).lt(tt(e))}lte(e){return tt(this).lte(tt(e))}gt(e){return tt(this).gt(tt(e))}gte(e){return tt(this).gte(tt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return tt(this).isZero()}toNumber(){try{return tt(this).toNumber()}catch{Jr("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return qi.throwError("this platform does not support BigInt",W.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?md||(md=!0,qi.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?qi.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",W.errors.UNEXPECTED_ARGUMENT,{}):qi.throwError("BigNumber.toString does not accept parameters",W.errors.UNEXPECTED_ARGUMENT,{})),tt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof re)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new re(Wl,Co(e)):e.match(/^-?[0-9]+$/)?new re(Wl,Co(new So(e))):qi.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Jr("underflow","BigNumber.from",e),(e>=gd||e<=-gd)&&Jr("overflow","BigNumber.from",e),re.from(String(e));const t=e;if(typeof t=="bigint")return re.from(t.toString());if(wn(t))return re.from(ie(t));if(t)if(t.toHexString){const i=t.toHexString();if(typeof i=="string")return re.from(i)}else{let i=t._hex;if(i==null&&t.type==="BigNumber"&&(i=t.hex),typeof i=="string"&&(Ke(i)||i[0]==="-"&&Ke(i.substring(1))))return re.from(i)}return qi.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function Co(r){if(typeof r!="string")return Co(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&qi.throwArgumentError("invalid hex","value",r),r=Co(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function Er(r){return re.from(Co(r))}function tt(r){const e=re.from(r).toHexString();return e[0]==="-"?new So("-"+e.substring(3),16):new So(e.substring(2),16)}function Jr(r,e,t){const i={fault:r,operation:e};return t!=null&&(i.value=t),qi.throwError(r,W.errors.NUMERIC_FAULT,i)}function Yv(r){return new So(r,36).toString(16)}function Zv(r){return new So(r,16).toString(36)}const mr=new W(pd),Mo={},bd=re.from(0),xd=re.from(-1);function vd(r,e,t,i){const n={fault:e,operation:t};return i!==void 0&&(n.value=i),mr.throwError(r,W.errors.NUMERIC_FAULT,n)}let Io="0";for(;Io.length<256;)Io+=Io;function Kl(r){if(typeof r!="number")try{r=re.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+Io.substring(0,r):mr.throwArgumentError("invalid decimal size","decimals",r)}function Qa(r,e){e==null&&(e=0);const t=Kl(e);r=re.from(r);const i=r.lt(bd);i&&(r=r.mul(xd));let n=r.mod(t).toString();for(;n.length<t.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=r.div(t).toString();return t.length===1?r=s:r=s+"."+n,i&&(r="-"+r),r}function Ai(r,e){e==null&&(e=0);const t=Kl(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&mr.throwArgumentError("invalid decimal value","value",r);const i=r.substring(0,1)==="-";i&&(r=r.substring(1)),r==="."&&mr.throwArgumentError("missing value","value",r);const n=r.split(".");n.length>2&&mr.throwArgumentError("too many decimal points","value",r);let s=n[0],o=n[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&vd("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";const c=re.from(s),l=re.from(o);let h=c.mul(t).add(l);return i&&(h=h.mul(xd)),h}class Bs{constructor(e,t,i,n){e!==Mo&&mr.throwError("cannot use FixedFormat constructor; use FixedFormat.from",W.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=i,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=Kl(n),Object.freeze(this)}static from(e){if(e instanceof Bs)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,i=128,n=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||mr.throwArgumentError("invalid fixed format","format",e),t=s[1]!=="u",i=parseInt(s[2]),n=parseInt(s[3])}}else if(e){const s=(o,c,l)=>e[o]==null?l:(typeof e[o]!==c&&mr.throwArgumentError("invalid fixed format ("+o+" not "+c+")","format."+o,e[o]),e[o]);t=s("signed","boolean",t),i=s("width","number",i),n=s("decimals","number",n)}return i%8&&mr.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&mr.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Bs(Mo,t,i,n)}}class zt{constructor(e,t,i,n){e!==Mo&&mr.throwError("cannot use FixedNumber constructor; use FixedNumber.from",W.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&mr.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Ai(this._value,this.format.decimals),i=Ai(e._value,e.format.decimals);return zt.fromValue(t.add(i),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Ai(this._value,this.format.decimals),i=Ai(e._value,e.format.decimals);return zt.fromValue(t.sub(i),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Ai(this._value,this.format.decimals),i=Ai(e._value,e.format.decimals);return zt.fromValue(t.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Ai(this._value,this.format.decimals),i=Ai(e._value,e.format.decimals);return zt.fromValue(t.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=zt.from(e[0],this.format);const i=!e[1].match(/^(0*)$/);return this.isNegative()&&i&&(t=t.subUnsafe(wd.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=zt.from(e[0],this.format);const i=!e[1].match(/^(0*)$/);return!this.isNegative()&&i&&(t=t.addUnsafe(wd.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&mr.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const i=zt.from("1"+Io.substring(0,e),this.format),n=Xv.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&mr.throwArgumentError("invalid byte width","width",e);const t=re.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return bt(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return zt.fromString(this._value,e)}static fromValue(e,t,i){return i==null&&t!=null&&!Qv(t)&&(i=t,t=null),t==null&&(t=0),i==null&&(i="fixed"),zt.fromString(Qa(e,t),Bs.from(i))}static fromString(e,t){t==null&&(t="fixed");const i=Bs.from(t),n=Ai(e,i.decimals);!i.signed&&n.lt(bd)&&vd("unsigned value cannot be negative","overflow","value",e);let s=null;i.signed?s=n.toTwos(i.width).toHexString():(s=n.toHexString(),s=bt(s,i.width/8));const o=Qa(n,i.decimals);return new zt(Mo,s,o,i)}static fromBytes(e,t){t==null&&(t="fixed");const i=Bs.from(t);if(te(e).length>i.width/8)throw new Error("overflow");let n=re.from(e);i.signed&&(n=n.fromTwos(i.width));const s=n.toTwos((i.signed?0:1)+i.width).toHexString(),o=Qa(n,i.decimals);return new zt(Mo,s,o,i)}static from(e,t){if(typeof e=="string")return zt.fromString(e,t);if(wn(e))return zt.fromBytes(e,t);try{return zt.fromValue(e,0,t)}catch(i){if(i.code!==W.errors.INVALID_ARGUMENT)throw i}return mr.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const wd=zt.from(1),Xv=zt.from("0.5"),ew="properties/5.7.0";var tw=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const Ya=new W(ew);function Q(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Zt(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function It(r){return tw(this,void 0,void 0,function*(){const e=Object.keys(r).map(i=>{const n=r[i];return Promise.resolve(n).then(s=>({key:i,value:s}))});return(yield Promise.all(e)).reduce((i,n)=>(i[n.key]=n.value,i),{})})}function Vl(r,e){(!r||typeof r!="object")&&Ya.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||Ya.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function vt(r){const e={};for(const t in r)e[t]=r[t];return e}const rw={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function yd(r){if(r==null||rw[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let i=null;try{i=r[e[t]]}catch{continue}if(!yd(i))return!1}return!0}return Ya.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function iw(r){if(yd(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>br(e)));if(typeof r=="object"){const e={};for(const t in r){const i=r[t];i!==void 0&&Q(e,t,br(i))}return e}return Ya.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function br(r){return iw(r)}class Jn{constructor(e){for(const t in e)this[t]=br(e[t])}}const Po="abi/5.7.0",rt=new W(Po),Qn={};let Ed={calldata:!0,memory:!0,storage:!0},nw={calldata:!0,memory:!0};function Za(r,e){if(r==="bytes"||r==="string"){if(Ed[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&nw[e])return!0;return(Ed[e]||e==="payable")&&rt.throwArgumentError("invalid modifier","name",e),!1}function sw(r,e){let t=r;function i(c){rt.throwArgumentError(`unexpected character at position ${c}`,"param",r)}r=r.replace(/\s/g," ");function n(c){let l={type:"",name:"",parent:c,state:{allowType:!0}};return e&&(l.indexed=!1),l}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let c=0;c<r.length;c++){let l=r[c];switch(l){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||i(c),o.state.allowType=!1,o.type=$s(o.type),o.components=[n(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||i(c),o.indexed=!0,o.name=""),Za(o.type,o.name)&&(o.name=""),o.type=$s(o.type);let h=o;o=o.parent,o||i(c),delete h.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||i(c),o.indexed=!0,o.name=""),Za(o.type,o.name)&&(o.name=""),o.type=$s(o.type);let p=n(o.parent);o.parent.components.push(p),delete o.parent,o=p;break;case" ":o.state.allowType&&o.type!==""&&(o.type=$s(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||i(c),o.indexed&&i(c),o.indexed=!0,o.name=""):Za(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||i(c),o.type+=l,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||i(c),o.type+=l,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=l,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=l,delete o.state.allowArray):o.state.readArray?o.type+=l:i(c)}}return o.parent&&rt.throwArgumentError("unexpected eof","param",r),delete s.state,o.name==="indexed"?(e||i(t.length-7),o.indexed&&i(t.length-7),o.indexed=!0,o.name=""):Za(o.type,o.name)&&(o.name=""),s.type=$s(s.type),s}function Xa(r,e){for(let t in e)Q(r,t,e[t])}const ot=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),ow=new RegExp(/^(.*)\[([0-9]*)\]$/);class Ft{constructor(e,t){e!==Qn&&rt.throwError("use fromString",W.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Xa(this,t);let i=this.type.match(ow);i?Xa(this,{arrayLength:parseInt(i[2]||"-1"),arrayChildren:Ft.fromObject({type:i[1],components:this.components}),baseType:"array"}):Xa(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=ot.sighash),ot[e]||rt.throwArgumentError("invalid format type","format",e),e===ot.json){let i={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.components&&(i.components=this.components.map(n=>JSON.parse(n.format(e)))),JSON.stringify(i)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==ot.sighash&&(t+=this.type),t+="("+this.components.map(i=>i.format(e)).join(e===ot.full?", ":",")+")"):t+=this.type,e!==ot.sighash&&(this.indexed===!0&&(t+=" indexed"),e===ot.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?Ft.fromString(e,t):Ft.fromObject(e)}static fromObject(e){return Ft.isParamType(e)?e:new Ft(Qn,{name:e.name||null,type:$s(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Ft.fromObject):null})}static fromString(e,t){function i(n){return Ft.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components})}return i(sw(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Ro(r,e){return cw(r).map(t=>Ft.fromString(t,e))}class Si{constructor(e,t){e!==Qn&&rt.throwError("use a static from method",W.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Xa(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Si.isFragment(e)?e:typeof e=="string"?Si.fromString(e):Si.fromObject(e)}static fromObject(e){if(Si.isFragment(e))return e;switch(e.type){case"function":return di.fromObject(e);case"event":return Ci.fromObject(e);case"constructor":return hi.fromObject(e);case"error":return ji.fromObject(e);case"fallback":case"receive":return null}return rt.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?Ci.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?di.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?hi.fromString(e.trim()):e.split(" ")[0]==="error"?ji.fromString(e.substring(5).trim()):rt.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class Ci extends Si{format(e){if(e||(e=ot.sighash),ot[e]||rt.throwArgumentError("invalid format type","format",e),e===ot.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});let t="";return e!==ot.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(i=>i.format(e)).join(e===ot.full?", ":",")+") ",e!==ot.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?Ci.fromString(e):Ci.fromObject(e)}static fromObject(e){if(Ci.isEventFragment(e))return e;e.type!=="event"&&rt.throwArgumentError("invalid event object","value",e);const t={name:Do(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Ft.fromObject):[],type:"event"};return new Ci(Qn,t)}static fromString(e){let t=e.match(No);t||rt.throwArgumentError("invalid event string","value",e);let i=!1;return t[3].split(" ").forEach(n=>{switch(n.trim()){case"anonymous":i=!0;break;case"":break;default:rt.warn("unknown modifier: "+n)}}),Ci.fromObject({name:t[1].trim(),anonymous:i,inputs:Ro(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function _d(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&rt.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||rt.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=re.from(t[1]),t[0]):r}function Ad(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function Sd(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&rt.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&rt.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&rt.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&rt.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&rt.throwArgumentError("unable to determine stateMutability","value",r),e}class hi extends Si{format(e){if(e||(e=ot.sighash),ot[e]||rt.throwArgumentError("invalid format type","format",e),e===ot.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});e===ot.sighash&&rt.throwError("cannot format a constructor for sighash",W.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(i=>i.format(e)).join(e===ot.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?hi.fromString(e):hi.fromObject(e)}static fromObject(e){if(hi.isConstructorFragment(e))return e;e.type!=="constructor"&&rt.throwArgumentError("invalid constructor object","value",e);let t=Sd(e);t.constant&&rt.throwArgumentError("constructor cannot be constant","value",e);const i={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Ft.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?re.from(e.gas):null};return new hi(Qn,i)}static fromString(e){let t={type:"constructor"};e=_d(e,t);let i=e.match(No);return(!i||i[1].trim()!=="constructor")&&rt.throwArgumentError("invalid constructor string","value",e),t.inputs=Ro(i[2].trim(),!1),Ad(i[3].trim(),t),hi.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class di extends hi{format(e){if(e||(e=ot.sighash),ot[e]||rt.throwArgumentError("invalid format type","format",e),e===ot.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(e))),outputs:this.outputs.map(i=>JSON.parse(i.format(e)))});let t="";return e!==ot.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(i=>i.format(e)).join(e===ot.full?", ":",")+") ",e!==ot.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(i=>i.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?di.fromString(e):di.fromObject(e)}static fromObject(e){if(di.isFunctionFragment(e))return e;e.type!=="function"&&rt.throwArgumentError("invalid function object","value",e);let t=Sd(e);const i={type:e.type,name:Do(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Ft.fromObject):[],outputs:e.outputs?e.outputs.map(Ft.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?re.from(e.gas):null};return new di(Qn,i)}static fromString(e){let t={type:"function"};e=_d(e,t);let i=e.split(" returns ");i.length>2&&rt.throwArgumentError("invalid function string","value",e);let n=i[0].match(No);if(n||rt.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&Do(t.name),t.inputs=Ro(n[2],!1),Ad(n[3].trim(),t),i.length>1){let s=i[1].match(No);(s[1].trim()!=""||s[3].trim()!="")&&rt.throwArgumentError("unexpected tokens","value",e),t.outputs=Ro(s[2],!1)}else t.outputs=[];return di.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function Cd(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&rt.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class ji extends Si{format(e){if(e||(e=ot.sighash),ot[e]||rt.throwArgumentError("invalid format type","format",e),e===ot.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});let t="";return e!==ot.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(i=>i.format(e)).join(e===ot.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?ji.fromString(e):ji.fromObject(e)}static fromObject(e){if(ji.isErrorFragment(e))return e;e.type!=="error"&&rt.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:Do(e.name),inputs:e.inputs?e.inputs.map(Ft.fromObject):[]};return Cd(new ji(Qn,t))}static fromString(e){let t={type:"error"},i=e.match(No);return i||rt.throwArgumentError("invalid error signature","value",e),t.name=i[1].trim(),t.name&&Do(t.name),t.inputs=Ro(i[2],!1),Cd(ji.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function $s(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const aw=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Do(r){return(!r||!r.match(aw))&&rt.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const No=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function cw(r){r=r.trim();let e=[],t="",i=0;for(let n=0;n<r.length;n++){let s=r[n];s===","&&i===0?(e.push(t),t=""):(t+=s,s==="("?i++:s===")"&&(i--,i===-1&&rt.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const Gl=new W(Po);function Md(r){const e=[],t=function(i,n){if(Array.isArray(n))for(let s in n){const o=i.slice();o.push(s);try{t(o,n[s])}catch(c){e.push({path:o,error:c})}}};return t([],r),e}class zi{constructor(e,t,i,n){this.name=e,this.type=t,this.localName=i,this.dynamic=n}_throwError(e,t){Gl.throwArgumentError(e,this.localName,t)}}class Jl{constructor(e){Q(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return gr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(mt(e._data))}writeBytes(e){let t=te(e);const i=t.length%this.wordSize;return i&&(t=mt([t,this._padding.slice(i)])),this._writeData(t)}_getValue(e){let t=te(re.from(e));return t.length>this.wordSize&&Gl.throwError("value out-of-bounds",W.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=mt([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class ec{constructor(e,t,i,n){Q(this,"_data",te(e)),Q(this,"wordSize",t||32),Q(this,"_coerceFunc",i),Q(this,"allowLoose",n),this._offset=0}get data(){return ie(this._data)}get consumed(){return this._offset}static coerce(e,t){let i=e.match("^u?int([0-9]+)$");return i&&parseInt(i[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):ec.coerce(e,t)}_peekBytes(e,t,i){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&i&&this._offset+t<=this._data.length?n=t:Gl.throwError("data out-of-bounds",W.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new ec(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let i=this._peekBytes(0,e,!!t);return this._offset+=i.length,i.slice(0,e)}readValue(){return re.from(this.readBytes(this.wordSize))}}var Ql={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var Id;function lw(){return Id||(Id=1,(function(r){(function(){var e="input is invalid type",t="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var s=!i&&typeof self=="object",o=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?n=fi:s&&(n=self);var c=!n.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,l=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",h="0123456789abcdef".split(""),p=[31,7936,2031616,520093696],v=[4,1024,262144,67108864],_=[1,256,65536,16777216],A=[6,1536,393216,100663296],P=[0,8,16,24],S=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],R=[224,256,384,512],B=[128,256],T=["hex","buffer","arrayBuffer","array","digest"],k={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(y){return Object.prototype.toString.call(y)==="[object Array]"}),l&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(y){return typeof y=="object"&&y.buffer&&y.buffer.constructor===ArrayBuffer});for(var I=function(y,L,K){return function(H){return new f(y,L,y).update(H)[K]()}},N=function(y,L,K){return function(H,V){return new f(y,L,V).update(H)[K]()}},C=function(y,L,K){return function(H,V,Z,J){return a["cshake"+y].update(H,V,Z,J)[K]()}},b=function(y,L,K){return function(H,V,Z,J){return a["kmac"+y].update(H,V,Z,J)[K]()}},D=function(y,L,K,H){for(var V=0;V<T.length;++V){var Z=T[V];y[Z]=L(K,H,Z)}return y},U=function(y,L){var K=I(y,L,"hex");return K.create=function(){return new f(y,L,y)},K.update=function(H){return K.create().update(H)},D(K,I,y,L)},j=function(y,L){var K=N(y,L,"hex");return K.create=function(H){return new f(y,L,H)},K.update=function(H,V){return K.create(V).update(H)},D(K,N,y,L)},q=function(y,L){var K=k[y],H=C(y,L,"hex");return H.create=function(V,Z,J){return!Z&&!J?a["shake"+y].create(V):new f(y,L,V).bytepad([Z,J],K)},H.update=function(V,Z,J,Y){return H.create(Z,J,Y).update(V)},D(H,C,y,L)},F=function(y,L){var K=k[y],H=b(y,L,"hex");return H.create=function(V,Z,J){return new x(y,L,Z).bytepad(["KMAC",J],K).bytepad([V],K)},H.update=function(V,Z,J,Y){return H.create(V,J,Y).update(Z)},D(H,b,y,L)},w=[{name:"keccak",padding:_,bits:R,createMethod:U},{name:"sha3",padding:A,bits:R,createMethod:U},{name:"shake",padding:p,bits:B,createMethod:j},{name:"cshake",padding:v,bits:B,createMethod:q},{name:"kmac",padding:v,bits:B,createMethod:F}],a={},u=[],d=0;d<w.length;++d)for(var g=w[d],E=g.bits,M=0;M<E.length;++M){var O=g.name+"_"+E[M];if(u.push(O),a[O]=g.createMethod(E[M],g.padding),g.name!=="sha3"){var m=g.name+E[M];u.push(m),a[m]=a[O]}}function f(y,L,K){this.blocks=[],this.s=[],this.padding=L,this.outputBits=K,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(y<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=K>>5,this.extraBytes=(K&31)>>3;for(var H=0;H<50;++H)this.s[H]=0}f.prototype.update=function(y){if(this.finalized)throw new Error(t);var L,K=typeof y;if(K!=="string"){if(K==="object"){if(y===null)throw new Error(e);if(l&&y.constructor===ArrayBuffer)y=new Uint8Array(y);else if(!Array.isArray(y)&&(!l||!ArrayBuffer.isView(y)))throw new Error(e)}else throw new Error(e);L=!0}for(var H=this.blocks,V=this.byteCount,Z=y.length,J=this.blockCount,Y=0,ye=this.s,X,ne;Y<Z;){if(this.reset)for(this.reset=!1,H[0]=this.block,X=1;X<J+1;++X)H[X]=0;if(L)for(X=this.start;Y<Z&&X<V;++Y)H[X>>2]|=y[Y]<<P[X++&3];else for(X=this.start;Y<Z&&X<V;++Y)ne=y.charCodeAt(Y),ne<128?H[X>>2]|=ne<<P[X++&3]:ne<2048?(H[X>>2]|=(192|ne>>6)<<P[X++&3],H[X>>2]|=(128|ne&63)<<P[X++&3]):ne<55296||ne>=57344?(H[X>>2]|=(224|ne>>12)<<P[X++&3],H[X>>2]|=(128|ne>>6&63)<<P[X++&3],H[X>>2]|=(128|ne&63)<<P[X++&3]):(ne=65536+((ne&1023)<<10|y.charCodeAt(++Y)&1023),H[X>>2]|=(240|ne>>18)<<P[X++&3],H[X>>2]|=(128|ne>>12&63)<<P[X++&3],H[X>>2]|=(128|ne>>6&63)<<P[X++&3],H[X>>2]|=(128|ne&63)<<P[X++&3]);if(this.lastByteIndex=X,X>=V){for(this.start=X-V,this.block=H[J],X=0;X<J;++X)ye[X]^=H[X];$(ye),this.reset=!0}else this.start=X}return this},f.prototype.encode=function(y,L){var K=y&255,H=1,V=[K];for(y=y>>8,K=y&255;K>0;)V.unshift(K),y=y>>8,K=y&255,++H;return L?V.push(H):V.unshift(H),this.update(V),V.length},f.prototype.encodeString=function(y){var L,K=typeof y;if(K!=="string"){if(K==="object"){if(y===null)throw new Error(e);if(l&&y.constructor===ArrayBuffer)y=new Uint8Array(y);else if(!Array.isArray(y)&&(!l||!ArrayBuffer.isView(y)))throw new Error(e)}else throw new Error(e);L=!0}var H=0,V=y.length;if(L)H=V;else for(var Z=0;Z<y.length;++Z){var J=y.charCodeAt(Z);J<128?H+=1:J<2048?H+=2:J<55296||J>=57344?H+=3:(J=65536+((J&1023)<<10|y.charCodeAt(++Z)&1023),H+=4)}return H+=this.encode(H*8),this.update(y),H},f.prototype.bytepad=function(y,L){for(var K=this.encode(L),H=0;H<y.length;++H)K+=this.encodeString(y[H]);var V=L-K%L,Z=[];return Z.length=V,this.update(Z),this},f.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var y=this.blocks,L=this.lastByteIndex,K=this.blockCount,H=this.s;if(y[L>>2]|=this.padding[L&3],this.lastByteIndex===this.byteCount)for(y[0]=y[K],L=1;L<K+1;++L)y[L]=0;for(y[K-1]|=2147483648,L=0;L<K;++L)H[L]^=y[L];$(H)}},f.prototype.toString=f.prototype.hex=function(){this.finalize();for(var y=this.blockCount,L=this.s,K=this.outputBlocks,H=this.extraBytes,V=0,Z=0,J="",Y;Z<K;){for(V=0;V<y&&Z<K;++V,++Z)Y=L[V],J+=h[Y>>4&15]+h[Y&15]+h[Y>>12&15]+h[Y>>8&15]+h[Y>>20&15]+h[Y>>16&15]+h[Y>>28&15]+h[Y>>24&15];Z%y===0&&($(L),V=0)}return H&&(Y=L[V],J+=h[Y>>4&15]+h[Y&15],H>1&&(J+=h[Y>>12&15]+h[Y>>8&15]),H>2&&(J+=h[Y>>20&15]+h[Y>>16&15])),J},f.prototype.arrayBuffer=function(){this.finalize();var y=this.blockCount,L=this.s,K=this.outputBlocks,H=this.extraBytes,V=0,Z=0,J=this.outputBits>>3,Y;H?Y=new ArrayBuffer(K+1<<2):Y=new ArrayBuffer(J);for(var ye=new Uint32Array(Y);Z<K;){for(V=0;V<y&&Z<K;++V,++Z)ye[Z]=L[V];Z%y===0&&$(L)}return H&&(ye[V]=L[V],Y=Y.slice(0,J)),Y},f.prototype.buffer=f.prototype.arrayBuffer,f.prototype.digest=f.prototype.array=function(){this.finalize();for(var y=this.blockCount,L=this.s,K=this.outputBlocks,H=this.extraBytes,V=0,Z=0,J=[],Y,ye;Z<K;){for(V=0;V<y&&Z<K;++V,++Z)Y=Z<<2,ye=L[V],J[Y]=ye&255,J[Y+1]=ye>>8&255,J[Y+2]=ye>>16&255,J[Y+3]=ye>>24&255;Z%y===0&&$(L)}return H&&(Y=Z<<2,ye=L[V],J[Y]=ye&255,H>1&&(J[Y+1]=ye>>8&255),H>2&&(J[Y+2]=ye>>16&255)),J};function x(y,L,K){f.call(this,y,L,K)}x.prototype=new f,x.prototype.finalize=function(){return this.encode(this.outputBits,!0),f.prototype.finalize.call(this)};var $=function(y){var L,K,H,V,Z,J,Y,ye,X,ne,wt,Ee,_e,Bt,ue,fe,nt,he,ce,et,de,le,at,pe,oe,ft,me,ve,ut,ge,Ne,Wr,Te,Ce,Kr,ke,Be,Nr,Ie,Re,Or,De,Pe,ii,$e,Le,ni,Ue,Oe,Tr,Me,Fe,si,qe,je,oi,Se,ze,kr,Br,$r,Lr,Ut;for(H=0;H<48;H+=2)V=y[0]^y[10]^y[20]^y[30]^y[40],Z=y[1]^y[11]^y[21]^y[31]^y[41],J=y[2]^y[12]^y[22]^y[32]^y[42],Y=y[3]^y[13]^y[23]^y[33]^y[43],ye=y[4]^y[14]^y[24]^y[34]^y[44],X=y[5]^y[15]^y[25]^y[35]^y[45],ne=y[6]^y[16]^y[26]^y[36]^y[46],wt=y[7]^y[17]^y[27]^y[37]^y[47],Ee=y[8]^y[18]^y[28]^y[38]^y[48],_e=y[9]^y[19]^y[29]^y[39]^y[49],L=Ee^(J<<1|Y>>>31),K=_e^(Y<<1|J>>>31),y[0]^=L,y[1]^=K,y[10]^=L,y[11]^=K,y[20]^=L,y[21]^=K,y[30]^=L,y[31]^=K,y[40]^=L,y[41]^=K,L=V^(ye<<1|X>>>31),K=Z^(X<<1|ye>>>31),y[2]^=L,y[3]^=K,y[12]^=L,y[13]^=K,y[22]^=L,y[23]^=K,y[32]^=L,y[33]^=K,y[42]^=L,y[43]^=K,L=J^(ne<<1|wt>>>31),K=Y^(wt<<1|ne>>>31),y[4]^=L,y[5]^=K,y[14]^=L,y[15]^=K,y[24]^=L,y[25]^=K,y[34]^=L,y[35]^=K,y[44]^=L,y[45]^=K,L=ye^(Ee<<1|_e>>>31),K=X^(_e<<1|Ee>>>31),y[6]^=L,y[7]^=K,y[16]^=L,y[17]^=K,y[26]^=L,y[27]^=K,y[36]^=L,y[37]^=K,y[46]^=L,y[47]^=K,L=ne^(V<<1|Z>>>31),K=wt^(Z<<1|V>>>31),y[8]^=L,y[9]^=K,y[18]^=L,y[19]^=K,y[28]^=L,y[29]^=K,y[38]^=L,y[39]^=K,y[48]^=L,y[49]^=K,Bt=y[0],ue=y[1],Le=y[11]<<4|y[10]>>>28,ni=y[10]<<4|y[11]>>>28,ve=y[20]<<3|y[21]>>>29,ut=y[21]<<3|y[20]>>>29,Br=y[31]<<9|y[30]>>>23,$r=y[30]<<9|y[31]>>>23,De=y[40]<<18|y[41]>>>14,Pe=y[41]<<18|y[40]>>>14,Ce=y[2]<<1|y[3]>>>31,Kr=y[3]<<1|y[2]>>>31,fe=y[13]<<12|y[12]>>>20,nt=y[12]<<12|y[13]>>>20,Ue=y[22]<<10|y[23]>>>22,Oe=y[23]<<10|y[22]>>>22,ge=y[33]<<13|y[32]>>>19,Ne=y[32]<<13|y[33]>>>19,Lr=y[42]<<2|y[43]>>>30,Ut=y[43]<<2|y[42]>>>30,qe=y[5]<<30|y[4]>>>2,je=y[4]<<30|y[5]>>>2,ke=y[14]<<6|y[15]>>>26,Be=y[15]<<6|y[14]>>>26,he=y[25]<<11|y[24]>>>21,ce=y[24]<<11|y[25]>>>21,Tr=y[34]<<15|y[35]>>>17,Me=y[35]<<15|y[34]>>>17,Wr=y[45]<<29|y[44]>>>3,Te=y[44]<<29|y[45]>>>3,pe=y[6]<<28|y[7]>>>4,oe=y[7]<<28|y[6]>>>4,oi=y[17]<<23|y[16]>>>9,Se=y[16]<<23|y[17]>>>9,Nr=y[26]<<25|y[27]>>>7,Ie=y[27]<<25|y[26]>>>7,et=y[36]<<21|y[37]>>>11,de=y[37]<<21|y[36]>>>11,Fe=y[47]<<24|y[46]>>>8,si=y[46]<<24|y[47]>>>8,ii=y[8]<<27|y[9]>>>5,$e=y[9]<<27|y[8]>>>5,ft=y[18]<<20|y[19]>>>12,me=y[19]<<20|y[18]>>>12,ze=y[29]<<7|y[28]>>>25,kr=y[28]<<7|y[29]>>>25,Re=y[38]<<8|y[39]>>>24,Or=y[39]<<8|y[38]>>>24,le=y[48]<<14|y[49]>>>18,at=y[49]<<14|y[48]>>>18,y[0]=Bt^~fe&he,y[1]=ue^~nt&ce,y[10]=pe^~ft&ve,y[11]=oe^~me&ut,y[20]=Ce^~ke&Nr,y[21]=Kr^~Be&Ie,y[30]=ii^~Le&Ue,y[31]=$e^~ni&Oe,y[40]=qe^~oi&ze,y[41]=je^~Se&kr,y[2]=fe^~he&et,y[3]=nt^~ce&de,y[12]=ft^~ve&ge,y[13]=me^~ut&Ne,y[22]=ke^~Nr&Re,y[23]=Be^~Ie&Or,y[32]=Le^~Ue&Tr,y[33]=ni^~Oe&Me,y[42]=oi^~ze&Br,y[43]=Se^~kr&$r,y[4]=he^~et&le,y[5]=ce^~de&at,y[14]=ve^~ge&Wr,y[15]=ut^~Ne&Te,y[24]=Nr^~Re&De,y[25]=Ie^~Or&Pe,y[34]=Ue^~Tr&Fe,y[35]=Oe^~Me&si,y[44]=ze^~Br&Lr,y[45]=kr^~$r&Ut,y[6]=et^~le&Bt,y[7]=de^~at&ue,y[16]=ge^~Wr&pe,y[17]=Ne^~Te&oe,y[26]=Re^~De&Ce,y[27]=Or^~Pe&Kr,y[36]=Tr^~Fe&ii,y[37]=Me^~si&$e,y[46]=Br^~Lr&qe,y[47]=$r^~Ut&je,y[8]=le^~Bt&fe,y[9]=at^~ue&nt,y[18]=Wr^~pe&ft,y[19]=Te^~oe&me,y[28]=De^~Ce&ke,y[29]=Pe^~Kr&Be,y[38]=Fe^~ii&Le,y[39]=si^~$e&ni,y[48]=Lr^~qe&oi,y[49]=Ut^~je&Se,y[0]^=S[H],y[1]^=S[H+1]};if(c)r.exports=a;else for(d=0;d<u.length;++d)n[u[d]]=a[u[d]]})()})(Ql)),Ql.exports}var fw=lw();const uw=ui(fw);function dt(r){return"0x"+uw.keccak_256(te(r))}const hw="rlp/5.7.0",Mi=new W(hw);function Pd(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function Rd(r,e,t){let i=0;for(let n=0;n<t;n++)i=i*256+r[e+n];return i}function Dd(r){if(Array.isArray(r)){let i=[];if(r.forEach(function(s){i=i.concat(Dd(s))}),i.length<=55)return i.unshift(192+i.length),i;const n=Pd(i.length);return n.unshift(247+n.length),n.concat(i)}Eo(r)||Mi.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(te(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Pd(e.length);return t.unshift(183+t.length),t.concat(e)}function Yn(r){return ie(Dd(r))}function Nd(r,e,t,i){const n=[];for(;t<e+1+i;){const s=Od(r,t);n.push(s.result),t+=s.consumed,t>e+1+i&&Mi.throwError("child data too short",W.errors.BUFFER_OVERRUN,{})}return{consumed:1+i,result:n}}function Od(r,e){if(r.length===0&&Mi.throwError("data too short",W.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&Mi.throwError("data short segment too short",W.errors.BUFFER_OVERRUN,{});const i=Rd(r,e+1,t);return e+1+t+i>r.length&&Mi.throwError("data long segment too short",W.errors.BUFFER_OVERRUN,{}),Nd(r,e,e+1+t,t+i)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&Mi.throwError("data array too short",W.errors.BUFFER_OVERRUN,{}),Nd(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&Mi.throwError("data array too short",W.errors.BUFFER_OVERRUN,{});const i=Rd(r,e+1,t);e+1+t+i>r.length&&Mi.throwError("data array too short",W.errors.BUFFER_OVERRUN,{});const n=ie(r.slice(e+1+t,e+1+t+i));return{consumed:1+t+i,result:n}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&Mi.throwError("data too short",W.errors.BUFFER_OVERRUN,{});const i=ie(r.slice(e+1,e+1+t));return{consumed:1+t,result:i}}return{consumed:1,result:ie(r[e])}}function tc(r){const e=te(r),t=Od(e,0);return t.consumed!==e.length&&Mi.throwArgumentError("invalid rlp data","data",r),t.result}const dw=Object.freeze(Object.defineProperty({__proto__:null,decode:tc,encode:Yn},Symbol.toStringTag,{value:"Module"})),pw="address/5.7.0",yn=new W(pw);function Td(r){Ke(r,20)||yn.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let n=0;n<40;n++)t[n]=e[n].charCodeAt(0);const i=te(dt(t));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(e[n]=e[n].toUpperCase()),(i[n>>1]&15)>=8&&(e[n+1]=e[n+1].toUpperCase());return"0x"+e.join("")}const gw=9007199254740991;function mw(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const Yl={};for(let r=0;r<10;r++)Yl[String(r)]=String(r);for(let r=0;r<26;r++)Yl[String.fromCharCode(65+r)]=String(10+r);const kd=Math.floor(mw(gw));function Bd(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(i=>Yl[i]).join("");for(;e.length>=kd;){let i=e.substring(0,kd);e=parseInt(i,10)%97+e.substring(i.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function ht(r){let e=null;if(typeof r!="string"&&yn.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=Td(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&yn.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==Bd(r)&&yn.throwArgumentError("bad icap checksum","address",r),e=Yv(r.substring(4));e.length<40;)e="0"+e;e=Td("0x"+e)}else yn.throwArgumentError("invalid address","address",r);return e}function bw(r){try{return ht(r),!0}catch{}return!1}function xw(r){let e=Zv(ht(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+Bd("XE00"+e)+e}function rc(r){let e=null;try{e=ht(r.from)}catch{yn.throwArgumentError("missing from address","transaction",r)}const t=Ei(te(re.from(r.nonce).toHexString()));return ht(Dt(dt(Yn([e,t])),12))}function vw(r,e,t){return _i(e)!==32&&yn.throwArgumentError("salt must be 32 bytes","salt",e),_i(t)!==32&&yn.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),ht(Dt(dt(mt(["0xff",ht(r),e,t])),12))}class ww extends zi{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=ht(t)}catch(i){this._throwError(i.message,t)}return e.writeValue(t)}decode(e){return ht(bt(e.readValue().toHexString(),20))}}class yw extends zi{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Ls=new W(Po);function $d(r,e,t){let i=null;if(Array.isArray(t))i=t;else if(t&&typeof t=="object"){let l={};i=e.map(h=>{const p=h.localName;return p||Ls.throwError("cannot encode object for signature with missing names",W.errors.INVALID_ARGUMENT,{argument:"values",coder:h,value:t}),l[p]&&Ls.throwError("cannot encode object for signature with duplicate names",W.errors.INVALID_ARGUMENT,{argument:"values",coder:h,value:t}),l[p]=!0,t[p]})}else Ls.throwArgumentError("invalid tuple value","tuple",t);e.length!==i.length&&Ls.throwArgumentError("types/value length mismatch","tuple",t);let n=new Jl(r.wordSize),s=new Jl(r.wordSize),o=[];e.forEach((l,h)=>{let p=i[h];if(l.dynamic){let v=s.length;l.encode(s,p);let _=n.writeUpdatableValue();o.push(A=>{_(A+v)})}else l.encode(n,p)}),o.forEach(l=>{l(n.length)});let c=r.appendWriter(n);return c+=r.appendWriter(s),c}function Ld(r,e){let t=[],i=r.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let c=r.readValue(),l=i.subReader(c.toNumber());try{o=s.decode(l)}catch(h){if(h.code===W.errors.BUFFER_OVERRUN)throw h;o=h,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(r)}catch(c){if(c.code===W.errors.BUFFER_OVERRUN)throw c;o=c,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&t.push(o)});const n=e.reduce((s,o)=>{const c=o.localName;return c&&(s[c]||(s[c]=0),s[c]++),s},{});e.forEach((s,o)=>{let c=s.localName;if(!c||n[c]!==1||(c==="length"&&(c="_length"),t[c]!=null))return;const l=t[o];l instanceof Error?Object.defineProperty(t,c,{enumerable:!0,get:()=>{throw l}}):t[c]=l});for(let s=0;s<t.length;s++){const o=t[s];o instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(t)}class Ew extends zi{constructor(e,t,i){const n=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",n,i,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let i=0;i<this.length;i++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let i=this.length;i===-1&&(i=t.length,e.writeValue(t.length)),Ls.checkArgumentCount(t.length,i,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let s=0;s<t.length;s++)n.push(this.coder);return $d(e,n,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&Ls.throwError("insufficient data length",W.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let i=[];for(let n=0;n<t;n++)i.push(new yw(this.coder));return e.coerce(this.name,Ld(e,i))}}class _w extends zi{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Ud extends zi{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=te(t);let i=e.writeValue(t.length);return i+=e.writeBytes(t),i}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Aw extends Ud{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,ie(super.decode(e)))}}class Sw extends zi{constructor(e,t){let i="bytes"+String(e);super(i,i,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let i=te(t);return i.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(i)}decode(e){return e.coerce(this.name,ie(e.readBytes(this.size)))}}class Cw extends zi{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Fd="0x0000000000000000000000000000000000000000",qd=re.from(-1),Zl=re.from(0),jd=re.from(1),Mw=re.from(2),Iw=re.from("1000000000000000000"),zd=re.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Pw=re.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),Rw=re.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Xl="0x0000000000000000000000000000000000000000000000000000000000000000",Dw=Object.freeze(Object.defineProperty({__proto__:null,AddressZero:Fd,EtherSymbol:"Ξ",HashZero:Xl,MaxInt256:Rw,MaxUint256:zd,MinInt256:Pw,NegativeOne:qd,One:jd,Two:Mw,WeiPerEther:Iw,Zero:Zl},Symbol.toStringTag,{value:"Module"}));class Nw extends zi{constructor(e,t,i){const n=(t?"int":"uint")+e*8;super(n,n,i,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let i=re.from(t),n=zd.mask(e.wordSize*8);if(this.signed){let s=n.mask(this.size*8-1);(i.gt(s)||i.lt(s.add(jd).mul(qd)))&&this._throwError("value out-of-bounds",t)}else(i.lt(Zl)||i.gt(n.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return i=i.toTwos(this.size*8).mask(this.size*8),this.signed&&(i=i.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(i)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const Ow="strings/5.7.0",Hd=new W(Ow);var Ii;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(Ii||(Ii={}));var _r;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(_r||(_r={}));function Tw(r,e,t,i,n){return Hd.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Wd(r,e,t,i,n){if(r===_r.BAD_PREFIX||r===_r.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)s++;return s}return r===_r.OVERRUN?t.length-e-1:0}function kw(r,e,t,i,n){return r===_r.OVERLONG?(i.push(n),0):(i.push(65533),Wd(r,e,t))}const Kd=Object.freeze({error:Tw,ignore:Wd,replace:kw});function e0(r,e){e==null&&(e=Kd.error),r=te(r);const t=[];let i=0;for(;i<r.length;){const n=r[i++];if(n>>7===0){t.push(n);continue}let s=null,o=null;if((n&224)===192)s=1,o=127;else if((n&240)===224)s=2,o=2047;else if((n&248)===240)s=3,o=65535;else{(n&192)===128?i+=e(_r.UNEXPECTED_CONTINUE,i-1,r,t):i+=e(_r.BAD_PREFIX,i-1,r,t);continue}if(i-1+s>=r.length){i+=e(_r.OVERRUN,i-1,r,t);continue}let c=n&(1<<8-s-1)-1;for(let l=0;l<s;l++){let h=r[i];if((h&192)!=128){i+=e(_r.MISSING_CONTINUE,i,r,t),c=null;break}c=c<<6|h&63,i++}if(c!==null){if(c>1114111){i+=e(_r.OUT_OF_RANGE,i-1-s,r,t,c);continue}if(c>=55296&&c<=57343){i+=e(_r.UTF16_SURROGATE,i-1-s,r,t,c);continue}if(c<=o){i+=e(_r.OVERLONG,i-1-s,r,t,c);continue}t.push(c)}}return t}function Nt(r,e=Ii.current){e!=Ii.current&&(Hd.checkNormalize(),r=r.normalize(e));let t=[];for(let i=0;i<r.length;i++){const n=r.charCodeAt(i);if(n<128)t.push(n);else if(n<2048)t.push(n>>6|192),t.push(n&63|128);else if((n&64512)==55296){i++;const s=r.charCodeAt(i);if(i>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((n&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(n>>12|224),t.push(n>>6&63|128),t.push(n&63|128)}return te(t)}function t0(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function Bw(r,e){return'"'+e0(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?t0(t):(t-=65536,t0((t>>10&1023)+55296)+t0((t&1023)+56320))}).join("")+'"'}function r0(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Zn(r,e){return r0(e0(r,e))}function ic(r,e=Ii.current){return e0(Nt(r,e))}function $w(r){const e=Nt(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return ie(mt([e,Xl]).slice(0,32))}function Lw(r){const e=te(r);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return Zn(e.slice(0,t))}function Uw(r){if(r.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function i0(r,e){e||(e=function(n){return[parseInt(n,16)]});let t=0,i={};return r.split(",").forEach(n=>{let s=n.split(":");t+=parseInt(s[0],16),i[t]=e(s[1])}),i}function Vd(r){let e=0;return r.split(",").map(t=>{let i=t.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=e+parseInt(i[0],16);return e=parseInt(i[1],16),{l:n,h:e}})}function n0(r,e){let t=0;for(let i=0;i<e.length;i++){let n=e[i];if(t+=n.l,r>=t&&r<=t+n.h&&(r-t)%(n.d||1)===0){if(n.e&&n.e.indexOf(r-t)!==-1)continue;return n}}return null}const Fw=Vd("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),qw="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),jw=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],zw=i0("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Hw=i0("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Ww=i0("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Uw),Kw=Vd("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Vw(r){return r.reduce((e,t)=>(t.forEach(i=>{e.push(i)}),e),[])}function Gw(r){return!!n0(r,Fw)}function Jw(r){let e=n0(r,jw);if(e)return[r+e.s];let t=zw[r];if(t)return t;let i=Hw[r];if(i)return[r+i[0]];let n=Ww[r];return n||null}function Qw(r){return!!n0(r,Kw)}function Yw(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=ic(r);e=Vw(e.map(i=>{if(qw.indexOf(i)>=0)return[];if(i>=65024&&i<=65039)return[];let n=Jw(i);return n||[i]})),e=ic(r0(e),Ii.NFKC),e.forEach(i=>{if(Qw(i))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(i=>{if(Gw(i))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=r0(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}class Zw extends Ud{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Nt(t))}decode(e){return Zn(super.decode(e))}}class nc extends zi{constructor(e,t){let i=!1;const n=[];e.forEach(o=>{o.dynamic&&(i=!0),n.push(o.type)});const s="tuple("+n.join(",")+")";super("tuple",s,t,i),this.coders=e}defaultValue(){const e=[];this.coders.forEach(i=>{e.push(i.defaultValue())});const t=this.coders.reduce((i,n)=>{const s=n.localName;return s&&(i[s]||(i[s]=0),i[s]++),i},{});return this.coders.forEach((i,n)=>{let s=i.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[n]))}),Object.freeze(e)}encode(e,t){return $d(e,this.coders,t)}decode(e){return e.coerce(this.name,Ld(e,this.coders))}}const sc=new W(Po),Xw=new RegExp(/^bytes([0-9]*)$/),ey=new RegExp(/^(u?int)([0-9]*)$/);class Gd{constructor(e){Q(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new ww(e.name);case"bool":return new _w(e.name);case"string":return new Zw(e.name);case"bytes":return new Aw(e.name);case"array":return new Ew(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new nc((e.components||[]).map(i=>this._getCoder(i)),e.name);case"":return new Cw(e.name)}let t=e.type.match(ey);if(t){let i=parseInt(t[2]||"256");return(i===0||i>256||i%8!==0)&&sc.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Nw(i/8,t[1]==="int",e.name)}if(t=e.type.match(Xw),t){let i=parseInt(t[1]);return(i===0||i>32)&&sc.throwArgumentError("invalid bytes length","param",e),new Sw(i,e.name)}return sc.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new ec(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Jl(this._getWordSize())}getDefaultValue(e){const t=e.map(n=>this._getCoder(Ft.from(n)));return new nc(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&sc.throwError("types/values length mismatch",W.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const i=e.map(o=>this._getCoder(Ft.from(o))),n=new nc(i,"_"),s=this._getWriter();return n.encode(s,t),s.data}decode(e,t,i){const n=e.map(o=>this._getCoder(Ft.from(o)));return new nc(n,"_").decode(this._getReader(te(t),i))}}const Jd=new Gd;function En(r){return dt(Nt(r))}const Qd="hash/5.7.0";function s0(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return te(e)}function o0(r){r=te(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}const ty=Object.freeze(Object.defineProperty({__proto__:null,decode:s0,encode:o0},Symbol.toStringTag,{value:"Module"}));function Yd(r,e){e==null&&(e=1);const t=[],i=t.forEach,n=function(s,o){i.call(s,function(c){o>0&&Array.isArray(c)?n(c,o-1):t.push(c)})};return n(r,e),t}function ry(r){const e={};for(let t=0;t<r.length;t++){const i=r[t];e[i[0]]=i[1]}return e}function iy(r){let e=0;function t(){return r[e++]<<8|r[e++]}let i=t(),n=1,s=[0,1];for(let N=1;N<i;N++)s.push(n+=t());let o=t(),c=e;e+=o;let l=0,h=0;function p(){return l==0&&(h=h<<8|r[e++],l=8),h>>--l&1}const v=31,_=Math.pow(2,v),A=_>>>1,P=A>>1,S=_-1;let R=0;for(let N=0;N<v;N++)R=R<<1|p();let B=[],T=0,k=_;for(;;){let N=Math.floor(((R-T+1)*n-1)/k),C=0,b=i;for(;b-C>1;){let j=C+b>>>1;N<s[j]?b=j:C=j}if(C==0)break;B.push(C);let D=T+Math.floor(k*s[C]/n),U=T+Math.floor(k*s[C+1]/n)-1;for(;((D^U)&A)==0;)R=R<<1&S|p(),D=D<<1&S,U=U<<1&S|1;for(;D&~U&P;)R=R&A|R<<1&S>>>1|p(),D=D<<1^A,U=(U^A)<<1|A|1;T=D,k=1+U-D}let I=i-4;return B.map(N=>{switch(N-I){case 3:return I+65792+(r[c++]<<16|r[c++]<<8|r[c++]);case 2:return I+256+(r[c++]<<8|r[c++]);case 1:return I+r[c++];default:return N-1}})}function ny(r){let e=0;return()=>r[e++]}function sy(r){return ny(iy(r))}function oy(r){return r&1?~r>>1:r>>1}function ay(r,e){let t=Array(r);for(let i=0;i<r;i++)t[i]=1+e();return t}function Zd(r,e){let t=Array(r);for(let i=0,n=-1;i<r;i++)t[i]=n+=1+e();return t}function cy(r,e){let t=Array(r);for(let i=0,n=0;i<r;i++)t[i]=n+=oy(e());return t}function oc(r,e){let t=Zd(r(),r),i=r(),n=Zd(i,r),s=ay(i,r);for(let o=0;o<i;o++)for(let c=0;c<s[o];c++)t.push(n[o]+c);return e?t.map(o=>e[o]):t}function ly(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(uy(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(hy(t,r))}return ry(Yd(e))}function fy(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(t)}return e}function Xd(r,e,t){let i=Array(r).fill(void 0).map(()=>[]);for(let n=0;n<e;n++)cy(r,t).forEach((s,o)=>i[o].push(s));return i}function uy(r,e){let t=1+e(),i=e(),n=fy(e),s=Xd(n.length,1+r,e);return Yd(s.map((o,c)=>{const l=o[0],h=o.slice(1);return Array(n[c]).fill(void 0).map((p,v)=>{let _=v*i;return[l+v*t,h.map(A=>A+_)]})}))}function hy(r,e){let t=1+e();return Xd(t,1+r,e).map(n=>[n[0],n.slice(1)])}function dy(r){let e=oc(r).sort((i,n)=>i-n);return t();function t(){let i=[];for(;;){let h=oc(r,e);if(h.length==0)break;i.push({set:new Set(h),node:t()})}i.sort((h,p)=>p.set.size-h.set.size);let n=r(),s=n%3;n=n/3|0;let o=!!(n&1);n>>=1;let c=n==1,l=n==2;return{branches:i,valid:s,fe0f:o,save:c,check:l}}}function py(){return sy(s0("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const ac=py(),gy=new Set(oc(ac)),my=new Set(oc(ac)),by=ly(ac),xy=dy(ac),e1=45,t1=95;function r1(r){return ic(r)}function vy(r){return r.filter(e=>e!=65039)}function i1(r){for(let e of r.split(".")){let t=r1(e);try{for(let i=t.lastIndexOf(t1)-1;i>=0;i--)if(t[i]!==t1)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(i=>i<128)&&t[2]===e1&&t[3]===e1)throw new Error("invalid label extension")}catch(i){throw new Error(`Invalid label "${e}": ${i.message}`)}}return r}function wy(r){return i1(yy(r,vy))}function yy(r,e){let t=r1(r).reverse(),i=[];for(;t.length;){let n=_y(t);if(n){i.push(...e(n));continue}let s=t.pop();if(gy.has(s)){i.push(s);continue}if(my.has(s))continue;let o=by[s];if(o){i.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return i1(Ey(String.fromCodePoint(...i)))}function Ey(r){return r.normalize("NFC")}function _y(r,e){var t;let i=xy,n,s,o=[],c=r.length;for(;c;){let l=r[--c];if(i=(t=i.branches.find(h=>h.set.has(l)))===null||t===void 0?void 0:t.node,!i)break;if(i.save)s=l;else if(i.check&&l===s)break;o.push(l),i.fe0f&&(o.push(65039),c>0&&r[c-1]==65039&&c--),i.valid&&(n=o.slice(),i.valid==2&&n.splice(1,1),r.length=c)}return n}const Ay=new W(Qd),n1=new Uint8Array(32);n1.fill(0);function s1(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function a0(r){const e=Nt(wy(r)),t=[];if(r.length===0)return t;let i=0;for(let n=0;n<e.length;n++)e[n]===46&&(t.push(s1(e.slice(i,n))),i=n+1);if(i>=e.length)throw new Error("invalid ENS name; empty component");return t.push(s1(e.slice(i))),t}function Sy(r){try{return a0(r).length!==0}catch{}return!1}function Oo(r){typeof r!="string"&&Ay.throwArgumentError("invalid ENS name; not a string","name",r);let e=n1;const t=a0(r);for(;t.length;)e=dt(mt([e,dt(t.pop())]));return ie(e)}function o1(r){return ie(mt(a0(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const Cy=`Ethereum Signed Message:
`;function c0(r){return typeof r=="string"&&(r=Nt(r)),dt(mt([Nt(Cy),Nt(String(r.length)),r]))}var My=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const _t=new W(Qd),a1=new Uint8Array(32);a1.fill(0);const Iy=re.from(-1),c1=re.from(0),l1=re.from(1),Py=re.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ry(r){const e=te(r),t=e.length%32;return t?gr([e,a1.slice(t)]):ie(e)}const Dy=bt(l1.toHexString(),32),Ny=bt(c1.toHexString(),32),f1={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},l0=["name","version","chainId","verifyingContract","salt"];function u1(r){return function(e){return typeof e!="string"&&_t.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const Oy={name:u1("name"),version:u1("version"),chainId:function(r){try{return re.from(r).toString()}catch{}return _t.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return ht(r).toLowerCase()}catch{}return _t.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=te(r);if(e.length!==32)throw new Error("bad length");return ie(e)}catch{}return _t.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function f0(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",i=parseInt(e[2]||"256");(i%8!==0||i>256||e[2]&&e[2]!==String(i))&&_t.throwArgumentError("invalid numeric width","type",r);const n=Py.mask(t?i-1:i),s=t?n.add(l1).mul(Iy):c1;return function(o){const c=re.from(o);return(c.lt(s)||c.gt(n))&&_t.throwArgumentError(`value out-of-bounds for ${r}`,"value",o),bt(c.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&_t.throwArgumentError("invalid bytes width","type",r),function(i){return te(i).length!==t&&_t.throwArgumentError(`invalid length for ${r}`,"value",i),Ry(i)}}}switch(r){case"address":return function(e){return bt(ht(e),32)};case"bool":return function(e){return e?Dy:Ny};case"bytes":return function(e){return dt(e)};case"string":return function(e){return En(e)}}return null}function h1(r,e){return`${r}(${e.map(({name:t,type:i})=>i+" "+t).join(",")})`}class Xt{constructor(e){Q(this,"types",Object.freeze(br(e))),Q(this,"_encoderCache",{}),Q(this,"_types",{});const t={},i={},n={};Object.keys(e).forEach(c=>{t[c]={},i[c]=[],n[c]={}});for(const c in e){const l={};e[c].forEach(h=>{l[h.name]&&_t.throwArgumentError(`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(c)}`,"types",e),l[h.name]=!0;const p=h.type.match(/^([^\x5b]*)(\x5b|$)/)[1];p===c&&_t.throwArgumentError(`circular type reference to ${JSON.stringify(p)}`,"types",e),!f0(p)&&(i[p]||_t.throwArgumentError(`unknown type ${JSON.stringify(p)}`,"types",e),i[p].push(c),t[c][p]=!0)})}const s=Object.keys(i).filter(c=>i[c].length===0);s.length===0?_t.throwArgumentError("missing primary type","types",e):s.length>1&&_t.throwArgumentError(`ambiguous primary types or unused types: ${s.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Q(this,"primaryType",s[0]);function o(c,l){l[c]&&_t.throwArgumentError(`circular type reference to ${JSON.stringify(c)}`,"types",e),l[c]=!0,Object.keys(t[c]).forEach(h=>{i[h]&&(o(h,l),Object.keys(l).forEach(p=>{n[p][h]=!0}))}),delete l[c]}o(this.primaryType,{});for(const c in n){const l=Object.keys(n[c]);l.sort(),this._types[c]=h1(c,e[c])+l.map(h=>h1(h,e[h])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const n=f0(e);if(n)return n}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const n=t[1],s=this.getEncoder(n),o=parseInt(t[3]);return c=>{o>=0&&c.length!==o&&_t.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",c);let l=c.map(s);return this._types[n]&&(l=l.map(dt)),dt(gr(l))}}const i=this.types[e];if(i){const n=En(this._types[e]);return s=>{const o=i.map(({name:c,type:l})=>{const h=this.getEncoder(l)(s[c]);return this._types[l]?dt(h):h});return o.unshift(n),gr(o)}}return _t.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||_t.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return dt(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,i){if(f0(e))return i(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const o=n[1],c=parseInt(n[3]);return c>=0&&t.length!==c&&_t.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(l=>this._visit(o,l,i))}const s=this.types[e];return s?s.reduce((o,{name:c,type:l})=>(o[c]=this._visit(l,t[c],i),o),{}):_t.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Xt(e)}static getPrimaryType(e){return Xt.from(e).primaryType}static hashStruct(e,t,i){return Xt.from(t).hashStruct(e,i)}static hashDomain(e){const t=[];for(const i in e){const n=f1[i];n||_t.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e),t.push({name:i,type:n})}return t.sort((i,n)=>l0.indexOf(i.name)-l0.indexOf(n.name)),Xt.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,i){return gr(["0x1901",Xt.hashDomain(e),Xt.from(t).hash(i)])}static hash(e,t,i){return dt(Xt.encode(e,t,i))}static resolveNames(e,t,i,n){return My(this,void 0,void 0,function*(){e=vt(e);const s={};e.verifyingContract&&!Ke(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Xt.from(t);o.visit(i,(c,l)=>(c==="address"&&!Ke(l,20)&&(s[l]="0x"),l));for(const c in s)s[c]=yield n(c);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),i=o.visit(i,(c,l)=>c==="address"&&s[l]?s[l]:l),{domain:e,value:i}})}static getPayload(e,t,i){Xt.hashDomain(e);const n={},s=[];l0.forEach(l=>{const h=e[l];h!=null&&(n[l]=Oy[l](h),s.push({name:l,type:f1[l]}))});const o=Xt.from(t),c=vt(t);return c.EIP712Domain?_t.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):c.EIP712Domain=s,o.encode(i),{types:c,domain:n,primaryType:o.primaryType,message:o.visit(i,(l,h)=>{if(l.match(/^bytes(\d*)/))return ie(te(h));if(l.match(/^u?int/))return re.from(h).toString();switch(l){case"address":return h.toLowerCase();case"bool":return!!h;case"string":return typeof h!="string"&&_t.throwArgumentError("invalid string","value",h),h}return _t.throwArgumentError("unsupported type","type",l)})}}}const At=new W(Po);class d1 extends Jn{}class p1 extends Jn{}class Ty extends Jn{}class cc extends Jn{static isIndexed(e){return!!(e&&e._isIndexed)}}const ky={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function g1(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class u0{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,Q(this,"fragments",t.map(i=>Si.from(i)).filter(i=>i!=null)),Q(this,"_abiCoder",Zt(new.target,"getAbiCoder")()),Q(this,"functions",{}),Q(this,"errors",{}),Q(this,"events",{}),Q(this,"structs",{}),this.fragments.forEach(i=>{let n=null;switch(i.type){case"constructor":if(this.deploy){At.warn("duplicate definition - constructor");return}Q(this,"deploy",i);return;case"function":n=this.functions;break;case"event":n=this.events;break;case"error":n=this.errors;break;default:return}let s=i.format();if(n[s]){At.warn("duplicate definition - "+s);return}n[s]=i}),this.deploy||Q(this,"deploy",hi.from({payable:!1,type:"constructor"})),Q(this,"_isInterface",!0)}format(e){e||(e=ot.full),e===ot.sighash&&At.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(i=>i.format(e));return e===ot.json?JSON.stringify(t.map(i=>JSON.parse(i))):t}static getAbiCoder(){return Jd}static getAddress(e){return ht(e)}static getSighash(e){return Dt(En(e.format()),0,4)}static getEventTopic(e){return En(e.format())}getFunction(e){if(Ke(e)){for(const i in this.functions)if(e===this.getSighash(i))return this.functions[i];At.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const i=e.trim(),n=Object.keys(this.functions).filter(s=>s.split("(")[0]===i);return n.length===0?At.throwArgumentError("no matching function","name",i):n.length>1&&At.throwArgumentError("multiple matching functions","name",i),this.functions[n[0]]}const t=this.functions[di.fromString(e).format()];return t||At.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Ke(e)){const i=e.toLowerCase();for(const n in this.events)if(i===this.getEventTopic(n))return this.events[n];At.throwArgumentError("no matching event","topichash",i)}if(e.indexOf("(")===-1){const i=e.trim(),n=Object.keys(this.events).filter(s=>s.split("(")[0]===i);return n.length===0?At.throwArgumentError("no matching event","name",i):n.length>1&&At.throwArgumentError("multiple matching events","name",i),this.events[n[0]]}const t=this.events[Ci.fromString(e).format()];return t||At.throwArgumentError("no matching event","signature",e),t}getError(e){if(Ke(e)){const i=Zt(this.constructor,"getSighash");for(const n in this.errors){const s=this.errors[n];if(e===i(s))return this.errors[n]}At.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const i=e.trim(),n=Object.keys(this.errors).filter(s=>s.split("(")[0]===i);return n.length===0?At.throwArgumentError("no matching error","name",i):n.length>1&&At.throwArgumentError("multiple matching errors","name",i),this.errors[n[0]]}const t=this.errors[di.fromString(e).format()];return t||At.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return Zt(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Zt(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const i=te(t);return ie(i.slice(0,4))!==this.getSighash(e)&&At.throwArgumentError(`data signature does not match error ${e.name}.`,"data",ie(i)),this._decodeParams(e.inputs,i.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),ie(mt([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const i=te(t);return ie(i.slice(0,4))!==this.getSighash(e)&&At.throwArgumentError(`data signature does not match function ${e.name}.`,"data",ie(i)),this._decodeParams(e.inputs,i.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ie(mt([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let i=te(t),n=null,s="",o=null,c=null,l=null;switch(i.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,i)}catch{}break;case 4:{const h=ie(i.slice(0,4)),p=ky[h];if(p)o=this._abiCoder.decode(p.inputs,i.slice(4)),c=p.name,l=p.signature,p.reason&&(n=o[0]),c==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:c==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const v=this.getError(h);o=this._abiCoder.decode(v.inputs,i.slice(4)),c=v.name,l=v.format()}catch{}break}}return At.throwError("call revert exception"+s,W.errors.CALL_EXCEPTION,{method:e.format(),data:ie(t),errorArgs:o,errorName:c,errorSignature:l,reason:n})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),ie(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&At.throwError("too many arguments for "+e.format(),W.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let i=[];e.anonymous||i.push(this.getEventTopic(e));const n=(s,o)=>s.type==="string"?En(o):s.type==="bytes"?dt(ie(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=re.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),bt(ie(o),32));for(t.forEach((s,o)=>{let c=e.inputs[o];if(!c.indexed){s!=null&&At.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+c.name,s);return}s==null?i.push(null):c.baseType==="array"||c.baseType==="tuple"?At.throwArgumentError("filtering with tuples or arrays not supported","contract."+c.name,s):Array.isArray(s)?i.push(s.map(l=>n(c,l))):i.push(n(c,s))});i.length&&i[i.length-1]===null;)i.pop();return i}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const i=[],n=[],s=[];return e.anonymous||i.push(this.getEventTopic(e)),t.length!==e.inputs.length&&At.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((o,c)=>{const l=t[c];if(o.indexed)if(o.type==="string")i.push(En(l));else if(o.type==="bytes")i.push(dt(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");i.push(this._abiCoder.encode([o.type],[l]))}else n.push(o),s.push(l)}),{data:this._abiCoder.encode(n,s),topics:i}}decodeEventLog(e,t,i){if(typeof e=="string"&&(e=this.getEvent(e)),i!=null&&!e.anonymous){let _=this.getEventTopic(e);(!Ke(i[0],32)||i[0].toLowerCase()!==_)&&At.throwError("fragment/topic mismatch",W.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:_,value:i[0]}),i=i.slice(1)}let n=[],s=[],o=[];e.inputs.forEach((_,A)=>{_.indexed?_.type==="string"||_.type==="bytes"||_.baseType==="tuple"||_.baseType==="array"?(n.push(Ft.fromObject({type:"bytes32",name:_.name})),o.push(!0)):(n.push(_),o.push(!1)):(s.push(_),o.push(!1))});let c=i!=null?this._abiCoder.decode(n,mt(i)):null,l=this._abiCoder.decode(s,t,!0),h=[],p=0,v=0;e.inputs.forEach((_,A)=>{if(_.indexed)if(c==null)h[A]=new cc({_isIndexed:!0,hash:null});else if(o[A])h[A]=new cc({_isIndexed:!0,hash:c[v++]});else try{h[A]=c[v++]}catch(P){h[A]=P}else try{h[A]=l[p++]}catch(P){h[A]=P}if(_.name&&h[_.name]==null){const P=h[A];P instanceof Error?Object.defineProperty(h,_.name,{enumerable:!0,get:()=>{throw g1(`property ${JSON.stringify(_.name)}`,P)}}):h[_.name]=P}});for(let _=0;_<h.length;_++){const A=h[_];A instanceof Error&&Object.defineProperty(h,_,{enumerable:!0,get:()=>{throw g1(`index ${_}`,A)}})}return Object.freeze(h)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new p1({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:re.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new d1({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=ie(e);let i=this.getError(t.substring(0,10).toLowerCase());return i?new Ty({args:this._abiCoder.decode(i.inputs,"0x"+t.substring(10)),errorFragment:i,name:i.name,signature:i.format(),sighash:this.getSighash(i)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const By="abstract-provider/5.7.0";var $y=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const Ly=new W(By);class Uy extends Jn{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Xn{constructor(){Ly.checkAbstract(new.target,Xn),Q(this,"_isProvider",!0)}getFeeData(){return $y(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield It({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let i=null,n=null,s=null;return e&&e.baseFeePerGas&&(i=e.baseFeePerGas,s=re.from("1500000000"),n=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:i,maxFeePerGas:n,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const Fy="abstract-signer/5.7.0";var pi=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const Qr=new W(Fy),qy=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],jy=[W.errors.INSUFFICIENT_FUNDS,W.errors.NONCE_EXPIRED,W.errors.REPLACEMENT_UNDERPRICED];class _n{constructor(){Qr.checkAbstract(new.target,_n),Q(this,"_isSigner",!0)}getBalance(e){return pi(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return pi(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return pi(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield It(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return pi(this,void 0,void 0,function*(){this._checkProvider("call");const i=yield It(this.checkTransaction(e));return yield this.provider.call(i,t)})}sendTransaction(e){return pi(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),i=yield this.signTransaction(t);return yield this.provider.sendTransaction(i)})}getChainId(){return pi(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return pi(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return pi(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return pi(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const i in e)qy.indexOf(i)===-1&&Qr.throwArgumentError("invalid transaction key: "+i,"transaction",e);const t=vt(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(i=>(i[0].toLowerCase()!==i[1].toLowerCase()&&Qr.throwArgumentError("from address mismatch","transaction",e),i[0])),t}populateTransaction(e){return pi(this,void 0,void 0,function*(){const t=yield It(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(n=>pi(this,void 0,void 0,function*(){if(n==null)return null;const s=yield this.resolveName(n);return s==null&&Qr.throwArgumentError("provided ENS name resolves to null","tx.to",n),s})),t.to.catch(n=>{}));const i=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||i)?Qr.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&i&&Qr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const n=yield this.getFeeData();if(t.type==null)if(n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=n.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas);else n.gasPrice!=null?(i&&Qr.throwError("network does not support EIP-1559",W.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=n.gasPrice),t.type=0):Qr.throwError("failed to get consistent fee data",W.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=n.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(n=>{if(jy.indexOf(n.code)>=0)throw n;return Qr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",W.errors.UNPREDICTABLE_GAS_LIMIT,{error:n,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(n=>(n[1]!==0&&n[0]!==n[1]&&Qr.throwArgumentError("chainId address mismatch","transaction",e),n[0])),yield It(t)})}_checkProvider(e){this.provider||Qr.throwError("missing provider",W.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class lc extends _n{constructor(e,t){super(),Q(this,"address",e),Q(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Qr.throwError(e,W.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,i){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new lc(this.address,e)}}var fc={exports:{}},zy=fc.exports,m1;function Hy(){return m1||(m1=1,(function(r){(function(e,t){function i(w,a){if(!w)throw new Error(a||"Assertion failed")}function n(w,a){w.super_=a;var u=function(){};u.prototype=a.prototype,w.prototype=new u,w.prototype.constructor=w}function s(w,a,u){if(s.isBN(w))return w;this.negative=0,this.words=null,this.length=0,this.red=null,w!==null&&((a==="le"||a==="be")&&(u=a,a=10),this._init(w||0,a||10,u||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Fl.Buffer}catch{}s.isBN=function(a){return a instanceof s?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===s.wordSize&&Array.isArray(a.words)},s.max=function(a,u){return a.cmp(u)>0?a:u},s.min=function(a,u){return a.cmp(u)<0?a:u},s.prototype._init=function(a,u,d){if(typeof a=="number")return this._initNumber(a,u,d);if(typeof a=="object")return this._initArray(a,u,d);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),a=a.toString().replace(/\s+/g,"");var g=0;a[0]==="-"&&(g++,this.negative=1),g<a.length&&(u===16?this._parseHex(a,g,d):(this._parseBase(a,u,g),d==="le"&&this._initArray(this.toArray(),u,d)))},s.prototype._initNumber=function(a,u,d){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(i(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),u,d)},s.prototype._initArray=function(a,u,d){if(i(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var E,M,O=0;if(d==="be")for(g=a.length-1,E=0;g>=0;g-=3)M=a[g]|a[g-1]<<8|a[g-2]<<16,this.words[E]|=M<<O&67108863,this.words[E+1]=M>>>26-O&67108863,O+=24,O>=26&&(O-=26,E++);else if(d==="le")for(g=0,E=0;g<a.length;g+=3)M=a[g]|a[g+1]<<8|a[g+2]<<16,this.words[E]|=M<<O&67108863,this.words[E+1]=M>>>26-O&67108863,O+=24,O>=26&&(O-=26,E++);return this._strip()};function c(w,a){var u=w.charCodeAt(a);if(u>=48&&u<=57)return u-48;if(u>=65&&u<=70)return u-55;if(u>=97&&u<=102)return u-87;i(!1,"Invalid character in "+w)}function l(w,a,u){var d=c(w,u);return u-1>=a&&(d|=c(w,u-1)<<4),d}s.prototype._parseHex=function(a,u,d){this.length=Math.ceil((a.length-u)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var E=0,M=0,O;if(d==="be")for(g=a.length-1;g>=u;g-=2)O=l(a,u,g)<<E,this.words[M]|=O&67108863,E>=18?(E-=18,M+=1,this.words[M]|=O>>>26):E+=8;else{var m=a.length-u;for(g=m%2===0?u+1:u;g<a.length;g+=2)O=l(a,u,g)<<E,this.words[M]|=O&67108863,E>=18?(E-=18,M+=1,this.words[M]|=O>>>26):E+=8}this._strip()};function h(w,a,u,d){for(var g=0,E=0,M=Math.min(w.length,u),O=a;O<M;O++){var m=w.charCodeAt(O)-48;g*=d,m>=49?E=m-49+10:m>=17?E=m-17+10:E=m,i(m>=0&&E<d,"Invalid character"),g+=E}return g}s.prototype._parseBase=function(a,u,d){this.words=[0],this.length=1;for(var g=0,E=1;E<=67108863;E*=u)g++;g--,E=E/u|0;for(var M=a.length-d,O=M%g,m=Math.min(M,M-O)+d,f=0,x=d;x<m;x+=g)f=h(a,x,x+g,u),this.imuln(E),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f);if(O!==0){var $=1;for(f=h(a,x,a.length,u),x=0;x<O;x++)$*=u;this.imuln($),this.words[0]+f<67108864?this.words[0]+=f:this._iaddn(f)}this._strip()},s.prototype.copy=function(a){a.words=new Array(this.length);for(var u=0;u<this.length;u++)a.words[u]=this.words[u];a.length=this.length,a.negative=this.negative,a.red=this.red};function p(w,a){w.words=a.words,w.length=a.length,w.negative=a.negative,w.red=a.red}if(s.prototype._move=function(a){p(a,this)},s.prototype.clone=function(){var a=new s(null);return this.copy(a),a},s.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var _=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],P=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(a,u){a=a||10,u=u|0||1;var d;if(a===16||a==="hex"){d="";for(var g=0,E=0,M=0;M<this.length;M++){var O=this.words[M],m=((O<<g|E)&16777215).toString(16);E=O>>>24-g&16777215,g+=2,g>=26&&(g-=26,M--),E!==0||M!==this.length-1?d=_[6-m.length]+m+d:d=m+d}for(E!==0&&(d=E.toString(16)+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(a===(a|0)&&a>=2&&a<=36){var f=A[a],x=P[a];d="";var $=this.clone();for($.negative=0;!$.isZero();){var y=$.modrn(x).toString(a);$=$.idivn(x),$.isZero()?d=y+d:d=_[f-y.length]+y+d}for(this.isZero()&&(d="0"+d);d.length%u!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(a,u){return this.toArrayLike(o,a,u)}),s.prototype.toArray=function(a,u){return this.toArrayLike(Array,a,u)};var S=function(a,u){return a.allocUnsafe?a.allocUnsafe(u):new a(u)};s.prototype.toArrayLike=function(a,u,d){this._strip();var g=this.byteLength(),E=d||Math.max(1,g);i(g<=E,"byte array longer than desired length"),i(E>0,"Requested array length <= 0");var M=S(a,E),O=u==="le"?"LE":"BE";return this["_toArrayLike"+O](M,g),M},s.prototype._toArrayLikeLE=function(a,u){for(var d=0,g=0,E=0,M=0;E<this.length;E++){var O=this.words[E]<<M|g;a[d++]=O&255,d<a.length&&(a[d++]=O>>8&255),d<a.length&&(a[d++]=O>>16&255),M===6?(d<a.length&&(a[d++]=O>>24&255),g=0,M=0):(g=O>>>24,M+=2)}if(d<a.length)for(a[d++]=g;d<a.length;)a[d++]=0},s.prototype._toArrayLikeBE=function(a,u){for(var d=a.length-1,g=0,E=0,M=0;E<this.length;E++){var O=this.words[E]<<M|g;a[d--]=O&255,d>=0&&(a[d--]=O>>8&255),d>=0&&(a[d--]=O>>16&255),M===6?(d>=0&&(a[d--]=O>>24&255),g=0,M=0):(g=O>>>24,M+=2)}if(d>=0)for(a[d--]=g;d>=0;)a[d--]=0},Math.clz32?s.prototype._countBits=function(a){return 32-Math.clz32(a)}:s.prototype._countBits=function(a){var u=a,d=0;return u>=4096&&(d+=13,u>>>=13),u>=64&&(d+=7,u>>>=7),u>=8&&(d+=4,u>>>=4),u>=2&&(d+=2,u>>>=2),d+u},s.prototype._zeroBits=function(a){if(a===0)return 26;var u=a,d=0;return(u&8191)===0&&(d+=13,u>>>=13),(u&127)===0&&(d+=7,u>>>=7),(u&15)===0&&(d+=4,u>>>=4),(u&3)===0&&(d+=2,u>>>=2),(u&1)===0&&d++,d},s.prototype.bitLength=function(){var a=this.words[this.length-1],u=this._countBits(a);return(this.length-1)*26+u};function R(w){for(var a=new Array(w.bitLength()),u=0;u<a.length;u++){var d=u/26|0,g=u%26;a[u]=w.words[d]>>>g&1}return a}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,u=0;u<this.length;u++){var d=this._zeroBits(this.words[u]);if(a+=d,d!==26)break}return a},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},s.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var u=0;u<a.length;u++)this.words[u]=this.words[u]|a.words[u];return this._strip()},s.prototype.ior=function(a){return i((this.negative|a.negative)===0),this.iuor(a)},s.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},s.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},s.prototype.iuand=function(a){var u;this.length>a.length?u=a:u=this;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]&a.words[d];return this.length=u.length,this._strip()},s.prototype.iand=function(a){return i((this.negative|a.negative)===0),this.iuand(a)},s.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},s.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},s.prototype.iuxor=function(a){var u,d;this.length>a.length?(u=this,d=a):(u=a,d=this);for(var g=0;g<d.length;g++)this.words[g]=u.words[g]^d.words[g];if(this!==u)for(;g<u.length;g++)this.words[g]=u.words[g];return this.length=u.length,this._strip()},s.prototype.ixor=function(a){return i((this.negative|a.negative)===0),this.iuxor(a)},s.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},s.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},s.prototype.inotn=function(a){i(typeof a=="number"&&a>=0);var u=Math.ceil(a/26)|0,d=a%26;this._expand(u),d>0&&u--;for(var g=0;g<u;g++)this.words[g]=~this.words[g]&67108863;return d>0&&(this.words[g]=~this.words[g]&67108863>>26-d),this._strip()},s.prototype.notn=function(a){return this.clone().inotn(a)},s.prototype.setn=function(a,u){i(typeof a=="number"&&a>=0);var d=a/26|0,g=a%26;return this._expand(d+1),u?this.words[d]=this.words[d]|1<<g:this.words[d]=this.words[d]&~(1<<g),this._strip()},s.prototype.iadd=function(a){var u;if(this.negative!==0&&a.negative===0)return this.negative=0,u=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,u=this.isub(a),a.negative=1,u._normSign();var d,g;this.length>a.length?(d=this,g=a):(d=a,g=this);for(var E=0,M=0;M<g.length;M++)u=(d.words[M]|0)+(g.words[M]|0)+E,this.words[M]=u&67108863,E=u>>>26;for(;E!==0&&M<d.length;M++)u=(d.words[M]|0)+E,this.words[M]=u&67108863,E=u>>>26;if(this.length=d.length,E!==0)this.words[this.length]=E,this.length++;else if(d!==this)for(;M<d.length;M++)this.words[M]=d.words[M];return this},s.prototype.add=function(a){var u;return a.negative!==0&&this.negative===0?(a.negative=0,u=this.sub(a),a.negative^=1,u):a.negative===0&&this.negative!==0?(this.negative=0,u=a.sub(this),this.negative=1,u):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},s.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var u=this.iadd(a);return a.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var d=this.cmp(a);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var g,E;d>0?(g=this,E=a):(g=a,E=this);for(var M=0,O=0;O<E.length;O++)u=(g.words[O]|0)-(E.words[O]|0)+M,M=u>>26,this.words[O]=u&67108863;for(;M!==0&&O<g.length;O++)u=(g.words[O]|0)+M,M=u>>26,this.words[O]=u&67108863;if(M===0&&O<g.length&&g!==this)for(;O<g.length;O++)this.words[O]=g.words[O];return this.length=Math.max(this.length,O),g!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(a){return this.clone().isub(a)};function B(w,a,u){u.negative=a.negative^w.negative;var d=w.length+a.length|0;u.length=d,d=d-1|0;var g=w.words[0]|0,E=a.words[0]|0,M=g*E,O=M&67108863,m=M/67108864|0;u.words[0]=O;for(var f=1;f<d;f++){for(var x=m>>>26,$=m&67108863,y=Math.min(f,a.length-1),L=Math.max(0,f-w.length+1);L<=y;L++){var K=f-L|0;g=w.words[K]|0,E=a.words[L]|0,M=g*E+$,x+=M/67108864|0,$=M&67108863}u.words[f]=$|0,m=x|0}return m!==0?u.words[f]=m|0:u.length--,u._strip()}var T=function(a,u,d){var g=a.words,E=u.words,M=d.words,O=0,m,f,x,$=g[0]|0,y=$&8191,L=$>>>13,K=g[1]|0,H=K&8191,V=K>>>13,Z=g[2]|0,J=Z&8191,Y=Z>>>13,ye=g[3]|0,X=ye&8191,ne=ye>>>13,wt=g[4]|0,Ee=wt&8191,_e=wt>>>13,Bt=g[5]|0,ue=Bt&8191,fe=Bt>>>13,nt=g[6]|0,he=nt&8191,ce=nt>>>13,et=g[7]|0,de=et&8191,le=et>>>13,at=g[8]|0,pe=at&8191,oe=at>>>13,ft=g[9]|0,me=ft&8191,ve=ft>>>13,ut=E[0]|0,ge=ut&8191,Ne=ut>>>13,Wr=E[1]|0,Te=Wr&8191,Ce=Wr>>>13,Kr=E[2]|0,ke=Kr&8191,Be=Kr>>>13,Nr=E[3]|0,Ie=Nr&8191,Re=Nr>>>13,Or=E[4]|0,De=Or&8191,Pe=Or>>>13,ii=E[5]|0,$e=ii&8191,Le=ii>>>13,ni=E[6]|0,Ue=ni&8191,Oe=ni>>>13,Tr=E[7]|0,Me=Tr&8191,Fe=Tr>>>13,si=E[8]|0,qe=si&8191,je=si>>>13,oi=E[9]|0,Se=oi&8191,ze=oi>>>13;d.negative=a.negative^u.negative,d.length=19,m=Math.imul(y,ge),f=Math.imul(y,Ne),f=f+Math.imul(L,ge)|0,x=Math.imul(L,Ne);var kr=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(kr>>>26)|0,kr&=67108863,m=Math.imul(H,ge),f=Math.imul(H,Ne),f=f+Math.imul(V,ge)|0,x=Math.imul(V,Ne),m=m+Math.imul(y,Te)|0,f=f+Math.imul(y,Ce)|0,f=f+Math.imul(L,Te)|0,x=x+Math.imul(L,Ce)|0;var Br=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(Br>>>26)|0,Br&=67108863,m=Math.imul(J,ge),f=Math.imul(J,Ne),f=f+Math.imul(Y,ge)|0,x=Math.imul(Y,Ne),m=m+Math.imul(H,Te)|0,f=f+Math.imul(H,Ce)|0,f=f+Math.imul(V,Te)|0,x=x+Math.imul(V,Ce)|0,m=m+Math.imul(y,ke)|0,f=f+Math.imul(y,Be)|0,f=f+Math.imul(L,ke)|0,x=x+Math.imul(L,Be)|0;var $r=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+($r>>>26)|0,$r&=67108863,m=Math.imul(X,ge),f=Math.imul(X,Ne),f=f+Math.imul(ne,ge)|0,x=Math.imul(ne,Ne),m=m+Math.imul(J,Te)|0,f=f+Math.imul(J,Ce)|0,f=f+Math.imul(Y,Te)|0,x=x+Math.imul(Y,Ce)|0,m=m+Math.imul(H,ke)|0,f=f+Math.imul(H,Be)|0,f=f+Math.imul(V,ke)|0,x=x+Math.imul(V,Be)|0,m=m+Math.imul(y,Ie)|0,f=f+Math.imul(y,Re)|0,f=f+Math.imul(L,Ie)|0,x=x+Math.imul(L,Re)|0;var Lr=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,m=Math.imul(Ee,ge),f=Math.imul(Ee,Ne),f=f+Math.imul(_e,ge)|0,x=Math.imul(_e,Ne),m=m+Math.imul(X,Te)|0,f=f+Math.imul(X,Ce)|0,f=f+Math.imul(ne,Te)|0,x=x+Math.imul(ne,Ce)|0,m=m+Math.imul(J,ke)|0,f=f+Math.imul(J,Be)|0,f=f+Math.imul(Y,ke)|0,x=x+Math.imul(Y,Be)|0,m=m+Math.imul(H,Ie)|0,f=f+Math.imul(H,Re)|0,f=f+Math.imul(V,Ie)|0,x=x+Math.imul(V,Re)|0,m=m+Math.imul(y,De)|0,f=f+Math.imul(y,Pe)|0,f=f+Math.imul(L,De)|0,x=x+Math.imul(L,Pe)|0;var Ut=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,m=Math.imul(ue,ge),f=Math.imul(ue,Ne),f=f+Math.imul(fe,ge)|0,x=Math.imul(fe,Ne),m=m+Math.imul(Ee,Te)|0,f=f+Math.imul(Ee,Ce)|0,f=f+Math.imul(_e,Te)|0,x=x+Math.imul(_e,Ce)|0,m=m+Math.imul(X,ke)|0,f=f+Math.imul(X,Be)|0,f=f+Math.imul(ne,ke)|0,x=x+Math.imul(ne,Be)|0,m=m+Math.imul(J,Ie)|0,f=f+Math.imul(J,Re)|0,f=f+Math.imul(Y,Ie)|0,x=x+Math.imul(Y,Re)|0,m=m+Math.imul(H,De)|0,f=f+Math.imul(H,Pe)|0,f=f+Math.imul(V,De)|0,x=x+Math.imul(V,Pe)|0,m=m+Math.imul(y,$e)|0,f=f+Math.imul(y,Le)|0,f=f+Math.imul(L,$e)|0,x=x+Math.imul(L,Le)|0;var an=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(an>>>26)|0,an&=67108863,m=Math.imul(he,ge),f=Math.imul(he,Ne),f=f+Math.imul(ce,ge)|0,x=Math.imul(ce,Ne),m=m+Math.imul(ue,Te)|0,f=f+Math.imul(ue,Ce)|0,f=f+Math.imul(fe,Te)|0,x=x+Math.imul(fe,Ce)|0,m=m+Math.imul(Ee,ke)|0,f=f+Math.imul(Ee,Be)|0,f=f+Math.imul(_e,ke)|0,x=x+Math.imul(_e,Be)|0,m=m+Math.imul(X,Ie)|0,f=f+Math.imul(X,Re)|0,f=f+Math.imul(ne,Ie)|0,x=x+Math.imul(ne,Re)|0,m=m+Math.imul(J,De)|0,f=f+Math.imul(J,Pe)|0,f=f+Math.imul(Y,De)|0,x=x+Math.imul(Y,Pe)|0,m=m+Math.imul(H,$e)|0,f=f+Math.imul(H,Le)|0,f=f+Math.imul(V,$e)|0,x=x+Math.imul(V,Le)|0,m=m+Math.imul(y,Ue)|0,f=f+Math.imul(y,Oe)|0,f=f+Math.imul(L,Ue)|0,x=x+Math.imul(L,Oe)|0;var cn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(cn>>>26)|0,cn&=67108863,m=Math.imul(de,ge),f=Math.imul(de,Ne),f=f+Math.imul(le,ge)|0,x=Math.imul(le,Ne),m=m+Math.imul(he,Te)|0,f=f+Math.imul(he,Ce)|0,f=f+Math.imul(ce,Te)|0,x=x+Math.imul(ce,Ce)|0,m=m+Math.imul(ue,ke)|0,f=f+Math.imul(ue,Be)|0,f=f+Math.imul(fe,ke)|0,x=x+Math.imul(fe,Be)|0,m=m+Math.imul(Ee,Ie)|0,f=f+Math.imul(Ee,Re)|0,f=f+Math.imul(_e,Ie)|0,x=x+Math.imul(_e,Re)|0,m=m+Math.imul(X,De)|0,f=f+Math.imul(X,Pe)|0,f=f+Math.imul(ne,De)|0,x=x+Math.imul(ne,Pe)|0,m=m+Math.imul(J,$e)|0,f=f+Math.imul(J,Le)|0,f=f+Math.imul(Y,$e)|0,x=x+Math.imul(Y,Le)|0,m=m+Math.imul(H,Ue)|0,f=f+Math.imul(H,Oe)|0,f=f+Math.imul(V,Ue)|0,x=x+Math.imul(V,Oe)|0,m=m+Math.imul(y,Me)|0,f=f+Math.imul(y,Fe)|0,f=f+Math.imul(L,Me)|0,x=x+Math.imul(L,Fe)|0;var ln=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(ln>>>26)|0,ln&=67108863,m=Math.imul(pe,ge),f=Math.imul(pe,Ne),f=f+Math.imul(oe,ge)|0,x=Math.imul(oe,Ne),m=m+Math.imul(de,Te)|0,f=f+Math.imul(de,Ce)|0,f=f+Math.imul(le,Te)|0,x=x+Math.imul(le,Ce)|0,m=m+Math.imul(he,ke)|0,f=f+Math.imul(he,Be)|0,f=f+Math.imul(ce,ke)|0,x=x+Math.imul(ce,Be)|0,m=m+Math.imul(ue,Ie)|0,f=f+Math.imul(ue,Re)|0,f=f+Math.imul(fe,Ie)|0,x=x+Math.imul(fe,Re)|0,m=m+Math.imul(Ee,De)|0,f=f+Math.imul(Ee,Pe)|0,f=f+Math.imul(_e,De)|0,x=x+Math.imul(_e,Pe)|0,m=m+Math.imul(X,$e)|0,f=f+Math.imul(X,Le)|0,f=f+Math.imul(ne,$e)|0,x=x+Math.imul(ne,Le)|0,m=m+Math.imul(J,Ue)|0,f=f+Math.imul(J,Oe)|0,f=f+Math.imul(Y,Ue)|0,x=x+Math.imul(Y,Oe)|0,m=m+Math.imul(H,Me)|0,f=f+Math.imul(H,Fe)|0,f=f+Math.imul(V,Me)|0,x=x+Math.imul(V,Fe)|0,m=m+Math.imul(y,qe)|0,f=f+Math.imul(y,je)|0,f=f+Math.imul(L,qe)|0,x=x+Math.imul(L,je)|0;var fn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(fn>>>26)|0,fn&=67108863,m=Math.imul(me,ge),f=Math.imul(me,Ne),f=f+Math.imul(ve,ge)|0,x=Math.imul(ve,Ne),m=m+Math.imul(pe,Te)|0,f=f+Math.imul(pe,Ce)|0,f=f+Math.imul(oe,Te)|0,x=x+Math.imul(oe,Ce)|0,m=m+Math.imul(de,ke)|0,f=f+Math.imul(de,Be)|0,f=f+Math.imul(le,ke)|0,x=x+Math.imul(le,Be)|0,m=m+Math.imul(he,Ie)|0,f=f+Math.imul(he,Re)|0,f=f+Math.imul(ce,Ie)|0,x=x+Math.imul(ce,Re)|0,m=m+Math.imul(ue,De)|0,f=f+Math.imul(ue,Pe)|0,f=f+Math.imul(fe,De)|0,x=x+Math.imul(fe,Pe)|0,m=m+Math.imul(Ee,$e)|0,f=f+Math.imul(Ee,Le)|0,f=f+Math.imul(_e,$e)|0,x=x+Math.imul(_e,Le)|0,m=m+Math.imul(X,Ue)|0,f=f+Math.imul(X,Oe)|0,f=f+Math.imul(ne,Ue)|0,x=x+Math.imul(ne,Oe)|0,m=m+Math.imul(J,Me)|0,f=f+Math.imul(J,Fe)|0,f=f+Math.imul(Y,Me)|0,x=x+Math.imul(Y,Fe)|0,m=m+Math.imul(H,qe)|0,f=f+Math.imul(H,je)|0,f=f+Math.imul(V,qe)|0,x=x+Math.imul(V,je)|0,m=m+Math.imul(y,Se)|0,f=f+Math.imul(y,ze)|0,f=f+Math.imul(L,Se)|0,x=x+Math.imul(L,ze)|0;var un=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(un>>>26)|0,un&=67108863,m=Math.imul(me,Te),f=Math.imul(me,Ce),f=f+Math.imul(ve,Te)|0,x=Math.imul(ve,Ce),m=m+Math.imul(pe,ke)|0,f=f+Math.imul(pe,Be)|0,f=f+Math.imul(oe,ke)|0,x=x+Math.imul(oe,Be)|0,m=m+Math.imul(de,Ie)|0,f=f+Math.imul(de,Re)|0,f=f+Math.imul(le,Ie)|0,x=x+Math.imul(le,Re)|0,m=m+Math.imul(he,De)|0,f=f+Math.imul(he,Pe)|0,f=f+Math.imul(ce,De)|0,x=x+Math.imul(ce,Pe)|0,m=m+Math.imul(ue,$e)|0,f=f+Math.imul(ue,Le)|0,f=f+Math.imul(fe,$e)|0,x=x+Math.imul(fe,Le)|0,m=m+Math.imul(Ee,Ue)|0,f=f+Math.imul(Ee,Oe)|0,f=f+Math.imul(_e,Ue)|0,x=x+Math.imul(_e,Oe)|0,m=m+Math.imul(X,Me)|0,f=f+Math.imul(X,Fe)|0,f=f+Math.imul(ne,Me)|0,x=x+Math.imul(ne,Fe)|0,m=m+Math.imul(J,qe)|0,f=f+Math.imul(J,je)|0,f=f+Math.imul(Y,qe)|0,x=x+Math.imul(Y,je)|0,m=m+Math.imul(H,Se)|0,f=f+Math.imul(H,ze)|0,f=f+Math.imul(V,Se)|0,x=x+Math.imul(V,ze)|0;var ai=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(ai>>>26)|0,ai&=67108863,m=Math.imul(me,ke),f=Math.imul(me,Be),f=f+Math.imul(ve,ke)|0,x=Math.imul(ve,Be),m=m+Math.imul(pe,Ie)|0,f=f+Math.imul(pe,Re)|0,f=f+Math.imul(oe,Ie)|0,x=x+Math.imul(oe,Re)|0,m=m+Math.imul(de,De)|0,f=f+Math.imul(de,Pe)|0,f=f+Math.imul(le,De)|0,x=x+Math.imul(le,Pe)|0,m=m+Math.imul(he,$e)|0,f=f+Math.imul(he,Le)|0,f=f+Math.imul(ce,$e)|0,x=x+Math.imul(ce,Le)|0,m=m+Math.imul(ue,Ue)|0,f=f+Math.imul(ue,Oe)|0,f=f+Math.imul(fe,Ue)|0,x=x+Math.imul(fe,Oe)|0,m=m+Math.imul(Ee,Me)|0,f=f+Math.imul(Ee,Fe)|0,f=f+Math.imul(_e,Me)|0,x=x+Math.imul(_e,Fe)|0,m=m+Math.imul(X,qe)|0,f=f+Math.imul(X,je)|0,f=f+Math.imul(ne,qe)|0,x=x+Math.imul(ne,je)|0,m=m+Math.imul(J,Se)|0,f=f+Math.imul(J,ze)|0,f=f+Math.imul(Y,Se)|0,x=x+Math.imul(Y,ze)|0;var hn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(hn>>>26)|0,hn&=67108863,m=Math.imul(me,Ie),f=Math.imul(me,Re),f=f+Math.imul(ve,Ie)|0,x=Math.imul(ve,Re),m=m+Math.imul(pe,De)|0,f=f+Math.imul(pe,Pe)|0,f=f+Math.imul(oe,De)|0,x=x+Math.imul(oe,Pe)|0,m=m+Math.imul(de,$e)|0,f=f+Math.imul(de,Le)|0,f=f+Math.imul(le,$e)|0,x=x+Math.imul(le,Le)|0,m=m+Math.imul(he,Ue)|0,f=f+Math.imul(he,Oe)|0,f=f+Math.imul(ce,Ue)|0,x=x+Math.imul(ce,Oe)|0,m=m+Math.imul(ue,Me)|0,f=f+Math.imul(ue,Fe)|0,f=f+Math.imul(fe,Me)|0,x=x+Math.imul(fe,Fe)|0,m=m+Math.imul(Ee,qe)|0,f=f+Math.imul(Ee,je)|0,f=f+Math.imul(_e,qe)|0,x=x+Math.imul(_e,je)|0,m=m+Math.imul(X,Se)|0,f=f+Math.imul(X,ze)|0,f=f+Math.imul(ne,Se)|0,x=x+Math.imul(ne,ze)|0;var dn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(dn>>>26)|0,dn&=67108863,m=Math.imul(me,De),f=Math.imul(me,Pe),f=f+Math.imul(ve,De)|0,x=Math.imul(ve,Pe),m=m+Math.imul(pe,$e)|0,f=f+Math.imul(pe,Le)|0,f=f+Math.imul(oe,$e)|0,x=x+Math.imul(oe,Le)|0,m=m+Math.imul(de,Ue)|0,f=f+Math.imul(de,Oe)|0,f=f+Math.imul(le,Ue)|0,x=x+Math.imul(le,Oe)|0,m=m+Math.imul(he,Me)|0,f=f+Math.imul(he,Fe)|0,f=f+Math.imul(ce,Me)|0,x=x+Math.imul(ce,Fe)|0,m=m+Math.imul(ue,qe)|0,f=f+Math.imul(ue,je)|0,f=f+Math.imul(fe,qe)|0,x=x+Math.imul(fe,je)|0,m=m+Math.imul(Ee,Se)|0,f=f+Math.imul(Ee,ze)|0,f=f+Math.imul(_e,Se)|0,x=x+Math.imul(_e,ze)|0;var dr=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(dr>>>26)|0,dr&=67108863,m=Math.imul(me,$e),f=Math.imul(me,Le),f=f+Math.imul(ve,$e)|0,x=Math.imul(ve,Le),m=m+Math.imul(pe,Ue)|0,f=f+Math.imul(pe,Oe)|0,f=f+Math.imul(oe,Ue)|0,x=x+Math.imul(oe,Oe)|0,m=m+Math.imul(de,Me)|0,f=f+Math.imul(de,Fe)|0,f=f+Math.imul(le,Me)|0,x=x+Math.imul(le,Fe)|0,m=m+Math.imul(he,qe)|0,f=f+Math.imul(he,je)|0,f=f+Math.imul(ce,qe)|0,x=x+Math.imul(ce,je)|0,m=m+Math.imul(ue,Se)|0,f=f+Math.imul(ue,ze)|0,f=f+Math.imul(fe,Se)|0,x=x+Math.imul(fe,ze)|0;var pn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(pn>>>26)|0,pn&=67108863,m=Math.imul(me,Ue),f=Math.imul(me,Oe),f=f+Math.imul(ve,Ue)|0,x=Math.imul(ve,Oe),m=m+Math.imul(pe,Me)|0,f=f+Math.imul(pe,Fe)|0,f=f+Math.imul(oe,Me)|0,x=x+Math.imul(oe,Fe)|0,m=m+Math.imul(de,qe)|0,f=f+Math.imul(de,je)|0,f=f+Math.imul(le,qe)|0,x=x+Math.imul(le,je)|0,m=m+Math.imul(he,Se)|0,f=f+Math.imul(he,ze)|0,f=f+Math.imul(ce,Se)|0,x=x+Math.imul(ce,ze)|0;var gn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(gn>>>26)|0,gn&=67108863,m=Math.imul(me,Me),f=Math.imul(me,Fe),f=f+Math.imul(ve,Me)|0,x=Math.imul(ve,Fe),m=m+Math.imul(pe,qe)|0,f=f+Math.imul(pe,je)|0,f=f+Math.imul(oe,qe)|0,x=x+Math.imul(oe,je)|0,m=m+Math.imul(de,Se)|0,f=f+Math.imul(de,ze)|0,f=f+Math.imul(le,Se)|0,x=x+Math.imul(le,ze)|0;var mn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(mn>>>26)|0,mn&=67108863,m=Math.imul(me,qe),f=Math.imul(me,je),f=f+Math.imul(ve,qe)|0,x=Math.imul(ve,je),m=m+Math.imul(pe,Se)|0,f=f+Math.imul(pe,ze)|0,f=f+Math.imul(oe,Se)|0,x=x+Math.imul(oe,ze)|0;var bn=(O+m|0)+((f&8191)<<13)|0;O=(x+(f>>>13)|0)+(bn>>>26)|0,bn&=67108863,m=Math.imul(me,Se),f=Math.imul(me,ze),f=f+Math.imul(ve,Se)|0,x=Math.imul(ve,ze);var xn=(O+m|0)+((f&8191)<<13)|0;return O=(x+(f>>>13)|0)+(xn>>>26)|0,xn&=67108863,M[0]=kr,M[1]=Br,M[2]=$r,M[3]=Lr,M[4]=Ut,M[5]=an,M[6]=cn,M[7]=ln,M[8]=fn,M[9]=un,M[10]=ai,M[11]=hn,M[12]=dn,M[13]=dr,M[14]=pn,M[15]=gn,M[16]=mn,M[17]=bn,M[18]=xn,O!==0&&(M[19]=O,d.length++),d};Math.imul||(T=B);function k(w,a,u){u.negative=a.negative^w.negative,u.length=w.length+a.length;for(var d=0,g=0,E=0;E<u.length-1;E++){var M=g;g=0;for(var O=d&67108863,m=Math.min(E,a.length-1),f=Math.max(0,E-w.length+1);f<=m;f++){var x=E-f,$=w.words[x]|0,y=a.words[f]|0,L=$*y,K=L&67108863;M=M+(L/67108864|0)|0,K=K+O|0,O=K&67108863,M=M+(K>>>26)|0,g+=M>>>26,M&=67108863}u.words[E]=O,d=M,M=g}return d!==0?u.words[E]=d:u.length--,u._strip()}function I(w,a,u){return k(w,a,u)}s.prototype.mulTo=function(a,u){var d,g=this.length+a.length;return this.length===10&&a.length===10?d=T(this,a,u):g<63?d=B(this,a,u):g<1024?d=k(this,a,u):d=I(this,a,u),d},s.prototype.mul=function(a){var u=new s(null);return u.words=new Array(this.length+a.length),this.mulTo(a,u)},s.prototype.mulf=function(a){var u=new s(null);return u.words=new Array(this.length+a.length),I(this,a,u)},s.prototype.imul=function(a){return this.clone().mulTo(a,this)},s.prototype.imuln=function(a){var u=a<0;u&&(a=-a),i(typeof a=="number"),i(a<67108864);for(var d=0,g=0;g<this.length;g++){var E=(this.words[g]|0)*a,M=(E&67108863)+(d&67108863);d>>=26,d+=E/67108864|0,d+=M>>>26,this.words[g]=M&67108863}return d!==0&&(this.words[g]=d,this.length++),this.length=a===0?1:this.length,u?this.ineg():this},s.prototype.muln=function(a){return this.clone().imuln(a)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(a){var u=R(a);if(u.length===0)return new s(1);for(var d=this,g=0;g<u.length&&u[g]===0;g++,d=d.sqr());if(++g<u.length)for(var E=d.sqr();g<u.length;g++,E=E.sqr())u[g]!==0&&(d=d.mul(E));return d},s.prototype.iushln=function(a){i(typeof a=="number"&&a>=0);var u=a%26,d=(a-u)/26,g=67108863>>>26-u<<26-u,E;if(u!==0){var M=0;for(E=0;E<this.length;E++){var O=this.words[E]&g,m=(this.words[E]|0)-O<<u;this.words[E]=m|M,M=O>>>26-u}M&&(this.words[E]=M,this.length++)}if(d!==0){for(E=this.length-1;E>=0;E--)this.words[E+d]=this.words[E];for(E=0;E<d;E++)this.words[E]=0;this.length+=d}return this._strip()},s.prototype.ishln=function(a){return i(this.negative===0),this.iushln(a)},s.prototype.iushrn=function(a,u,d){i(typeof a=="number"&&a>=0);var g;u?g=(u-u%26)/26:g=0;var E=a%26,M=Math.min((a-E)/26,this.length),O=67108863^67108863>>>E<<E,m=d;if(g-=M,g=Math.max(0,g),m){for(var f=0;f<M;f++)m.words[f]=this.words[f];m.length=M}if(M!==0)if(this.length>M)for(this.length-=M,f=0;f<this.length;f++)this.words[f]=this.words[f+M];else this.words[0]=0,this.length=1;var x=0;for(f=this.length-1;f>=0&&(x!==0||f>=g);f--){var $=this.words[f]|0;this.words[f]=x<<26-E|$>>>E,x=$&O}return m&&x!==0&&(m.words[m.length++]=x),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(a,u,d){return i(this.negative===0),this.iushrn(a,u,d)},s.prototype.shln=function(a){return this.clone().ishln(a)},s.prototype.ushln=function(a){return this.clone().iushln(a)},s.prototype.shrn=function(a){return this.clone().ishrn(a)},s.prototype.ushrn=function(a){return this.clone().iushrn(a)},s.prototype.testn=function(a){i(typeof a=="number"&&a>=0);var u=a%26,d=(a-u)/26,g=1<<u;if(this.length<=d)return!1;var E=this.words[d];return!!(E&g)},s.prototype.imaskn=function(a){i(typeof a=="number"&&a>=0);var u=a%26,d=(a-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(u!==0&&d++,this.length=Math.min(d,this.length),u!==0){var g=67108863^67108863>>>u<<u;this.words[this.length-1]&=g}return this._strip()},s.prototype.maskn=function(a){return this.clone().imaskn(a)},s.prototype.iaddn=function(a){return i(typeof a=="number"),i(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<=a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},s.prototype._iaddn=function(a){this.words[0]+=a;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},s.prototype.isubn=function(a){if(i(typeof a=="number"),i(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},s.prototype.addn=function(a){return this.clone().iaddn(a)},s.prototype.subn=function(a){return this.clone().isubn(a)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(a,u,d){var g=a.length+d,E;this._expand(g);var M,O=0;for(E=0;E<a.length;E++){M=(this.words[E+d]|0)+O;var m=(a.words[E]|0)*u;M-=m&67108863,O=(M>>26)-(m/67108864|0),this.words[E+d]=M&67108863}for(;E<this.length-d;E++)M=(this.words[E+d]|0)+O,O=M>>26,this.words[E+d]=M&67108863;if(O===0)return this._strip();for(i(O===-1),O=0,E=0;E<this.length;E++)M=-(this.words[E]|0)+O,O=M>>26,this.words[E]=M&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(a,u){var d=this.length-a.length,g=this.clone(),E=a,M=E.words[E.length-1]|0,O=this._countBits(M);d=26-O,d!==0&&(E=E.ushln(d),g.iushln(d),M=E.words[E.length-1]|0);var m=g.length-E.length,f;if(u!=="mod"){f=new s(null),f.length=m+1,f.words=new Array(f.length);for(var x=0;x<f.length;x++)f.words[x]=0}var $=g.clone()._ishlnsubmul(E,1,m);$.negative===0&&(g=$,f&&(f.words[m]=1));for(var y=m-1;y>=0;y--){var L=(g.words[E.length+y]|0)*67108864+(g.words[E.length+y-1]|0);for(L=Math.min(L/M|0,67108863),g._ishlnsubmul(E,L,y);g.negative!==0;)L--,g.negative=0,g._ishlnsubmul(E,1,y),g.isZero()||(g.negative^=1);f&&(f.words[y]=L)}return f&&f._strip(),g._strip(),u!=="div"&&d!==0&&g.iushrn(d),{div:f||null,mod:g}},s.prototype.divmod=function(a,u,d){if(i(!a.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var g,E,M;return this.negative!==0&&a.negative===0?(M=this.neg().divmod(a,u),u!=="mod"&&(g=M.div.neg()),u!=="div"&&(E=M.mod.neg(),d&&E.negative!==0&&E.iadd(a)),{div:g,mod:E}):this.negative===0&&a.negative!==0?(M=this.divmod(a.neg(),u),u!=="mod"&&(g=M.div.neg()),{div:g,mod:M.mod}):(this.negative&a.negative)!==0?(M=this.neg().divmod(a.neg(),u),u!=="div"&&(E=M.mod.neg(),d&&E.negative!==0&&E.isub(a)),{div:M.div,mod:E}):a.length>this.length||this.cmp(a)<0?{div:new s(0),mod:this}:a.length===1?u==="div"?{div:this.divn(a.words[0]),mod:null}:u==="mod"?{div:null,mod:new s(this.modrn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new s(this.modrn(a.words[0]))}:this._wordDiv(a,u)},s.prototype.div=function(a){return this.divmod(a,"div",!1).div},s.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},s.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},s.prototype.divRound=function(a){var u=this.divmod(a);if(u.mod.isZero())return u.div;var d=u.div.negative!==0?u.mod.isub(a):u.mod,g=a.ushrn(1),E=a.andln(1),M=d.cmp(g);return M<0||E===1&&M===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},s.prototype.modrn=function(a){var u=a<0;u&&(a=-a),i(a<=67108863);for(var d=(1<<26)%a,g=0,E=this.length-1;E>=0;E--)g=(d*g+(this.words[E]|0))%a;return u?-g:g},s.prototype.modn=function(a){return this.modrn(a)},s.prototype.idivn=function(a){var u=a<0;u&&(a=-a),i(a<=67108863);for(var d=0,g=this.length-1;g>=0;g--){var E=(this.words[g]|0)+d*67108864;this.words[g]=E/a|0,d=E%a}return this._strip(),u?this.ineg():this},s.prototype.divn=function(a){return this.clone().idivn(a)},s.prototype.egcd=function(a){i(a.negative===0),i(!a.isZero());var u=this,d=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var g=new s(1),E=new s(0),M=new s(0),O=new s(1),m=0;u.isEven()&&d.isEven();)u.iushrn(1),d.iushrn(1),++m;for(var f=d.clone(),x=u.clone();!u.isZero();){for(var $=0,y=1;(u.words[0]&y)===0&&$<26;++$,y<<=1);if($>0)for(u.iushrn($);$-- >0;)(g.isOdd()||E.isOdd())&&(g.iadd(f),E.isub(x)),g.iushrn(1),E.iushrn(1);for(var L=0,K=1;(d.words[0]&K)===0&&L<26;++L,K<<=1);if(L>0)for(d.iushrn(L);L-- >0;)(M.isOdd()||O.isOdd())&&(M.iadd(f),O.isub(x)),M.iushrn(1),O.iushrn(1);u.cmp(d)>=0?(u.isub(d),g.isub(M),E.isub(O)):(d.isub(u),M.isub(g),O.isub(E))}return{a:M,b:O,gcd:d.iushln(m)}},s.prototype._invmp=function(a){i(a.negative===0),i(!a.isZero());var u=this,d=a.clone();u.negative!==0?u=u.umod(a):u=u.clone();for(var g=new s(1),E=new s(0),M=d.clone();u.cmpn(1)>0&&d.cmpn(1)>0;){for(var O=0,m=1;(u.words[0]&m)===0&&O<26;++O,m<<=1);if(O>0)for(u.iushrn(O);O-- >0;)g.isOdd()&&g.iadd(M),g.iushrn(1);for(var f=0,x=1;(d.words[0]&x)===0&&f<26;++f,x<<=1);if(f>0)for(d.iushrn(f);f-- >0;)E.isOdd()&&E.iadd(M),E.iushrn(1);u.cmp(d)>=0?(u.isub(d),g.isub(E)):(d.isub(u),E.isub(g))}var $;return u.cmpn(1)===0?$=g:$=E,$.cmpn(0)<0&&$.iadd(a),$},s.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var u=this.clone(),d=a.clone();u.negative=0,d.negative=0;for(var g=0;u.isEven()&&d.isEven();g++)u.iushrn(1),d.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;d.isEven();)d.iushrn(1);var E=u.cmp(d);if(E<0){var M=u;u=d,d=M}else if(E===0||d.cmpn(1)===0)break;u.isub(d)}while(!0);return d.iushln(g)},s.prototype.invm=function(a){return this.egcd(a).a.umod(a)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(a){return this.words[0]&a},s.prototype.bincn=function(a){i(typeof a=="number");var u=a%26,d=(a-u)/26,g=1<<u;if(this.length<=d)return this._expand(d+1),this.words[d]|=g,this;for(var E=g,M=d;E!==0&&M<this.length;M++){var O=this.words[M]|0;O+=E,E=O>>>26,O&=67108863,this.words[M]=O}return E!==0&&(this.words[M]=E,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(a){var u=a<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var d;if(this.length>1)d=1;else{u&&(a=-a),i(a<=67108863,"Number is too big");var g=this.words[0]|0;d=g===a?0:g<a?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var u=this.ucmp(a);return this.negative!==0?-u|0:u},s.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var u=0,d=this.length-1;d>=0;d--){var g=this.words[d]|0,E=a.words[d]|0;if(g!==E){g<E?u=-1:g>E&&(u=1);break}}return u},s.prototype.gtn=function(a){return this.cmpn(a)===1},s.prototype.gt=function(a){return this.cmp(a)===1},s.prototype.gten=function(a){return this.cmpn(a)>=0},s.prototype.gte=function(a){return this.cmp(a)>=0},s.prototype.ltn=function(a){return this.cmpn(a)===-1},s.prototype.lt=function(a){return this.cmp(a)===-1},s.prototype.lten=function(a){return this.cmpn(a)<=0},s.prototype.lte=function(a){return this.cmp(a)<=0},s.prototype.eqn=function(a){return this.cmpn(a)===0},s.prototype.eq=function(a){return this.cmp(a)===0},s.red=function(a){return new q(a)},s.prototype.toRed=function(a){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(a){return this.red=a,this},s.prototype.forceRed=function(a){return i(!this.red,"Already a number in reduction context"),this._forceRed(a)},s.prototype.redAdd=function(a){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},s.prototype.redIAdd=function(a){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},s.prototype.redSub=function(a){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},s.prototype.redISub=function(a){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},s.prototype.redShl=function(a){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},s.prototype.redMul=function(a){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},s.prototype.redIMul=function(a){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(a){return i(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var N={k256:null,p224:null,p192:null,p25519:null};function C(w,a){this.name=w,this.p=new s(a,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var a=new s(null);return a.words=new Array(Math.ceil(this.n/13)),a},C.prototype.ireduce=function(a){var u=a,d;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),d=u.bitLength();while(d>this.n);var g=d<this.n?-1:u.ucmp(this.p);return g===0?(u.words[0]=0,u.length=1):g>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},C.prototype.split=function(a,u){a.iushrn(this.n,0,u)},C.prototype.imulK=function(a){return a.imul(this.k)};function b(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(b,C),b.prototype.split=function(a,u){for(var d=4194303,g=Math.min(a.length,9),E=0;E<g;E++)u.words[E]=a.words[E];if(u.length=g,a.length<=9){a.words[0]=0,a.length=1;return}var M=a.words[9];for(u.words[u.length++]=M&d,E=10;E<a.length;E++){var O=a.words[E]|0;a.words[E-10]=(O&d)<<4|M>>>22,M=O}M>>>=22,a.words[E-10]=M,M===0&&a.length>10?a.length-=10:a.length-=9},b.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var u=0,d=0;d<a.length;d++){var g=a.words[d]|0;u+=g*977,a.words[d]=u&67108863,u=g*64+(u/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function D(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(D,C);function U(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(U,C);function j(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(j,C),j.prototype.imulK=function(a){for(var u=0,d=0;d<a.length;d++){var g=(a.words[d]|0)*19+u,E=g&67108863;g>>>=26,a.words[d]=E,u=g}return u!==0&&(a.words[a.length++]=u),a},s._prime=function(a){if(N[a])return N[a];var u;if(a==="k256")u=new b;else if(a==="p224")u=new D;else if(a==="p192")u=new U;else if(a==="p25519")u=new j;else throw new Error("Unknown prime "+a);return N[a]=u,u};function q(w){if(typeof w=="string"){var a=s._prime(w);this.m=a.p,this.prime=a}else i(w.gtn(1),"modulus must be greater than 1"),this.m=w,this.prime=null}q.prototype._verify1=function(a){i(a.negative===0,"red works only with positives"),i(a.red,"red works only with red numbers")},q.prototype._verify2=function(a,u){i((a.negative|u.negative)===0,"red works only with positives"),i(a.red&&a.red===u.red,"red works only with red numbers")},q.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(p(a,a.umod(this.m)._forceRed(this)),a)},q.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},q.prototype.add=function(a,u){this._verify2(a,u);var d=a.add(u);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},q.prototype.iadd=function(a,u){this._verify2(a,u);var d=a.iadd(u);return d.cmp(this.m)>=0&&d.isub(this.m),d},q.prototype.sub=function(a,u){this._verify2(a,u);var d=a.sub(u);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},q.prototype.isub=function(a,u){this._verify2(a,u);var d=a.isub(u);return d.cmpn(0)<0&&d.iadd(this.m),d},q.prototype.shl=function(a,u){return this._verify1(a),this.imod(a.ushln(u))},q.prototype.imul=function(a,u){return this._verify2(a,u),this.imod(a.imul(u))},q.prototype.mul=function(a,u){return this._verify2(a,u),this.imod(a.mul(u))},q.prototype.isqr=function(a){return this.imul(a,a.clone())},q.prototype.sqr=function(a){return this.mul(a,a)},q.prototype.sqrt=function(a){if(a.isZero())return a.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(a,d)}for(var g=this.m.subn(1),E=0;!g.isZero()&&g.andln(1)===0;)E++,g.iushrn(1);i(!g.isZero());var M=new s(1).toRed(this),O=M.redNeg(),m=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new s(2*f*f).toRed(this);this.pow(f,m).cmp(O)!==0;)f.redIAdd(O);for(var x=this.pow(f,g),$=this.pow(a,g.addn(1).iushrn(1)),y=this.pow(a,g),L=E;y.cmp(M)!==0;){for(var K=y,H=0;K.cmp(M)!==0;H++)K=K.redSqr();i(H<L);var V=this.pow(x,new s(1).iushln(L-H-1));$=$.redMul(V),x=V.redSqr(),y=y.redMul(x),L=H}return $},q.prototype.invm=function(a){var u=a._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},q.prototype.pow=function(a,u){if(u.isZero())return new s(1).toRed(this);if(u.cmpn(1)===0)return a.clone();var d=4,g=new Array(1<<d);g[0]=new s(1).toRed(this),g[1]=a;for(var E=2;E<g.length;E++)g[E]=this.mul(g[E-1],a);var M=g[0],O=0,m=0,f=u.bitLength()%26;for(f===0&&(f=26),E=u.length-1;E>=0;E--){for(var x=u.words[E],$=f-1;$>=0;$--){var y=x>>$&1;if(M!==g[0]&&(M=this.sqr(M)),y===0&&O===0){m=0;continue}O<<=1,O|=y,m++,!(m!==d&&(E!==0||$!==0))&&(M=this.mul(M,g[O]),m=0,O=0)}f=26}return M},q.prototype.convertTo=function(a){var u=a.umod(this.m);return u===a?u.clone():u},q.prototype.convertFrom=function(a){var u=a.clone();return u.red=null,u},s.mont=function(a){return new F(a)};function F(w){q.call(this,w),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(F,q),F.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},F.prototype.convertFrom=function(a){var u=this.imod(a.mul(this.rinv));return u.red=null,u},F.prototype.imul=function(a,u){if(a.isZero()||u.isZero())return a.words[0]=0,a.length=1,a;var d=a.imul(u),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=d.isub(g).iushrn(this.shift),M=E;return E.cmp(this.m)>=0?M=E.isub(this.m):E.cmpn(0)<0&&(M=E.iadd(this.m)),M._forceRed(this)},F.prototype.mul=function(a,u){if(a.isZero()||u.isZero())return new s(0)._forceRed(this);var d=a.mul(u),g=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=d.isub(g).iushrn(this.shift),M=E;return E.cmp(this.m)>=0?M=E.isub(this.m):E.cmpn(0)<0&&(M=E.iadd(this.m)),M._forceRed(this)},F.prototype.invm=function(a){var u=this.imod(a._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(r,zy)})(fc)),fc.exports}var Wy=Hy();const Ve=ui(Wy);var h0={},pt={},d0,b1;function To(){if(b1)return d0;b1=1,d0=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,i,n){if(t!=i)throw new Error(n||"Assertion failed: "+t+" != "+i)},d0}var uc={exports:{}},x1;function Ky(){return x1||(x1=1,typeof Object.create=="function"?uc.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:uc.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}),uc.exports}var v1;function Pi(){if(v1)return pt;v1=1;var r=To(),e=Ky();pt.inherits=e;function t(F,w){return(F.charCodeAt(w)&64512)!==55296||w<0||w+1>=F.length?!1:(F.charCodeAt(w+1)&64512)===56320}function i(F,w){if(Array.isArray(F))return F.slice();if(!F)return[];var a=[];if(typeof F=="string")if(w){if(w==="hex")for(F=F.replace(/[^a-z0-9]+/ig,""),F.length%2!==0&&(F="0"+F),d=0;d<F.length;d+=2)a.push(parseInt(F[d]+F[d+1],16))}else for(var u=0,d=0;d<F.length;d++){var g=F.charCodeAt(d);g<128?a[u++]=g:g<2048?(a[u++]=g>>6|192,a[u++]=g&63|128):t(F,d)?(g=65536+((g&1023)<<10)+(F.charCodeAt(++d)&1023),a[u++]=g>>18|240,a[u++]=g>>12&63|128,a[u++]=g>>6&63|128,a[u++]=g&63|128):(a[u++]=g>>12|224,a[u++]=g>>6&63|128,a[u++]=g&63|128)}else for(d=0;d<F.length;d++)a[d]=F[d]|0;return a}pt.toArray=i;function n(F){for(var w="",a=0;a<F.length;a++)w+=c(F[a].toString(16));return w}pt.toHex=n;function s(F){var w=F>>>24|F>>>8&65280|F<<8&16711680|(F&255)<<24;return w>>>0}pt.htonl=s;function o(F,w){for(var a="",u=0;u<F.length;u++){var d=F[u];w==="little"&&(d=s(d)),a+=l(d.toString(16))}return a}pt.toHex32=o;function c(F){return F.length===1?"0"+F:F}pt.zero2=c;function l(F){return F.length===7?"0"+F:F.length===6?"00"+F:F.length===5?"000"+F:F.length===4?"0000"+F:F.length===3?"00000"+F:F.length===2?"000000"+F:F.length===1?"0000000"+F:F}pt.zero8=l;function h(F,w,a,u){var d=a-w;r(d%4===0);for(var g=new Array(d/4),E=0,M=w;E<g.length;E++,M+=4){var O;u==="big"?O=F[M]<<24|F[M+1]<<16|F[M+2]<<8|F[M+3]:O=F[M+3]<<24|F[M+2]<<16|F[M+1]<<8|F[M],g[E]=O>>>0}return g}pt.join32=h;function p(F,w){for(var a=new Array(F.length*4),u=0,d=0;u<F.length;u++,d+=4){var g=F[u];w==="big"?(a[d]=g>>>24,a[d+1]=g>>>16&255,a[d+2]=g>>>8&255,a[d+3]=g&255):(a[d+3]=g>>>24,a[d+2]=g>>>16&255,a[d+1]=g>>>8&255,a[d]=g&255)}return a}pt.split32=p;function v(F,w){return F>>>w|F<<32-w}pt.rotr32=v;function _(F,w){return F<<w|F>>>32-w}pt.rotl32=_;function A(F,w){return F+w>>>0}pt.sum32=A;function P(F,w,a){return F+w+a>>>0}pt.sum32_3=P;function S(F,w,a,u){return F+w+a+u>>>0}pt.sum32_4=S;function R(F,w,a,u,d){return F+w+a+u+d>>>0}pt.sum32_5=R;function B(F,w,a,u){var d=F[w],g=F[w+1],E=u+g>>>0,M=(E<u?1:0)+a+d;F[w]=M>>>0,F[w+1]=E}pt.sum64=B;function T(F,w,a,u){var d=w+u>>>0,g=(d<w?1:0)+F+a;return g>>>0}pt.sum64_hi=T;function k(F,w,a,u){var d=w+u;return d>>>0}pt.sum64_lo=k;function I(F,w,a,u,d,g,E,M){var O=0,m=w;m=m+u>>>0,O+=m<w?1:0,m=m+g>>>0,O+=m<g?1:0,m=m+M>>>0,O+=m<M?1:0;var f=F+a+d+E+O;return f>>>0}pt.sum64_4_hi=I;function N(F,w,a,u,d,g,E,M){var O=w+u+g+M;return O>>>0}pt.sum64_4_lo=N;function C(F,w,a,u,d,g,E,M,O,m){var f=0,x=w;x=x+u>>>0,f+=x<w?1:0,x=x+g>>>0,f+=x<g?1:0,x=x+M>>>0,f+=x<M?1:0,x=x+m>>>0,f+=x<m?1:0;var $=F+a+d+E+O+f;return $>>>0}pt.sum64_5_hi=C;function b(F,w,a,u,d,g,E,M,O,m){var f=w+u+g+M+m;return f>>>0}pt.sum64_5_lo=b;function D(F,w,a){var u=w<<32-a|F>>>a;return u>>>0}pt.rotr64_hi=D;function U(F,w,a){var u=F<<32-a|w>>>a;return u>>>0}pt.rotr64_lo=U;function j(F,w,a){return F>>>a}pt.shr64_hi=j;function q(F,w,a){var u=F<<32-a|w>>>a;return u>>>0}return pt.shr64_lo=q,pt}var p0={},w1;function ko(){if(w1)return p0;w1=1;var r=Pi(),e=To();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return p0.BlockHash=t,t.prototype.update=function(n,s){if(n=r.toArray(n,s),this.pending?this.pending=this.pending.concat(n):this.pending=n,this.pendingTotal+=n.length,this.pending.length>=this._delta8){n=this.pending;var o=n.length%this._delta8;this.pending=n.slice(n.length-o,n.length),this.pending.length===0&&(this.pending=null),n=r.join32(n,0,n.length-o,this.endian);for(var c=0;c<n.length;c+=this._delta32)this._update(n,c,c+this._delta32)}return this},t.prototype.digest=function(n){return this.update(this._pad()),e(this.pending===null),this._digest(n)},t.prototype._pad=function(){var n=this.pendingTotal,s=this._delta8,o=s-(n+this.padLength)%s,c=new Array(o+this.padLength);c[0]=128;for(var l=1;l<o;l++)c[l]=0;if(n<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)c[l++]=0;c[l++]=0,c[l++]=0,c[l++]=0,c[l++]=0,c[l++]=n>>>24&255,c[l++]=n>>>16&255,c[l++]=n>>>8&255,c[l++]=n&255}else for(c[l++]=n&255,c[l++]=n>>>8&255,c[l++]=n>>>16&255,c[l++]=n>>>24&255,c[l++]=0,c[l++]=0,c[l++]=0,c[l++]=0,h=8;h<this.padLength;h++)c[l++]=0;return c},p0}var es={},Ri={},y1;function E1(){if(y1)return Ri;y1=1;var r=Pi(),e=r.rotr32;function t(p,v,_,A){if(p===0)return i(v,_,A);if(p===1||p===3)return s(v,_,A);if(p===2)return n(v,_,A)}Ri.ft_1=t;function i(p,v,_){return p&v^~p&_}Ri.ch32=i;function n(p,v,_){return p&v^p&_^v&_}Ri.maj32=n;function s(p,v,_){return p^v^_}Ri.p32=s;function o(p){return e(p,2)^e(p,13)^e(p,22)}Ri.s0_256=o;function c(p){return e(p,6)^e(p,11)^e(p,25)}Ri.s1_256=c;function l(p){return e(p,7)^e(p,18)^p>>>3}Ri.g0_256=l;function h(p){return e(p,17)^e(p,19)^p>>>10}return Ri.g1_256=h,Ri}var g0,_1;function Vy(){if(_1)return g0;_1=1;var r=Pi(),e=ko(),t=E1(),i=r.rotl32,n=r.sum32,s=r.sum32_5,o=t.ft_1,c=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(h,c),g0=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(v,_){for(var A=this.W,P=0;P<16;P++)A[P]=v[_+P];for(;P<A.length;P++)A[P]=i(A[P-3]^A[P-8]^A[P-14]^A[P-16],1);var S=this.h[0],R=this.h[1],B=this.h[2],T=this.h[3],k=this.h[4];for(P=0;P<A.length;P++){var I=~~(P/20),N=s(i(S,5),o(I,R,B,T),k,A[P],l[I]);k=T,T=B,B=i(R,30),R=S,S=N}this.h[0]=n(this.h[0],S),this.h[1]=n(this.h[1],R),this.h[2]=n(this.h[2],B),this.h[3]=n(this.h[3],T),this.h[4]=n(this.h[4],k)},h.prototype._digest=function(v){return v==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},g0}var m0,A1;function S1(){if(A1)return m0;A1=1;var r=Pi(),e=ko(),t=E1(),i=To(),n=r.sum32,s=r.sum32_4,o=r.sum32_5,c=t.ch32,l=t.maj32,h=t.s0_256,p=t.s1_256,v=t.g0_256,_=t.g1_256,A=e.BlockHash,P=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function S(){if(!(this instanceof S))return new S;A.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=P,this.W=new Array(64)}return r.inherits(S,A),m0=S,S.blockSize=512,S.outSize=256,S.hmacStrength=192,S.padLength=64,S.prototype._update=function(B,T){for(var k=this.W,I=0;I<16;I++)k[I]=B[T+I];for(;I<k.length;I++)k[I]=s(_(k[I-2]),k[I-7],v(k[I-15]),k[I-16]);var N=this.h[0],C=this.h[1],b=this.h[2],D=this.h[3],U=this.h[4],j=this.h[5],q=this.h[6],F=this.h[7];for(i(this.k.length===k.length),I=0;I<k.length;I++){var w=o(F,p(U),c(U,j,q),this.k[I],k[I]),a=n(h(N),l(N,C,b));F=q,q=j,j=U,U=n(D,w),D=b,b=C,C=N,N=n(w,a)}this.h[0]=n(this.h[0],N),this.h[1]=n(this.h[1],C),this.h[2]=n(this.h[2],b),this.h[3]=n(this.h[3],D),this.h[4]=n(this.h[4],U),this.h[5]=n(this.h[5],j),this.h[6]=n(this.h[6],q),this.h[7]=n(this.h[7],F)},S.prototype._digest=function(B){return B==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},m0}var b0,C1;function Gy(){if(C1)return b0;C1=1;var r=Pi(),e=S1();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),b0=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(n){return n==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},b0}var x0,M1;function I1(){if(M1)return x0;M1=1;var r=Pi(),e=ko(),t=To(),i=r.rotr64_hi,n=r.rotr64_lo,s=r.shr64_hi,o=r.shr64_lo,c=r.sum64,l=r.sum64_hi,h=r.sum64_lo,p=r.sum64_4_hi,v=r.sum64_4_lo,_=r.sum64_5_hi,A=r.sum64_5_lo,P=e.BlockHash,S=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function R(){if(!(this instanceof R))return new R;P.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=S,this.W=new Array(160)}r.inherits(R,P),x0=R,R.blockSize=1024,R.outSize=512,R.hmacStrength=192,R.padLength=128,R.prototype._prepareBlock=function(a,u){for(var d=this.W,g=0;g<32;g++)d[g]=a[u+g];for(;g<d.length;g+=2){var E=q(d[g-4],d[g-3]),M=F(d[g-4],d[g-3]),O=d[g-14],m=d[g-13],f=U(d[g-30],d[g-29]),x=j(d[g-30],d[g-29]),$=d[g-32],y=d[g-31];d[g]=p(E,M,O,m,f,x,$,y),d[g+1]=v(E,M,O,m,f,x,$,y)}},R.prototype._update=function(a,u){this._prepareBlock(a,u);var d=this.W,g=this.h[0],E=this.h[1],M=this.h[2],O=this.h[3],m=this.h[4],f=this.h[5],x=this.h[6],$=this.h[7],y=this.h[8],L=this.h[9],K=this.h[10],H=this.h[11],V=this.h[12],Z=this.h[13],J=this.h[14],Y=this.h[15];t(this.k.length===d.length);for(var ye=0;ye<d.length;ye+=2){var X=J,ne=Y,wt=b(y,L),Ee=D(y,L),_e=B(y,L,K,H,V),Bt=T(y,L,K,H,V,Z),ue=this.k[ye],fe=this.k[ye+1],nt=d[ye],he=d[ye+1],ce=_(X,ne,wt,Ee,_e,Bt,ue,fe,nt,he),et=A(X,ne,wt,Ee,_e,Bt,ue,fe,nt,he);X=N(g,E),ne=C(g,E),wt=k(g,E,M,O,m),Ee=I(g,E,M,O,m,f);var de=l(X,ne,wt,Ee),le=h(X,ne,wt,Ee);J=V,Y=Z,V=K,Z=H,K=y,H=L,y=l(x,$,ce,et),L=h($,$,ce,et),x=m,$=f,m=M,f=O,M=g,O=E,g=l(ce,et,de,le),E=h(ce,et,de,le)}c(this.h,0,g,E),c(this.h,2,M,O),c(this.h,4,m,f),c(this.h,6,x,$),c(this.h,8,y,L),c(this.h,10,K,H),c(this.h,12,V,Z),c(this.h,14,J,Y)},R.prototype._digest=function(a){return a==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function B(w,a,u,d,g){var E=w&u^~w&g;return E<0&&(E+=4294967296),E}function T(w,a,u,d,g,E){var M=a&d^~a&E;return M<0&&(M+=4294967296),M}function k(w,a,u,d,g){var E=w&u^w&g^u&g;return E<0&&(E+=4294967296),E}function I(w,a,u,d,g,E){var M=a&d^a&E^d&E;return M<0&&(M+=4294967296),M}function N(w,a){var u=i(w,a,28),d=i(a,w,2),g=i(a,w,7),E=u^d^g;return E<0&&(E+=4294967296),E}function C(w,a){var u=n(w,a,28),d=n(a,w,2),g=n(a,w,7),E=u^d^g;return E<0&&(E+=4294967296),E}function b(w,a){var u=i(w,a,14),d=i(w,a,18),g=i(a,w,9),E=u^d^g;return E<0&&(E+=4294967296),E}function D(w,a){var u=n(w,a,14),d=n(w,a,18),g=n(a,w,9),E=u^d^g;return E<0&&(E+=4294967296),E}function U(w,a){var u=i(w,a,1),d=i(w,a,8),g=s(w,a,7),E=u^d^g;return E<0&&(E+=4294967296),E}function j(w,a){var u=n(w,a,1),d=n(w,a,8),g=o(w,a,7),E=u^d^g;return E<0&&(E+=4294967296),E}function q(w,a){var u=i(w,a,19),d=i(a,w,29),g=s(w,a,6),E=u^d^g;return E<0&&(E+=4294967296),E}function F(w,a){var u=n(w,a,19),d=n(a,w,29),g=o(w,a,6),E=u^d^g;return E<0&&(E+=4294967296),E}return x0}var v0,P1;function Jy(){if(P1)return v0;P1=1;var r=Pi(),e=I1();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),v0=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(n){return n==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},v0}var R1;function Qy(){return R1||(R1=1,es.sha1=Vy(),es.sha224=Gy(),es.sha256=S1(),es.sha384=Jy(),es.sha512=I1()),es}var w0={},D1;function Yy(){if(D1)return w0;D1=1;var r=Pi(),e=ko(),t=r.rotl32,i=r.sum32,n=r.sum32_3,s=r.sum32_4,o=e.BlockHash;function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(c,o),w0.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(R,B){for(var T=this.h[0],k=this.h[1],I=this.h[2],N=this.h[3],C=this.h[4],b=T,D=k,U=I,j=N,q=C,F=0;F<80;F++){var w=i(t(s(T,l(F,k,I,N),R[v[F]+B],h(F)),A[F]),C);T=C,C=N,N=t(I,10),I=k,k=w,w=i(t(s(b,l(79-F,D,U,j),R[_[F]+B],p(F)),P[F]),q),b=q,q=j,j=t(U,10),U=D,D=w}w=n(this.h[1],I,j),this.h[1]=n(this.h[2],N,q),this.h[2]=n(this.h[3],C,b),this.h[3]=n(this.h[4],T,D),this.h[4]=n(this.h[0],k,U),this.h[0]=w},c.prototype._digest=function(R){return R==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function l(S,R,B,T){return S<=15?R^B^T:S<=31?R&B|~R&T:S<=47?(R|~B)^T:S<=63?R&T|B&~T:R^(B|~T)}function h(S){return S<=15?0:S<=31?1518500249:S<=47?1859775393:S<=63?2400959708:2840853838}function p(S){return S<=15?1352829926:S<=31?1548603684:S<=47?1836072691:S<=63?2053994217:0}var v=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],A=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],P=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return w0}var y0,N1;function Zy(){if(N1)return y0;N1=1;var r=Pi(),e=To();function t(i,n,s){if(!(this instanceof t))return new t(i,n,s);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(n,s))}return y0=t,t.prototype._init=function(n){n.length>this.blockSize&&(n=new this.Hash().update(n).digest()),e(n.length<=this.blockSize);for(var s=n.length;s<this.blockSize;s++)n.push(0);for(s=0;s<n.length;s++)n[s]^=54;for(this.inner=new this.Hash().update(n),s=0;s<n.length;s++)n[s]^=106;this.outer=new this.Hash().update(n)},t.prototype.update=function(n,s){return this.inner.update(n,s),this},t.prototype.digest=function(n){return this.outer.update(this.inner.digest()),this.outer.digest(n)},y0}var O1;function Xy(){return O1||(O1=1,(function(r){var e=r;e.utils=Pi(),e.common=ko(),e.sha=Qy(),e.ripemd=Yy(),e.hmac=Zy(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(h0)),h0}var e3=Xy();const Ar=ui(e3);function Us(r,e,t){return t={path:e,exports:{},require:function(i,n){return t3(i,n??t.path)}},r(t,t.exports),t.exports}function t3(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var E0=T1;function T1(r,e){if(!r)throw new Error(e||"Assertion failed")}T1.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)};var gi=Us(function(r,e){var t=e;function i(o,c){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var h=0;h<o.length;h++)l[h]=o[h]|0;return l}if(c==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var h=0;h<o.length;h+=2)l.push(parseInt(o[h]+o[h+1],16))}else for(var h=0;h<o.length;h++){var p=o.charCodeAt(h),v=p>>8,_=p&255;v?l.push(v,_):l.push(_)}return l}t.toArray=i;function n(o){return o.length===1?"0"+o:o}t.zero2=n;function s(o){for(var c="",l=0;l<o.length;l++)c+=n(o[l].toString(16));return c}t.toHex=s,t.encode=function(c,l){return l==="hex"?s(c):c}}),Ur=Us(function(r,e){var t=e;t.assert=E0,t.toArray=gi.toArray,t.zero2=gi.zero2,t.toHex=gi.toHex,t.encode=gi.encode;function i(l,h,p){var v=new Array(Math.max(l.bitLength(),p)+1);v.fill(0);for(var _=1<<h+1,A=l.clone(),P=0;P<v.length;P++){var S,R=A.andln(_-1);A.isOdd()?(R>(_>>1)-1?S=(_>>1)-R:S=R,A.isubn(S)):S=0,v[P]=S,A.iushrn(1)}return v}t.getNAF=i;function n(l,h){var p=[[],[]];l=l.clone(),h=h.clone();for(var v=0,_=0,A;l.cmpn(-v)>0||h.cmpn(-_)>0;){var P=l.andln(3)+v&3,S=h.andln(3)+_&3;P===3&&(P=-1),S===3&&(S=-1);var R;(P&1)===0?R=0:(A=l.andln(7)+v&7,(A===3||A===5)&&S===2?R=-P:R=P),p[0].push(R);var B;(S&1)===0?B=0:(A=h.andln(7)+_&7,(A===3||A===5)&&P===2?B=-S:B=S),p[1].push(B),2*v===R+1&&(v=1-v),2*_===B+1&&(_=1-_),l.iushrn(1),h.iushrn(1)}return p}t.getJSF=n;function s(l,h,p){var v="_"+h;l.prototype[h]=function(){return this[v]!==void 0?this[v]:this[v]=p.call(this)}}t.cachedProperty=s;function o(l){return typeof l=="string"?t.toArray(l,"hex"):l}t.parseBytes=o;function c(l){return new Ve(l,"hex","le")}t.intFromLE=c}),hc=Ur.getNAF,r3=Ur.getJSF,dc=Ur.assert;function An(r,e){this.type=r,this.p=new Ve(e.p,16),this.red=e.prime?Ve.red(e.prime):Ve.mont(this.p),this.zero=new Ve(0).toRed(this.red),this.one=new Ve(1).toRed(this.red),this.two=new Ve(2).toRed(this.red),this.n=e.n&&new Ve(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var ts=An;An.prototype.point=function(){throw new Error("Not implemented")},An.prototype.validate=function(){throw new Error("Not implemented")},An.prototype._fixedNafMul=function(e,t){dc(e.precomputed);var i=e._getDoubles(),n=hc(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2===0?2:1);s/=3;var o=[],c,l;for(c=0;c<n.length;c+=i.step){l=0;for(var h=c+i.step-1;h>=c;h--)l=(l<<1)+n[h];o.push(l)}for(var p=this.jpoint(null,null,null),v=this.jpoint(null,null,null),_=s;_>0;_--){for(c=0;c<o.length;c++)l=o[c],l===_?v=v.mixedAdd(i.points[c]):l===-_&&(v=v.mixedAdd(i.points[c].neg()));p=p.add(v)}return p.toP()},An.prototype._wnafMul=function(e,t){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var s=n.points,o=hc(t,i,this._bitLength),c=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var h=0;l>=0&&o[l]===0;l--)h++;if(l>=0&&h++,c=c.dblp(h),l<0)break;var p=o[l];dc(p!==0),e.type==="affine"?p>0?c=c.mixedAdd(s[p-1>>1]):c=c.mixedAdd(s[-p-1>>1].neg()):p>0?c=c.add(s[p-1>>1]):c=c.add(s[-p-1>>1].neg())}return e.type==="affine"?c.toP():c},An.prototype._wnafMulAdd=function(e,t,i,n,s){var o=this._wnafT1,c=this._wnafT2,l=this._wnafT3,h=0,p,v,_;for(p=0;p<n;p++){_=t[p];var A=_._getNAFPoints(e);o[p]=A.wnd,c[p]=A.points}for(p=n-1;p>=1;p-=2){var P=p-1,S=p;if(o[P]!==1||o[S]!==1){l[P]=hc(i[P],o[P],this._bitLength),l[S]=hc(i[S],o[S],this._bitLength),h=Math.max(l[P].length,h),h=Math.max(l[S].length,h);continue}var R=[t[P],null,null,t[S]];t[P].y.cmp(t[S].y)===0?(R[1]=t[P].add(t[S]),R[2]=t[P].toJ().mixedAdd(t[S].neg())):t[P].y.cmp(t[S].y.redNeg())===0?(R[1]=t[P].toJ().mixedAdd(t[S]),R[2]=t[P].add(t[S].neg())):(R[1]=t[P].toJ().mixedAdd(t[S]),R[2]=t[P].toJ().mixedAdd(t[S].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],T=r3(i[P],i[S]);for(h=Math.max(T[0].length,h),l[P]=new Array(h),l[S]=new Array(h),v=0;v<h;v++){var k=T[0][v]|0,I=T[1][v]|0;l[P][v]=B[(k+1)*3+(I+1)],l[S][v]=0,c[P]=R}}var N=this.jpoint(null,null,null),C=this._wnafT4;for(p=h;p>=0;p--){for(var b=0;p>=0;){var D=!0;for(v=0;v<n;v++)C[v]=l[v][p]|0,C[v]!==0&&(D=!1);if(!D)break;b++,p--}if(p>=0&&b++,N=N.dblp(b),p<0)break;for(v=0;v<n;v++){var U=C[v];U!==0&&(U>0?_=c[v][U-1>>1]:U<0&&(_=c[v][-U-1>>1].neg()),_.type==="affine"?N=N.mixedAdd(_):N=N.add(_))}}for(p=0;p<n;p++)c[p]=null;return s?N:N.toP()};function Yr(r,e){this.curve=r,this.type=e,this.precomputed=null}An.BasePoint=Yr,Yr.prototype.eq=function(){throw new Error("Not implemented")},Yr.prototype.validate=function(){return this.curve.validate(this)},An.prototype.decodePoint=function(e,t){e=Ur.toArray(e,t);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?dc(e[e.length-1]%2===0):e[0]===7&&dc(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")},Yr.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Yr.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))},Yr.prototype.encode=function(e,t){return Ur.encode(this._encode(t),e)},Yr.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Yr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},Yr.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)n=n.dbl();i.push(n)}return{step:e,points:i}},Yr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)t[s]=t[s-1].add(n);return{wnd:e,points:t}},Yr.prototype._getBeta=function(){return null},Yr.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t};var _0=Us(function(r){typeof Object.create=="function"?r.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,i){if(i){t.super_=i;var n=function(){};n.prototype=i.prototype,t.prototype=new n,t.prototype.constructor=t}}}),i3=Ur.assert;function Zr(r){ts.call(this,"short",r),this.a=new Ve(r.a,16).toRed(this.red),this.b=new Ve(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}_0(Zr,ts);var n3=Zr;Zr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,i;if(e.beta)t=new Ve(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=n[0].cmp(n[1])<0?n[0]:n[1],t=t.toRed(this.red)}if(e.lambda)i=new Ve(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?i=s[0]:(i=s[1],i3(this.g.mul(i).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(c){return{a:new Ve(c.a,16),b:new Ve(c.b,16)}}):o=this._getEndoBasis(i),{beta:t,lambda:i,basis:o}}},Zr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Ve.mont(e),i=new Ve(2).toRed(t).redInvm(),n=i.redNeg(),s=new Ve(3).toRed(t).redNeg().redSqrt().redMul(i),o=n.redAdd(s).fromRed(),c=n.redSub(s).fromRed();return[o,c]},Zr.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),s=new Ve(1),o=new Ve(0),c=new Ve(0),l=new Ve(1),h,p,v,_,A,P,S,R=0,B,T;i.cmpn(0)!==0;){var k=n.div(i);B=n.sub(k.mul(i)),T=c.sub(k.mul(s));var I=l.sub(k.mul(o));if(!v&&B.cmp(t)<0)h=S.neg(),p=s,v=B.neg(),_=T;else if(v&&++R===2)break;S=B,n=i,i=B,c=s,s=T,l=o,o=I}A=B.neg(),P=T;var N=v.sqr().add(_.sqr()),C=A.sqr().add(P.sqr());return C.cmp(N)>=0&&(A=h,P=p),v.negative&&(v=v.neg(),_=_.neg()),A.negative&&(A=A.neg(),P=P.neg()),[{a:v,b:_},{a:A,b:P}]},Zr.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],n=t[1],s=n.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),c=s.mul(i.a),l=o.mul(n.a),h=s.mul(i.b),p=o.mul(n.b),v=e.sub(c).sub(l),_=h.add(p).neg();return{k1:v,k2:_}},Zr.prototype.pointFromX=function(e,t){e=new Ve(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)},Zr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,n=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0},Zr.prototype._endoWnafMulAdd=function(e,t,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var c=this._endoSplit(t[o]),l=e[o],h=l._getBeta();c.k1.negative&&(c.k1.ineg(),l=l.neg(!0)),c.k2.negative&&(c.k2.ineg(),h=h.neg(!0)),n[o*2]=l,n[o*2+1]=h,s[o*2]=c.k1,s[o*2+1]=c.k2}for(var p=this._wnafMulAdd(1,n,s,o*2,i),v=0;v<o*2;v++)n[v]=null,s[v]=null;return p};function Ht(r,e,t,i){ts.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ve(e,16),this.y=new Ve(t,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}_0(Ht,ts.BasePoint),Zr.prototype.point=function(e,t,i){return new Ht(this,e,t,i)},Zr.prototype.pointFromJSON=function(e,t){return Ht.fromJSON(this,e,t)},Ht.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Ht.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Ht.fromJSON=function(e,t,i){typeof t=="string"&&(t=JSON.parse(t));var n=e.point(t[0],t[1],i);if(!t[2])return n;function s(c){return e.point(c[0],c[1],i)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(s))}},n},Ht.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Ht.prototype.isInfinity=function(){return this.inf},Ht.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)},Ht.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n),o=s.redSqr().redISub(this.x.redAdd(this.x)),c=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,c)},Ht.prototype.getX=function(){return this.x.fromRed()},Ht.prototype.getY=function(){return this.y.fromRed()},Ht.prototype.mul=function(e){return e=new Ve(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Ht.prototype.mulAdd=function(e,t,i){var n=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)},Ht.prototype.jmulAdd=function(e,t,i){var n=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)},Ht.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Ht.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return t},Ht.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function er(r,e,t,i){ts.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ve(0)):(this.x=new Ve(e,16),this.y=new Ve(t,16),this.z=new Ve(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}_0(er,ts.BasePoint),Zr.prototype.jpoint=function(e,t,i){return new er(this,e,t,i)},er.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(i,n)},er.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},er.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(t),s=e.x.redMul(i),o=this.y.redMul(t.redMul(e.z)),c=e.y.redMul(i.redMul(this.z)),l=n.redSub(s),h=o.redSub(c);if(l.cmpn(0)===0)return h.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=l.redSqr(),v=p.redMul(l),_=n.redMul(p),A=h.redSqr().redIAdd(v).redISub(_).redISub(_),P=h.redMul(_.redISub(A)).redISub(o.redMul(v)),S=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(A,P,S)},er.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,n=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),c=i.redSub(n),l=s.redSub(o);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=c.redSqr(),p=h.redMul(c),v=i.redMul(h),_=l.redSqr().redIAdd(p).redISub(v).redISub(v),A=l.redMul(v.redISub(_)).redISub(s.redMul(p)),P=this.z.redMul(c);return this.curve.jpoint(_,A,P)},er.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,o=this.x,c=this.y,l=this.z,h=l.redSqr().redSqr(),p=c.redAdd(c);for(t=0;t<e;t++){var v=o.redSqr(),_=p.redSqr(),A=_.redSqr(),P=v.redAdd(v).redIAdd(v).redIAdd(n.redMul(h)),S=o.redMul(_),R=P.redSqr().redISub(S.redAdd(S)),B=S.redISub(R),T=P.redMul(B);T=T.redIAdd(T).redISub(A);var k=p.redMul(l);t+1<e&&(h=h.redMul(A)),o=R,l=k,p=T}return this.curve.jpoint(o,p.redMul(s),l)},er.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},er.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(n).redISub(o);c=c.redIAdd(c);var l=n.redAdd(n).redIAdd(n),h=l.redSqr().redISub(c).redISub(c),p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),e=h,t=l.redMul(c.redISub(h)).redISub(p),i=this.y.redAdd(this.y)}else{var v=this.x.redSqr(),_=this.y.redSqr(),A=_.redSqr(),P=this.x.redAdd(_).redSqr().redISub(v).redISub(A);P=P.redIAdd(P);var S=v.redAdd(v).redIAdd(v),R=S.redSqr(),B=A.redIAdd(A);B=B.redIAdd(B),B=B.redIAdd(B),e=R.redISub(P).redISub(P),t=S.redMul(P.redISub(e)).redISub(B),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)},er.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),c=this.x.redAdd(s).redSqr().redISub(n).redISub(o);c=c.redIAdd(c);var l=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),h=l.redSqr().redISub(c).redISub(c);e=h;var p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),t=l.redMul(c.redISub(h)).redISub(p),i=this.y.redAdd(this.y)}else{var v=this.z.redSqr(),_=this.y.redSqr(),A=this.x.redMul(_),P=this.x.redSub(v).redMul(this.x.redAdd(v));P=P.redAdd(P).redIAdd(P);var S=A.redIAdd(A);S=S.redIAdd(S);var R=S.redAdd(S);e=P.redSqr().redISub(R),i=this.y.redAdd(this.z).redSqr().redISub(_).redISub(v);var B=_.redSqr();B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B),t=P.redMul(S.redISub(e)).redISub(B)}return this.curve.jpoint(e,t,i)},er.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),o=t.redSqr(),c=i.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),h=t.redAdd(t);h=h.redIAdd(h);var p=h.redMul(c),v=l.redSqr().redISub(p.redAdd(p)),_=p.redISub(v),A=c.redSqr();A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A);var P=l.redMul(_).redISub(A),S=i.redAdd(i).redMul(n);return this.curve.jpoint(v,P,S)},er.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),n=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),c=this.x.redAdd(t).redSqr().redISub(e).redISub(n);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(o);var l=c.redSqr(),h=n.redIAdd(n);h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var p=s.redIAdd(c).redSqr().redISub(o).redISub(l).redISub(h),v=t.redMul(p);v=v.redIAdd(v),v=v.redIAdd(v);var _=this.x.redMul(l).redISub(v);_=_.redIAdd(_),_=_.redIAdd(_);var A=this.y.redMul(p.redMul(h.redISub(p)).redISub(c.redMul(l)));A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A);var P=this.z.redAdd(c).redSqr().redISub(i).redISub(l);return this.curve.jpoint(_,A,P)},er.prototype.mul=function(e,t){return e=new Ve(e,t),this.curve._wnafMul(this,e)},er.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var n=t.redMul(this.z),s=i.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0)===0},er.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}},er.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},er.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var pc=Us(function(r,e){var t=e;t.base=ts,t.short=n3,t.mont=null,t.edwards=null}),gc=Us(function(r,e){var t=e,i=Ur.assert;function n(c){c.type==="short"?this.curve=new pc.short(c):c.type==="edwards"?this.curve=new pc.edwards(c):this.curve=new pc.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=n;function s(c,l){Object.defineProperty(t,c,{configurable:!0,enumerable:!0,get:function(){var h=new n(l);return Object.defineProperty(t,c,{configurable:!0,enumerable:!0,value:h}),h}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ar.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ar.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ar.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ar.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ar.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ar.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ar.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ar.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Sn(r){if(!(this instanceof Sn))return new Sn(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=gi.toArray(r.entropy,r.entropyEnc||"hex"),t=gi.toArray(r.nonce,r.nonceEnc||"hex"),i=gi.toArray(r.pers,r.persEnc||"hex");E0(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,i)}var k1=Sn;Sn.prototype._init=function(e,t,i){var n=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Sn.prototype._hmac=function(){return new Ar.hmac(this.hash,this.K)},Sn.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Sn.prototype.reseed=function(e,t,i,n){typeof t!="string"&&(n=i,i=t,t=null),e=gi.toArray(e,t),i=gi.toArray(i,n),E0(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1},Sn.prototype.generate=function(e,t,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(n=i,i=t,t=null),i&&(i=gi.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(i),this._reseed++,gi.encode(o,t)};var A0=Ur.assert;function sr(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var S0=sr;sr.fromPublic=function(e,t,i){return t instanceof sr?t:new sr(e,{pub:t,pubEnc:i})},sr.fromPrivate=function(e,t,i){return t instanceof sr?t:new sr(e,{priv:t,privEnc:i})},sr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},sr.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},sr.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},sr.prototype._importPrivate=function(e,t){this.priv=new Ve(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},sr.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?A0(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&A0(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},sr.prototype.derive=function(e){return e.validate()||A0(e.validate(),"public point not validated"),e.mul(this.priv).getX()},sr.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)},sr.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},sr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var s3=Ur.assert;function mc(r,e){if(r instanceof mc)return r;this._importDER(r,e)||(s3(r.r&&r.s,"Signature without r or s"),this.r=new Ve(r.r,16),this.s=new Ve(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var bc=mc;function o3(){this.place=0}function C0(r,e){var t=r[e.place++];if(!(t&128))return t;var i=t&15;if(i===0||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=r[o],n>>>=0;return n<=127?!1:(e.place=o,n)}function B1(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}mc.prototype._importDER=function(e,t){e=Ur.toArray(e,t);var i=new o3;if(e[i.place++]!==48)return!1;var n=C0(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var s=C0(e,i);if(s===!1)return!1;var o=e.slice(i.place,s+i.place);if(i.place+=s,e[i.place++]!==2)return!1;var c=C0(e,i);if(c===!1||e.length!==c+i.place)return!1;var l=e.slice(i.place,c+i.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Ve(o),this.s=new Ve(l),this.recoveryParam=null,!0};function M0(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}mc.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),i[0]&128&&(i=[0].concat(i)),t=B1(t),i=B1(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];M0(n,t.length),n=n.concat(t),n.push(2),M0(n,i.length);var s=n.concat(i),o=[48];return M0(o,s.length),o=o.concat(s),Ur.encode(o,e)};var a3=(function(){throw new Error("unsupported")}),$1=Ur.assert;function Xr(r){if(!(this instanceof Xr))return new Xr(r);typeof r=="string"&&($1(Object.prototype.hasOwnProperty.call(gc,r),"Unknown curve "+r),r=gc[r]),r instanceof gc.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var c3=Xr;Xr.prototype.keyPair=function(e){return new S0(this,e)},Xr.prototype.keyFromPrivate=function(e,t){return S0.fromPrivate(this,e,t)},Xr.prototype.keyFromPublic=function(e,t){return S0.fromPublic(this,e,t)},Xr.prototype.genKeyPair=function(e){e||(e={});for(var t=new k1({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a3(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new Ve(2));;){var s=new Ve(t.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}},Xr.prototype._truncateToN=function(e,t){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Xr.prototype.sign=function(e,t,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new Ve(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),c=e.toArray("be",s),l=new k1({hash:this.hash,entropy:o,nonce:c,pers:n.pers,persEnc:n.persEnc||"utf8"}),h=this.n.sub(new Ve(1)),p=0;;p++){var v=n.k?n.k(p):new Ve(l.generate(this.n.byteLength()));if(v=this._truncateToN(v,!0),!(v.cmpn(1)<=0||v.cmp(h)>=0)){var _=this.g.mul(v);if(!_.isInfinity()){var A=_.getX(),P=A.umod(this.n);if(P.cmpn(0)!==0){var S=v.invm(this.n).mul(P.mul(t.getPrivate()).iadd(e));if(S=S.umod(this.n),S.cmpn(0)!==0){var R=(_.getY().isOdd()?1:0)|(A.cmp(P)!==0?2:0);return n.canonical&&S.cmp(this.nh)>0&&(S=this.n.sub(S),R^=1),new bc({r:P,s:S,recoveryParam:R})}}}}}},Xr.prototype.verify=function(e,t,i,n){e=this._truncateToN(new Ve(e,16)),i=this.keyFromPublic(i,n),t=new bc(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var c=o.invm(this.n),l=c.mul(e).umod(this.n),h=c.mul(s).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(l,i.getPublic(),h),p.isInfinity()?!1:p.eqXToP(s)):(p=this.g.mulAdd(l,i.getPublic(),h),p.isInfinity()?!1:p.getX().umod(this.n).cmp(s)===0)},Xr.prototype.recoverPubKey=function(r,e,t,i){$1((3&t)===t,"The recovery param is more than two bits"),e=new bc(e,i);var n=this.n,s=new Ve(r),o=e.r,c=e.s,l=t&1,h=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");h?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var p=e.r.invm(n),v=n.sub(s).mul(p).umod(n),_=c.mul(p).umod(n);return this.g.mulAdd(v,o,_)},Xr.prototype.getKeyRecoveryParam=function(r,e,t,i){if(e=new bc(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(r,e,n)}catch{continue}if(s.eq(t))return n}throw new Error("Unable to find valid recovery factor")};var l3=Us(function(r,e){var t=e;t.version="6.5.4",t.utils=Ur,t.rand=(function(){throw new Error("unsupported")}),t.curve=pc,t.curves=gc,t.ec=c3,t.eddsa=null}),f3=l3.ec;const u3="signing-key/5.7.0",I0=new W(u3);let P0=null;function Di(){return P0||(P0=new f3("secp256k1")),P0}class rs{constructor(e){Q(this,"curve","secp256k1"),Q(this,"privateKey",ie(e)),_i(this.privateKey)!==32&&I0.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Di().keyFromPrivate(te(this.privateKey));Q(this,"publicKey","0x"+t.getPublic(!1,"hex")),Q(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Q(this,"_isSigningKey",!0)}_addPoint(e){const t=Di().keyFromPublic(te(this.publicKey)),i=Di().keyFromPublic(te(e));return"0x"+t.pub.add(i.pub).encodeCompressed("hex")}signDigest(e){const t=Di().keyFromPrivate(te(this.privateKey)),i=te(e);i.length!==32&&I0.throwArgumentError("bad digest length","digest",e);const n=t.sign(i,{canonical:!0});return Gn({recoveryParam:n.recoveryParam,r:bt("0x"+n.r.toString(16),32),s:bt("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=Di().keyFromPrivate(te(this.privateKey)),i=Di().keyFromPublic(te(R0(e)));return bt("0x"+t.derive(i.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function L1(r,e){const t=Gn(e),i={r:te(t.r),s:te(t.s)};return"0x"+Di().recoverPubKey(te(r),i,t.recoveryParam).encode("hex",!1)}function R0(r,e){const t=te(r);if(t.length===32){const i=new rs(t);return e?"0x"+Di().keyFromPrivate(t).getPublic(!0,"hex"):i.publicKey}else{if(t.length===33)return e?ie(t):"0x"+Di().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+Di().keyFromPublic(t).getPublic(!0,"hex"):ie(t)}return I0.throwArgumentError("invalid public or private key","key","[REDACTED]")}const h3="transactions/5.7.0",or=new W(h3);var D0;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(D0||(D0={}));function N0(r){return r==="0x"?null:ht(r)}function ar(r){return r==="0x"?Zl:re.from(r)}const d3=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],p3={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Cn(r){const e=R0(r);return ht(Dt(dt(Dt(e,1)),12))}function Bo(r,e){return Cn(L1(te(r),e))}function Fr(r,e){const t=Ei(re.from(r).toHexString());return t.length>32&&or.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function O0(r,e){return{address:ht(r),storageKeys:(e||[]).map((t,i)=>(_i(t)!==32&&or.throwArgumentError("invalid access list storageKey",`accessList[${r}:${i}]`,t),t.toLowerCase()))}}function Mn(r){if(Array.isArray(r))return r.map((t,i)=>Array.isArray(t)?(t.length>2&&or.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${i}]`,t),O0(t[0],t[1])):O0(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const i=r[t].reduce((n,s)=>(n[s]=!0,n),{});return O0(t,Object.keys(i).sort())});return e.sort((t,i)=>t.address.localeCompare(i.address)),e}function U1(r){return Mn(r).map(e=>[e.address,e.storageKeys])}function F1(r,e){if(r.gasPrice!=null){const i=re.from(r.gasPrice),n=re.from(r.maxFeePerGas||0);i.eq(n)||or.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:i,maxFeePerGas:n})}const t=[Fr(r.chainId||0,"chainId"),Fr(r.nonce||0,"nonce"),Fr(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Fr(r.maxFeePerGas||0,"maxFeePerGas"),Fr(r.gasLimit||0,"gasLimit"),r.to!=null?ht(r.to):"0x",Fr(r.value||0,"value"),r.data||"0x",U1(r.accessList||[])];if(e){const i=Gn(e);t.push(Fr(i.recoveryParam,"recoveryParam")),t.push(Ei(i.r)),t.push(Ei(i.s))}return gr(["0x02",Yn(t)])}function q1(r,e){const t=[Fr(r.chainId||0,"chainId"),Fr(r.nonce||0,"nonce"),Fr(r.gasPrice||0,"gasPrice"),Fr(r.gasLimit||0,"gasLimit"),r.to!=null?ht(r.to):"0x",Fr(r.value||0,"value"),r.data||"0x",U1(r.accessList||[])];if(e){const i=Gn(e);t.push(Fr(i.recoveryParam,"recoveryParam")),t.push(Ei(i.r)),t.push(Ei(i.s))}return gr(["0x01",Yn(t)])}function g3(r,e){Vl(r,p3);const t=[];d3.forEach(function(o){let c=r[o.name]||[];const l={};o.numeric&&(l.hexPad="left"),c=te(ie(c,l)),o.length&&c.length!==o.length&&c.length>0&&or.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,c),o.maxLength&&(c=Ei(c),c.length>o.maxLength&&or.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,c)),t.push(ie(c))});let i=0;if(r.chainId!=null?(i=r.chainId,typeof i!="number"&&or.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!Eo(e)&&e.v>28&&(i=Math.floor((e.v-35)/2)),i!==0&&(t.push(ie(i)),t.push("0x"),t.push("0x")),!e)return Yn(t);const n=Gn(e);let s=27+n.recoveryParam;return i!==0?(t.pop(),t.pop(),t.pop(),s+=i*2+8,n.v>28&&n.v!==s&&or.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):n.v!==s&&or.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(ie(s)),t.push(Ei(te(n.r))),t.push(Ei(te(n.s))),Yn(t)}function T0(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&or.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),g3(r,e);switch(r.type){case 1:return q1(r,e);case 2:return F1(r,e)}return or.throwError(`unsupported transaction type: ${r.type}`,W.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function j1(r,e,t){try{const i=ar(e[0]).toNumber();if(i!==0&&i!==1)throw new Error("bad recid");r.v=i}catch{or.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=bt(e[1],32),r.s=bt(e[2],32);try{const i=dt(t(r));r.from=Bo(i,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function m3(r){const e=tc(r.slice(1));e.length!==9&&e.length!==12&&or.throwArgumentError("invalid component count for transaction type: 2","payload",ie(r));const t=ar(e[2]),i=ar(e[3]),n={type:2,chainId:ar(e[0]).toNumber(),nonce:ar(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:i,gasPrice:null,gasLimit:ar(e[4]),to:N0(e[5]),value:ar(e[6]),data:e[7],accessList:Mn(e[8])};return e.length===9||(n.hash=dt(r),j1(n,e.slice(9),F1)),n}function b3(r){const e=tc(r.slice(1));e.length!==8&&e.length!==11&&or.throwArgumentError("invalid component count for transaction type: 1","payload",ie(r));const t={type:1,chainId:ar(e[0]).toNumber(),nonce:ar(e[1]).toNumber(),gasPrice:ar(e[2]),gasLimit:ar(e[3]),to:N0(e[4]),value:ar(e[5]),data:e[6],accessList:Mn(e[7])};return e.length===8||(t.hash=dt(r),j1(t,e.slice(8),q1)),t}function x3(r){const e=tc(r);e.length!==9&&e.length!==6&&or.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:ar(e[0]).toNumber(),gasPrice:ar(e[1]),gasLimit:ar(e[2]),to:N0(e[3]),value:ar(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=re.from(e[6]).toNumber()}catch{return t}if(t.r=bt(e[7],32),t.s=bt(e[8],32),re.from(t.r).isZero()&&re.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let i=t.v-27;const n=e.slice(0,6);t.chainId!==0&&(n.push(ie(t.chainId)),n.push("0x"),n.push("0x"),i-=t.chainId*2+8);const s=dt(Yn(n));try{t.from=Bo(s,{r:ie(t.r),s:ie(t.s),recoveryParam:i})}catch{}t.hash=dt(r)}return t.type=null,t}function z1(r){const e=te(r);if(e[0]>127)return x3(e);switch(e[0]){case 1:return b3(e);case 2:return m3(e)}return or.throwError(`unsupported transaction type: ${e[0]}`,W.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const v3="contracts/5.7.0";var In=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const gt=new W(v3),w3={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function xc(r,e){return In(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&gt.throwArgumentError("invalid address or ENS name","name",t);try{return ht(t)}catch{}r||gt.throwError("a provider or signer is needed to resolve ENS names",W.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const i=yield r.resolveName(t);return i==null&&gt.throwArgumentError("resolver or addr is not configured for ENS name","name",t),i})}function $o(r,e,t){return In(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((i,n)=>$o(r,Array.isArray(e)?e[n]:e[i.name],i))):t.type==="address"?yield xc(r,e):t.type==="tuple"?yield $o(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(i=>$o(r,i,t.arrayChildren))):Promise.reject(gt.makeError("invalid value for array",W.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function vc(r,e,t){return In(this,void 0,void 0,function*(){let i={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(i=vt(t.pop())),gt.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?i.from?i.from=It({override:xc(r.signer,i.from),signer:r.signer.getAddress()}).then(h=>In(this,void 0,void 0,function*(){return ht(h.signer)!==h.override&&gt.throwError("Contract with a Signer cannot override from",W.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),h.override})):i.from=r.signer.getAddress():i.from&&(i.from=xc(r.provider,i.from));const n=yield It({args:$o(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:It(i)||{}}),s=r.interface.encodeFunctionData(e,n.args),o={data:s,to:n.address},c=n.overrides;if(c.nonce!=null&&(o.nonce=re.from(c.nonce).toNumber()),c.gasLimit!=null&&(o.gasLimit=re.from(c.gasLimit)),c.gasPrice!=null&&(o.gasPrice=re.from(c.gasPrice)),c.maxFeePerGas!=null&&(o.maxFeePerGas=re.from(c.maxFeePerGas)),c.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=re.from(c.maxPriorityFeePerGas)),c.from!=null&&(o.from=c.from),c.type!=null&&(o.type=c.type),c.accessList!=null&&(o.accessList=Mn(c.accessList)),o.gasLimit==null&&e.gas!=null){let h=21e3;const p=te(s);for(let v=0;v<p.length;v++)h+=4,p[v]&&(h+=64);o.gasLimit=re.from(e.gas).add(h)}if(c.value){const h=re.from(c.value);!h.isZero()&&!e.payable&&gt.throwError("non-payable method cannot override value",W.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),o.value=h}c.customData&&(o.customData=vt(c.customData)),c.ccipReadEnabled&&(o.ccipReadEnabled=!!c.ccipReadEnabled),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,delete i.ccipReadEnabled;const l=Object.keys(i).filter(h=>i[h]!=null);return l.length&&gt.throwError(`cannot override ${l.map(h=>JSON.stringify(h)).join(",")}`,W.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),o})}function y3(r,e){return function(...t){return vc(r,e,t)}}function E3(r,e){const t=r.signer||r.provider;return function(...i){return In(this,void 0,void 0,function*(){t||gt.throwError("estimate require a provider or signer",W.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const n=yield vc(r,e,i);return yield t.estimateGas(n)})}}function H1(r,e){const t=e.wait.bind(e);e.wait=i=>t(i).then(n=>(n.events=n.logs.map(s=>{let o=br(s),c=null;try{c=r.interface.parseLog(s)}catch{}return c&&(o.args=c.args,o.decode=(l,h)=>r.interface.decodeEventLog(c.eventFragment,l,h),o.event=c.name,o.eventSignature=c.signature),o.removeListener=()=>r.provider,o.getBlock=()=>r.provider.getBlock(n.blockHash),o.getTransaction=()=>r.provider.getTransaction(n.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(n),o}),n))}function W1(r,e,t){const i=r.signer||r.provider;return function(...n){return In(this,void 0,void 0,function*(){let s;if(n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"){const l=vt(n.pop());l.blockTag!=null&&(s=yield l.blockTag),delete l.blockTag,n.push(l)}r.deployTransaction!=null&&(yield r._deployed(s));const o=yield vc(r,e,n),c=yield i.call(o,s);try{let l=r.interface.decodeFunctionResult(e,c);return t&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===W.errors.CALL_EXCEPTION&&(l.address=r.address,l.args=n,l.transaction=o),l}})}}function _3(r,e){return function(...t){return In(this,void 0,void 0,function*(){r.signer||gt.throwError("sending a transaction requires a signer",W.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const i=yield vc(r,e,t),n=yield r.signer.sendTransaction(i);return H1(r,n),n})}}function K1(r,e,t){return e.constant?W1(r,e,t):_3(r,e)}function V1(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Lo{constructor(e,t){Q(this,"tag",e),Q(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(i=>t||i.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(i=>{const n=e.slice();return setTimeout(()=>{i.listener.apply(this,n)},0),!i.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class A3 extends Lo{constructor(){super("error",null)}}class G1 extends Lo{constructor(e,t,i,n){const s={address:e};let o=t.getEventTopic(i);n?(o!==n[0]&&gt.throwArgumentError("topic mismatch","topics",n),s.topics=n.slice()):s.topics=[o],super(V1(s),s),Q(this,"address",e),Q(this,"interface",t),Q(this,"fragment",i)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,i)=>this.interface.decodeEventLog(this.fragment,t,i);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=Md(e.args);if(t.length)throw t[0].error;const i=(e.args||[]).slice();return i.push(e),i}}class J1 extends Lo{constructor(e,t){super("*",{address:e}),Q(this,"address",e),Q(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(i,n)=>this.interface.decodeEventLog(t.eventFragment,i,n),e.args=t.args}catch{}}}class Q1{constructor(e,t,i){Q(this,"interface",Zt(new.target,"getInterface")(t)),i==null?(Q(this,"provider",null),Q(this,"signer",null)):_n.isSigner(i)?(Q(this,"provider",i.provider||null),Q(this,"signer",i)):Xn.isProvider(i)?(Q(this,"provider",i),Q(this,"signer",null)):gt.throwArgumentError("invalid signer or provider","signerOrProvider",i),Q(this,"callStatic",{}),Q(this,"estimateGas",{}),Q(this,"functions",{}),Q(this,"populateTransaction",{}),Q(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(c=>{const l=this.interface.events[c];Q(this.filters,c,(...h)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,h)})),o[l.name]||(o[l.name]=[]),o[l.name].push(c)}),Object.keys(o).forEach(c=>{const l=o[c];l.length===1?Q(this.filters,c,this.filters[l[0]]):gt.warn(`Duplicate definition of ${c} (${l.join(", ")})`)})}if(Q(this,"_runningEvents",{}),Q(this,"_wrappedEmits",{}),e==null&&gt.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Q(this,"address",e),this.provider)Q(this,"resolvedAddress",xc(this.provider,e));else try{Q(this,"resolvedAddress",Promise.resolve(ht(e)))}catch{gt.throwError("provider is required to use ENS name as contract address",W.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const n={},s={};Object.keys(this.interface.functions).forEach(o=>{const c=this.interface.functions[o];if(s[o]){gt.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const l=c.name;n[`%${l}`]||(n[`%${l}`]=[]),n[`%${l}`].push(o)}this[o]==null&&Q(this,o,K1(this,c,!0)),this.functions[o]==null&&Q(this.functions,o,K1(this,c,!1)),this.callStatic[o]==null&&Q(this.callStatic,o,W1(this,c,!0)),this.populateTransaction[o]==null&&Q(this.populateTransaction,o,y3(this,c)),this.estimateGas[o]==null&&Q(this.estimateGas,o,E3(this,c))}),Object.keys(n).forEach(o=>{const c=n[o];if(c.length>1)return;o=o.substring(1);const l=c[0];try{this[o]==null&&Q(this,o,this[l])}catch{}this.functions[o]==null&&Q(this.functions,o,this.functions[l]),this.callStatic[o]==null&&Q(this.callStatic,o,this.callStatic[l]),this.populateTransaction[o]==null&&Q(this.populateTransaction,o,this.populateTransaction[l]),this.estimateGas[o]==null&&Q(this.estimateGas,o,this.estimateGas[l])})}static getContractAddress(e){return rc(e)}static getInterface(e){return u0.isInterface(e)?e:new u0(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&gt.throwError("contract not deployed",W.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||gt.throwError("sending a transactions require a signer",W.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=vt(e||{});return["from","to"].forEach(function(i){t[i]!=null&&gt.throwError("cannot override "+i,W.errors.UNSUPPORTED_OPERATION,{operation:i})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new lc(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Q(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return cc.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new A3);if(e==="event")return this._normalizeRunningEvent(new Lo("event",null));if(e==="*")return this._normalizeRunningEvent(new J1(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new G1(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const i=e.topics[0];if(typeof i!="string")throw new Error("invalid topic");const n=this.interface.getEvent(i);return this._normalizeRunningEvent(new G1(this.address,this.interface,n,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Lo(V1(t),t))}return this._normalizeRunningEvent(new J1(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,i){const n=br(t);return n.removeListener=()=>{i&&(e.removeListener(i),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,i){if(this.provider||gt.throwError("events require a provider or a signer with a provider",W.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,i),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const n=s=>{let o=this._wrapEvent(e,s,t);if(o.decodeError==null)try{const c=e.getEmit(o);this.emit(e.filter,...c)}catch(c){o.decodeError=c.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=n,e.filter!=null&&this.provider.on(e.filter,n)}}queryFilter(e,t,i){const n=this._getRunningEvent(e),s=vt(n.filter);return typeof t=="string"&&Ke(t,32)?(i!=null&&gt.throwArgumentError("cannot specify toBlock with blockhash","toBlock",i),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=i??"latest"),this.provider.getLogs(s).then(o=>o.map(c=>this._wrapEvent(n,c,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const i=this._getRunningEvent(e),n=i.run(t)>0;return this._checkRunningEvents(i),n}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,i)=>t+this._runningEvents[i].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let i in this._runningEvents)this._runningEvents[i].listeners().forEach(n=>{t.push(n)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const i in this._runningEvents){const n=this._runningEvents[i];n.removeAllListeners(),this._checkRunningEvents(n)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const i=this._getRunningEvent(e);return i.removeListener(t),this._checkRunningEvents(i),this}removeListener(e,t){return this.off(e,t)}}class k0 extends Q1{}class S3{constructor(e,t,i){let n=null;typeof t=="string"?n=t:wn(t)?n=ie(t):t&&typeof t.object=="string"?n=t.object:n="!",n.substring(0,2)!=="0x"&&(n="0x"+n),(!Ke(n)||n.length%2)&&gt.throwArgumentError("invalid bytecode","bytecode",t),i&&!_n.isSigner(i)&&gt.throwArgumentError("invalid signer","signer",i),Q(this,"bytecode",n),Q(this,"interface",Zt(new.target,"getInterface")(e)),Q(this,"signer",i||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&typeof e[e.length-1]=="object"){t=vt(e.pop());for(const i in t)if(!w3[i])throw new Error("unknown transaction override "+i)}return["data","from","to"].forEach(i=>{t[i]!=null&&gt.throwError("cannot override "+i,W.errors.UNSUPPORTED_OPERATION,{operation:i})}),t.value&&!re.from(t.value).isZero()&&!this.interface.deploy.payable&&gt.throwError("non-payable constructor cannot override value",W.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value}),gt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=ie(mt([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return In(this,void 0,void 0,function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),gt.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const i=yield $o(this.signer,e,this.interface.deploy.inputs);i.push(t);const n=this.getDeployTransaction(...i),s=yield this.signer.sendTransaction(n),o=Zt(this.constructor,"getContractAddress")(s),c=Zt(this.constructor,"getContract")(o,this.interface,this.signer);return H1(c,s),Q(c,"deployTransaction",s),c})}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){e==null&&gt.throwError("missing compiler output",W.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),typeof e=="string"&&(e=JSON.parse(e));const i=e.abi;let n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(i,n,t)}static getInterface(e){return k0.getInterface(e)}static getContractAddress(e){return rc(e)}static getContract(e,t,i){return new k0(e,t,i)}}class Y1{constructor(e){Q(this,"alphabet",e),Q(this,"base",e.length),Q(this,"_alphabetMap",{}),Q(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=te(e);if(t.length===0)return"";let i=[0];for(let s=0;s<t.length;++s){let o=t[s];for(let c=0;c<i.length;++c)o+=i[c]<<8,i[c]=o%this.base,o=o/this.base|0;for(;o>0;)i.push(o%this.base),o=o/this.base|0}let n="";for(let s=0;t[s]===0&&s<t.length-1;++s)n+=this._leader;for(let s=i.length-1;s>=0;--s)n+=this.alphabet[i[s]];return n}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let i=0;i<e.length;i++){let n=this._alphabetMap[e[i]];if(n===void 0)throw new Error("Non-base"+this.base+" character");let s=n;for(let o=0;o<t.length;++o)s+=t[o]*this.base,t[o]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let i=0;e[i]===this._leader&&i<e.length-1;++i)t.push(0);return te(new Uint8Array(t.reverse()))}}new Y1("abcdefghijklmnopqrstuvwxyz234567");const Fs=new Y1("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var qs;(function(r){r.sha256="sha256",r.sha512="sha512"})(qs||(qs={}));const C3="sha2/5.7.0",M3=new W(C3);function Z1(r){return"0x"+Ar.ripemd160().update(te(r)).digest("hex")}function Hi(r){return"0x"+Ar.sha256().update(te(r)).digest("hex")}function I3(r){return"0x"+Ar.sha512().update(te(r)).digest("hex")}function Uo(r,e,t){return qs[r]||M3.throwError("unsupported algorithm "+r,W.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+Ar.hmac(Ar[r],te(e)).update(te(t)).digest("hex")}function B0(r,e,t,i,n){r=te(r),e=te(e);let s,o=1;const c=new Uint8Array(i),l=new Uint8Array(e.length+4);l.set(e);let h,p;for(let v=1;v<=o;v++){l[e.length]=v>>24&255,l[e.length+1]=v>>16&255,l[e.length+2]=v>>8&255,l[e.length+3]=v&255;let _=te(Uo(n,r,l));s||(s=_.length,p=new Uint8Array(s),o=Math.ceil(i/s),h=i-(o-1)*s),p.set(_);for(let S=1;S<t;S++){_=te(Uo(n,r,_));for(let R=0;R<s;R++)p[R]^=_[R]}const A=(v-1)*s,P=v===o?h:s;c.set(te(p).slice(0,P),A)}return ie(c)}const P3="wordlists/5.7.0",R3=new W(P3);class js{constructor(e){R3.checkAbstract(new.target,js),Q(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let i=0;i<2048;i++){const n=e.getWord(i);if(i!==e.getWordIndex(n))return"0x";t.push(n)}return En(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const D3="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Fo=null;function X1(r){if(Fo==null&&(Fo=D3.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),js.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Fo=null,new Error("BIP39 Wordlist for en (English) FAILED")}class N3 extends js{constructor(){super("en")}getWord(e){return X1(this),Fo[e]}getWordIndex(e){return X1(this),Fo.indexOf(e)}}const ep=new N3;js.register(ep);const $0={en:ep},O3="hdnode/5.7.0",qo=new W(O3),T3=re.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),k3=Nt("Bitcoin seed"),zs=2147483648;function tp(r){return(1<<r)-1<<8-r}function B3(r){return(1<<r)-1}function wc(r){return bt(ie(r),32)}function rp(r){return Fs.encode(mt([r,Dt(Hi(Hi(r)),0,4)]))}function L0(r){if(r==null)return $0.en;if(typeof r=="string"){const e=$0[r];return e==null&&qo.throwArgumentError("unknown locale","wordlist",r),e}return r}const Hs={},Ws="m/44'/60'/0'/0/0";class qr{constructor(e,t,i,n,s,o,c,l){if(e!==Hs)throw new Error("HDNode constructor cannot be called directly");if(t){const h=new rs(t);Q(this,"privateKey",h.privateKey),Q(this,"publicKey",h.compressedPublicKey)}else Q(this,"privateKey",null),Q(this,"publicKey",ie(i));Q(this,"parentFingerprint",n),Q(this,"fingerprint",Dt(Z1(Hi(this.publicKey)),0,4)),Q(this,"address",Cn(this.publicKey)),Q(this,"chainCode",s),Q(this,"index",o),Q(this,"depth",c),l==null?(Q(this,"mnemonic",null),Q(this,"path",null)):typeof l=="string"?(Q(this,"mnemonic",null),Q(this,"path",l)):(Q(this,"mnemonic",l),Q(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return rp(mt([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ie(this.depth),this.parentFingerprint,bt(ie(this.index),4),this.chainCode,this.privateKey!=null?mt(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new qr(Hs,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~zs));const i=new Uint8Array(37);if(e&zs){if(!this.privateKey)throw new Error("cannot derive child of neutered node");i.set(te(this.privateKey),1),t&&(t+="'")}else i.set(te(this.publicKey));for(let v=24;v>=0;v-=8)i[33+(v>>3)]=e>>24-v&255;const n=te(Uo(qs.sha512,this.chainCode,i)),s=n.slice(0,32),o=n.slice(32);let c=null,l=null;this.privateKey?c=wc(re.from(s).add(this.privateKey).mod(T3)):l=new rs(ie(s))._addPoint(this.publicKey);let h=t;const p=this.mnemonic;return p&&(h=Object.freeze({phrase:p.phrase,path:t,locale:p.locale||"en"})),new qr(Hs,c,l,this.fingerprint,wc(o),e,this.depth+1,h)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let i=this;for(let n=0;n<t.length;n++){const s=t[n];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=zs)throw new Error("invalid path index - "+s);i=i._derive(zs+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=zs)throw new Error("invalid path index - "+s);i=i._derive(o)}else throw new Error("invalid path component - "+s)}return i}static _fromSeed(e,t){const i=te(e);if(i.length<16||i.length>64)throw new Error("invalid seed");const n=te(Uo(qs.sha512,k3,i));return new qr(Hs,wc(n.slice(0,32)),null,"0x00000000",wc(n.slice(32)),0,0,t)}static fromMnemonic(e,t,i){return i=L0(i),e=Ec(yc(e,i),i),qr._fromSeed(ip(e,t),{phrase:e,path:"m",locale:i.locale})}static fromSeed(e){return qr._fromSeed(e,null)}static fromExtendedKey(e){const t=Fs.decode(e);(t.length!==82||rp(t.slice(0,78))!==e)&&qo.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const i=t[4],n=ie(t.slice(5,9)),s=parseInt(ie(t.slice(9,13)).substring(2),16),o=ie(t.slice(13,45)),c=t.slice(45,78);switch(ie(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new qr(Hs,null,ie(c),n,o,s,i,null);case"0x0488ade4":case"0x04358394 ":if(c[0]!==0)break;return new qr(Hs,ie(c.slice(1)),null,n,o,s,i,null)}return qo.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function ip(r,e){e||(e="");const t=Nt("mnemonic"+e,Ii.NFKD);return B0(Nt(r,Ii.NFKD),t,2048,64,"sha512")}function yc(r,e){e=L0(e),qo.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const i=te(new Uint8Array(Math.ceil(11*t.length/8)));let n=0;for(let h=0;h<t.length;h++){let p=e.getWordIndex(t[h].normalize("NFKD"));if(p===-1)throw new Error("invalid mnemonic");for(let v=0;v<11;v++)p&1<<10-v&&(i[n>>3]|=1<<7-n%8),n++}const s=32*t.length/3,o=t.length/3,c=tp(o);if((te(Hi(i.slice(0,s/8)))[0]&c)!==(i[i.length-1]&c))throw new Error("invalid checksum");return ie(i.slice(0,s/8))}function Ec(r,e){if(e=L0(e),r=te(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let i=11;for(let o=0;o<r.length;o++)i>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],i-=8):(t[t.length-1]<<=i,t[t.length-1]|=r[o]>>8-i,t.push(r[o]&B3(8-i)),i+=3);const n=r.length/4,s=te(Hi(r))[0]&tp(n);return t[t.length-1]<<=n,t[t.length-1]|=s>>8-n,e.join(t.map(o=>e.getWord(o)))}function $3(r,e){try{return yc(r,e),!0}catch{}return!1}function L3(r){return(typeof r!="number"||r<0||r>=zs||r%1)&&qo.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const U3="random/5.7.0",U0=new W(U3);function F3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const np=F3();let _c=np.crypto||np.msCrypto;(!_c||!_c.getRandomValues)&&(U0.warn("WARNING: Missing strong random number source"),_c={getRandomValues:function(r){return U0.throwError("no secure random source avaialble",W.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Ks(r){(r<=0||r>1024||r%1||r!=r)&&U0.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return _c.getRandomValues(e),te(e)}function sp(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),i=r[e];r[e]=r[t],r[t]=i}return r}var F0={exports:{}},op;function q3(){return op||(op=1,(function(r,e){(function(t){function i(m){return parseInt(m)===m}function n(m){if(!i(m.length))return!1;for(var f=0;f<m.length;f++)if(!i(m[f])||m[f]<0||m[f]>255)return!1;return!0}function s(m,f){if(m.buffer&&ArrayBuffer.isView(m)&&m.name==="Uint8Array")return f&&(m.slice?m=m.slice():m=Array.prototype.slice.call(m)),m;if(Array.isArray(m)){if(!n(m))throw new Error("Array contains invalid value: "+m);return new Uint8Array(m)}if(i(m.length)&&n(m))return new Uint8Array(m);throw new Error("unsupported array-like object")}function o(m){return new Uint8Array(m)}function c(m,f,x,$,y){($!=null||y!=null)&&(m.slice?m=m.slice($,y):m=Array.prototype.slice.call(m,$,y)),f.set(m,x)}var l=(function(){function m(x){var $=[],y=0;for(x=encodeURI(x);y<x.length;){var L=x.charCodeAt(y++);L===37?($.push(parseInt(x.substr(y,2),16)),y+=2):$.push(L)}return s($)}function f(x){for(var $=[],y=0;y<x.length;){var L=x[y];L<128?($.push(String.fromCharCode(L)),y++):L>191&&L<224?($.push(String.fromCharCode((L&31)<<6|x[y+1]&63)),y+=2):($.push(String.fromCharCode((L&15)<<12|(x[y+1]&63)<<6|x[y+2]&63)),y+=3)}return $.join("")}return{toBytes:m,fromBytes:f}})(),h=(function(){function m($){for(var y=[],L=0;L<$.length;L+=2)y.push(parseInt($.substr(L,2),16));return y}var f="0123456789abcdef";function x($){for(var y=[],L=0;L<$.length;L++){var K=$[L];y.push(f[(K&240)>>4]+f[K&15])}return y.join("")}return{toBytes:m,fromBytes:x}})(),p={16:10,24:12,32:14},v=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],_=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],A=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],P=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],S=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],R=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],B=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],T=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],k=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],I=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],N=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],C=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],b=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],D=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],U=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function j(m){for(var f=[],x=0;x<m.length;x+=4)f.push(m[x]<<24|m[x+1]<<16|m[x+2]<<8|m[x+3]);return f}var q=function(m){if(!(this instanceof q))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(m,!0)}),this._prepare()};q.prototype._prepare=function(){var m=p[this.key.length];if(m==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var f=0;f<=m;f++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var x=(m+1)*4,$=this.key.length/4,y=j(this.key),L,f=0;f<$;f++)L=f>>2,this._Ke[L][f%4]=y[f],this._Kd[m-L][f%4]=y[f];for(var K=0,H=$,V;H<x;){if(V=y[$-1],y[0]^=_[V>>16&255]<<24^_[V>>8&255]<<16^_[V&255]<<8^_[V>>24&255]^v[K]<<24,K+=1,$!=8)for(var f=1;f<$;f++)y[f]^=y[f-1];else{for(var f=1;f<$/2;f++)y[f]^=y[f-1];V=y[$/2-1],y[$/2]^=_[V&255]^_[V>>8&255]<<8^_[V>>16&255]<<16^_[V>>24&255]<<24;for(var f=$/2+1;f<$;f++)y[f]^=y[f-1]}for(var f=0,Z,J;f<$&&H<x;)Z=H>>2,J=H%4,this._Ke[Z][J]=y[f],this._Kd[m-Z][J]=y[f++],H++}for(var Z=1;Z<m;Z++)for(var J=0;J<4;J++)V=this._Kd[Z][J],this._Kd[Z][J]=C[V>>24&255]^b[V>>16&255]^D[V>>8&255]^U[V&255]},q.prototype.encrypt=function(m){if(m.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var f=this._Ke.length-1,x=[0,0,0,0],$=j(m),y=0;y<4;y++)$[y]^=this._Ke[0][y];for(var L=1;L<f;L++){for(var y=0;y<4;y++)x[y]=P[$[y]>>24&255]^S[$[(y+1)%4]>>16&255]^R[$[(y+2)%4]>>8&255]^B[$[(y+3)%4]&255]^this._Ke[L][y];$=x.slice()}for(var K=o(16),H,y=0;y<4;y++)H=this._Ke[f][y],K[4*y]=(_[$[y]>>24&255]^H>>24)&255,K[4*y+1]=(_[$[(y+1)%4]>>16&255]^H>>16)&255,K[4*y+2]=(_[$[(y+2)%4]>>8&255]^H>>8)&255,K[4*y+3]=(_[$[(y+3)%4]&255]^H)&255;return K},q.prototype.decrypt=function(m){if(m.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var f=this._Kd.length-1,x=[0,0,0,0],$=j(m),y=0;y<4;y++)$[y]^=this._Kd[0][y];for(var L=1;L<f;L++){for(var y=0;y<4;y++)x[y]=T[$[y]>>24&255]^k[$[(y+3)%4]>>16&255]^I[$[(y+2)%4]>>8&255]^N[$[(y+1)%4]&255]^this._Kd[L][y];$=x.slice()}for(var K=o(16),H,y=0;y<4;y++)H=this._Kd[f][y],K[4*y]=(A[$[y]>>24&255]^H>>24)&255,K[4*y+1]=(A[$[(y+3)%4]>>16&255]^H>>16)&255,K[4*y+2]=(A[$[(y+2)%4]>>8&255]^H>>8)&255,K[4*y+3]=(A[$[(y+1)%4]&255]^H)&255;return K};var F=function(m){if(!(this instanceof F))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new q(m)};F.prototype.encrypt=function(m){if(m=s(m),m.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var f=o(m.length),x=o(16),$=0;$<m.length;$+=16)c(m,x,0,$,$+16),x=this._aes.encrypt(x),c(x,f,$);return f},F.prototype.decrypt=function(m){if(m=s(m),m.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var f=o(m.length),x=o(16),$=0;$<m.length;$+=16)c(m,x,0,$,$+16),x=this._aes.decrypt(x),c(x,f,$);return f};var w=function(m,f){if(!(this instanceof w))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!f)f=o(16);else if(f.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(f,!0),this._aes=new q(m)};w.prototype.encrypt=function(m){if(m=s(m),m.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var f=o(m.length),x=o(16),$=0;$<m.length;$+=16){c(m,x,0,$,$+16);for(var y=0;y<16;y++)x[y]^=this._lastCipherblock[y];this._lastCipherblock=this._aes.encrypt(x),c(this._lastCipherblock,f,$)}return f},w.prototype.decrypt=function(m){if(m=s(m),m.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var f=o(m.length),x=o(16),$=0;$<m.length;$+=16){c(m,x,0,$,$+16),x=this._aes.decrypt(x);for(var y=0;y<16;y++)f[$+y]=x[y]^this._lastCipherblock[y];c(m,this._lastCipherblock,0,$,$+16)}return f};var a=function(m,f,x){if(!(this instanceof a))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!f)f=o(16);else if(f.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");x||(x=1),this.segmentSize=x,this._shiftRegister=s(f,!0),this._aes=new q(m)};a.prototype.encrypt=function(m){if(m.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var f=s(m,!0),x,$=0;$<f.length;$+=this.segmentSize){x=this._aes.encrypt(this._shiftRegister);for(var y=0;y<this.segmentSize;y++)f[$+y]^=x[y];c(this._shiftRegister,this._shiftRegister,0,this.segmentSize),c(f,this._shiftRegister,16-this.segmentSize,$,$+this.segmentSize)}return f},a.prototype.decrypt=function(m){if(m.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var f=s(m,!0),x,$=0;$<f.length;$+=this.segmentSize){x=this._aes.encrypt(this._shiftRegister);for(var y=0;y<this.segmentSize;y++)f[$+y]^=x[y];c(this._shiftRegister,this._shiftRegister,0,this.segmentSize),c(m,this._shiftRegister,16-this.segmentSize,$,$+this.segmentSize)}return f};var u=function(m,f){if(!(this instanceof u))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!f)f=o(16);else if(f.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(f,!0),this._lastPrecipherIndex=16,this._aes=new q(m)};u.prototype.encrypt=function(m){for(var f=s(m,!0),x=0;x<f.length;x++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),f[x]^=this._lastPrecipher[this._lastPrecipherIndex++];return f},u.prototype.decrypt=u.prototype.encrypt;var d=function(m){if(!(this instanceof d))throw Error("Counter must be instanitated with `new`");m!==0&&!m&&(m=1),typeof m=="number"?(this._counter=o(16),this.setValue(m)):this.setBytes(m)};d.prototype.setValue=function(m){if(typeof m!="number"||parseInt(m)!=m)throw new Error("invalid counter value (must be an integer)");for(var f=15;f>=0;--f)this._counter[f]=m%256,m=m>>8},d.prototype.setBytes=function(m){if(m=s(m,!0),m.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=m},d.prototype.increment=function(){for(var m=15;m>=0;m--)if(this._counter[m]===255)this._counter[m]=0;else{this._counter[m]++;break}};var g=function(m,f){if(!(this instanceof g))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",f instanceof d||(f=new d(f)),this._counter=f,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new q(m)};g.prototype.encrypt=function(m){for(var f=s(m,!0),x=0;x<f.length;x++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),f[x]^=this._remainingCounter[this._remainingCounterIndex++];return f},g.prototype.decrypt=g.prototype.encrypt;function E(m){m=s(m,!0);var f=16-m.length%16,x=o(m.length+f);c(m,x);for(var $=m.length;$<x.length;$++)x[$]=f;return x}function M(m){if(m=s(m,!0),m.length<16)throw new Error("PKCS#7 invalid length");var f=m[m.length-1];if(f>16)throw new Error("PKCS#7 padding byte out of range");for(var x=m.length-f,$=0;$<f;$++)if(m[x+$]!==f)throw new Error("PKCS#7 invalid padding byte");var y=o(x);return c(m,y,0,0,x),y}var O={AES:q,Counter:d,ModeOfOperation:{ecb:F,cbc:w,cfb:a,ofb:u,ctr:g},utils:{hex:h,utf8:l},padding:{pkcs7:{pad:E,strip:M}},_arrayTest:{coerceArray:s,createArray:o,copyArray:c}};r.exports=O})()})(F0)),F0.exports}var j3=q3();const Ni=ui(j3),ap="json-wallets/5.7.0";function is(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),te(r)}function jo(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function q0(r){return typeof r=="string"?Nt(r,Ii.NFKC):te(r)}function Ot(r,e){let t=r;const i=e.toLowerCase().split("/");for(let n=0;n<i.length;n++){let s=null;for(const o in t)if(o.toLowerCase()===i[n]){s=t[o];break}if(s===null)return null;t=s}return t}function z3(r){const e=te(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=ie(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const H3=new W(ap);class W3 extends Jn{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function cp(r,e){const t=JSON.parse(r);e=q0(e);const i=ht(Ot(t,"ethaddr")),n=is(Ot(t,"encseed"));(!n||n.length%16!==0)&&H3.throwArgumentError("invalid encseed","json",r);const s=te(B0(e,e,2e3,32,"sha256")).slice(0,16),o=n.slice(0,16),c=n.slice(16),l=new Ni.ModeOfOperation.cbc(s,o),h=Ni.padding.pkcs7.strip(te(l.decrypt(c)));let p="";for(let A=0;A<h.length;A++)p+=String.fromCharCode(h[A]);const v=Nt(p),_=dt(v);return new W3({_isCrowdsaleAccount:!0,address:i,privateKey:_})}function j0(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function z0(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function K3(r){if(j0(r))try{return ht(JSON.parse(r).ethaddr)}catch{return null}if(z0(r))try{return ht(JSON.parse(r).address)}catch{return null}return null}var H0={exports:{}},lp;function V3(){return lp||(lp=1,(function(r,e){(function(t){function n(S){const R=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let B=1779033703,T=3144134277,k=1013904242,I=2773480762,N=1359893119,C=2600822924,b=528734635,D=1541459225;const U=new Uint32Array(64);function j(g){let E=0,M=g.length;for(;M>=64;){let O=B,m=T,f=k,x=I,$=N,y=C,L=b,K=D,H,V,Z,J,Y;for(V=0;V<16;V++)Z=E+V*4,U[V]=(g[Z]&255)<<24|(g[Z+1]&255)<<16|(g[Z+2]&255)<<8|g[Z+3]&255;for(V=16;V<64;V++)H=U[V-2],J=(H>>>17|H<<15)^(H>>>19|H<<13)^H>>>10,H=U[V-15],Y=(H>>>7|H<<25)^(H>>>18|H<<14)^H>>>3,U[V]=(J+U[V-7]|0)+(Y+U[V-16]|0)|0;for(V=0;V<64;V++)J=((($>>>6|$<<26)^($>>>11|$<<21)^($>>>25|$<<7))+($&y^~$&L)|0)+(K+(R[V]+U[V]|0)|0)|0,Y=((O>>>2|O<<30)^(O>>>13|O<<19)^(O>>>22|O<<10))+(O&m^O&f^m&f)|0,K=L,L=y,y=$,$=x+J|0,x=f,f=m,m=O,O=J+Y|0;B=B+O|0,T=T+m|0,k=k+f|0,I=I+x|0,N=N+$|0,C=C+y|0,b=b+L|0,D=D+K|0,E+=64,M-=64}}j(S);let q,F=S.length%64,w=S.length/536870912|0,a=S.length<<3,u=F<56?56:120,d=S.slice(S.length-F,S.length);for(d.push(128),q=F+1;q<u;q++)d.push(0);return d.push(w>>>24&255),d.push(w>>>16&255),d.push(w>>>8&255),d.push(w>>>0&255),d.push(a>>>24&255),d.push(a>>>16&255),d.push(a>>>8&255),d.push(a>>>0&255),j(d),[B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,T>>>24&255,T>>>16&255,T>>>8&255,T>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,I>>>24&255,I>>>16&255,I>>>8&255,I>>>0&255,N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,b>>>24&255,b>>>16&255,b>>>8&255,b>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255]}function s(S,R,B){S=S.length<=64?S:n(S);const T=64+R.length+4,k=new Array(T),I=new Array(64);let N,C=[];for(N=0;N<64;N++)k[N]=54;for(N=0;N<S.length;N++)k[N]^=S[N];for(N=0;N<R.length;N++)k[64+N]=R[N];for(N=T-4;N<T;N++)k[N]=0;for(N=0;N<64;N++)I[N]=92;for(N=0;N<S.length;N++)I[N]^=S[N];function b(){for(let D=T-1;D>=T-4;D--){if(k[D]++,k[D]<=255)return;k[D]=0}}for(;B>=32;)b(),C=C.concat(n(I.concat(n(k)))),B-=32;return B>0&&(b(),C=C.concat(n(I.concat(n(k))).slice(0,B))),C}function o(S,R,B,T,k){let I;for(p(S,(2*B-1)*16,k,0,16),I=0;I<2*B;I++)h(S,I*16,k,16),l(k,T),p(k,0,S,R+I*16,16);for(I=0;I<B;I++)p(S,R+I*2*16,S,I*16,16);for(I=0;I<B;I++)p(S,R+(I*2+1)*16,S,(I+B)*16,16)}function c(S,R){return S<<R|S>>>32-R}function l(S,R){p(S,0,R,0,16);for(let B=8;B>0;B-=2)R[4]^=c(R[0]+R[12],7),R[8]^=c(R[4]+R[0],9),R[12]^=c(R[8]+R[4],13),R[0]^=c(R[12]+R[8],18),R[9]^=c(R[5]+R[1],7),R[13]^=c(R[9]+R[5],9),R[1]^=c(R[13]+R[9],13),R[5]^=c(R[1]+R[13],18),R[14]^=c(R[10]+R[6],7),R[2]^=c(R[14]+R[10],9),R[6]^=c(R[2]+R[14],13),R[10]^=c(R[6]+R[2],18),R[3]^=c(R[15]+R[11],7),R[7]^=c(R[3]+R[15],9),R[11]^=c(R[7]+R[3],13),R[15]^=c(R[11]+R[7],18),R[1]^=c(R[0]+R[3],7),R[2]^=c(R[1]+R[0],9),R[3]^=c(R[2]+R[1],13),R[0]^=c(R[3]+R[2],18),R[6]^=c(R[5]+R[4],7),R[7]^=c(R[6]+R[5],9),R[4]^=c(R[7]+R[6],13),R[5]^=c(R[4]+R[7],18),R[11]^=c(R[10]+R[9],7),R[8]^=c(R[11]+R[10],9),R[9]^=c(R[8]+R[11],13),R[10]^=c(R[9]+R[8],18),R[12]^=c(R[15]+R[14],7),R[13]^=c(R[12]+R[15],9),R[14]^=c(R[13]+R[12],13),R[15]^=c(R[14]+R[13],18);for(let B=0;B<16;++B)S[B]+=R[B]}function h(S,R,B,T){for(let k=0;k<T;k++)B[k]^=S[R+k]}function p(S,R,B,T,k){for(;k--;)B[T++]=S[R++]}function v(S){if(!S||typeof S.length!="number")return!1;for(let R=0;R<S.length;R++){const B=S[R];if(typeof B!="number"||B%1||B<0||B>=256)return!1}return!0}function _(S,R){if(typeof S!="number"||S%1)throw new Error("invalid "+R);return S}function A(S,R,B,T,k,I,N){if(B=_(B,"N"),T=_(T,"r"),k=_(k,"p"),I=_(I,"dkLen"),B===0||(B&B-1)!==0)throw new Error("N must be power of 2");if(B>2147483647/128/T)throw new Error("N too large");if(T>2147483647/128/k)throw new Error("r too large");if(!v(S))throw new Error("password must be an array or buffer");if(S=Array.prototype.slice.call(S),!v(R))throw new Error("salt must be an array or buffer");R=Array.prototype.slice.call(R);let C=s(S,R,k*128*T);const b=new Uint32Array(k*32*T);for(let $=0;$<b.length;$++){const y=$*4;b[$]=(C[y+3]&255)<<24|(C[y+2]&255)<<16|(C[y+1]&255)<<8|(C[y+0]&255)<<0}const D=new Uint32Array(64*T),U=new Uint32Array(32*T*B),j=32*T,q=new Uint32Array(16),F=new Uint32Array(16),w=k*B*2;let a=0,u=null,d=!1,g=0,E=0,M,O;const m=N?parseInt(1e3/T):4294967295,f=typeof setImmediate<"u"?setImmediate:setTimeout,x=function(){if(d)return N(new Error("cancelled"),a/w);let $;switch(g){case 0:O=E*32*T,p(b,O,D,0,j),g=1,M=0;case 1:$=B-M,$>m&&($=m);for(let L=0;L<$;L++)p(D,0,U,(M+L)*j,j),o(D,j,T,q,F);if(M+=$,a+=$,N){const L=parseInt(1e3*a/w);if(L!==u){if(d=N(null,a/w),d)break;u=L}}if(M<B)break;M=0,g=2;case 2:$=B-M,$>m&&($=m);for(let L=0;L<$;L++){const K=(2*T-1)*16,H=D[K]&B-1;h(U,H*j,D,j),o(D,j,T,q,F)}if(M+=$,a+=$,N){const L=parseInt(1e3*a/w);if(L!==u){if(d=N(null,a/w),d)break;u=L}}if(M<B)break;if(p(D,0,b,O,j),E++,E<k){g=0;break}C=[];for(let L=0;L<b.length;L++)C.push(b[L]>>0&255),C.push(b[L]>>8&255),C.push(b[L]>>16&255),C.push(b[L]>>24&255);const y=s(S,C,I);return N&&N(null,1,y),y}N&&f(x)};if(!N)for(;;){const $=x();if($!=null)return $}x()}const P={scrypt:function(S,R,B,T,k,I,N){return new Promise(function(C,b){let D=0;N&&N(0),A(S,R,B,T,k,I,function(U,j,q){if(U)b(U);else if(q)N&&D!==1&&N(1),C(new Uint8Array(q));else if(N&&j!==D)return D=j,N(j)})})},syncScrypt:function(S,R,B,T,k,I){return new Uint8Array(A(S,R,B,T,k,I))}};r.exports=P})()})(H0)),H0.exports}var G3=V3();const W0=ui(G3);var J3=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const K0=new W(ap);function fp(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class Q3 extends Jn{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function Y3(r,e,t){if(Ot(r,"crypto/cipher")==="aes-128-ctr"){const n=is(Ot(r,"crypto/cipherparams/iv")),s=new Ni.Counter(n),o=new Ni.ModeOfOperation.ctr(e,s);return te(o.decrypt(t))}return null}function up(r,e){const t=is(Ot(r,"crypto/ciphertext"));if(ie(dt(mt([e.slice(16,32),t]))).substring(2)!==Ot(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=Y3(r,e.slice(0,16),t);n||K0.throwError("unsupported cipher",W.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Cn(n);if(r.address){let l=r.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),ht(l)!==o)throw new Error("address mismatch")}const c={_isKeystoreAccount:!0,address:o,privateKey:ie(n)};if(Ot(r,"x-ethers/version")==="0.1"){const l=is(Ot(r,"x-ethers/mnemonicCiphertext")),h=is(Ot(r,"x-ethers/mnemonicCounter")),p=new Ni.Counter(h),v=new Ni.ModeOfOperation.ctr(s,p),_=Ot(r,"x-ethers/path")||Ws,A=Ot(r,"x-ethers/locale")||"en",P=te(v.decrypt(l));try{const S=Ec(P,A),R=qr.fromMnemonic(S,null,A).derivePath(_);if(R.privateKey!=c.privateKey)throw new Error("mnemonic mismatch");c.mnemonic=R.mnemonic}catch(S){if(S.code!==W.errors.INVALID_ARGUMENT||S.argument!=="wordlist")throw S}}return new Q3(c)}function hp(r,e,t,i,n){return te(B0(r,e,t,i,n))}function Z3(r,e,t,i,n){return Promise.resolve(hp(r,e,t,i,n))}function dp(r,e,t,i,n){const s=q0(e),o=Ot(r,"crypto/kdf");if(o&&typeof o=="string"){const c=function(l,h){return K0.throwArgumentError("invalid key-derivation function parameters",l,h)};if(o.toLowerCase()==="scrypt"){const l=is(Ot(r,"crypto/kdfparams/salt")),h=parseInt(Ot(r,"crypto/kdfparams/n")),p=parseInt(Ot(r,"crypto/kdfparams/r")),v=parseInt(Ot(r,"crypto/kdfparams/p"));(!h||!p||!v)&&c("kdf",o),(h&h-1)!==0&&c("N",h);const _=parseInt(Ot(r,"crypto/kdfparams/dklen"));return _!==32&&c("dklen",_),i(s,l,h,p,v,64,n)}else if(o.toLowerCase()==="pbkdf2"){const l=is(Ot(r,"crypto/kdfparams/salt"));let h=null;const p=Ot(r,"crypto/kdfparams/prf");p==="hmac-sha256"?h="sha256":p==="hmac-sha512"?h="sha512":c("prf",p);const v=parseInt(Ot(r,"crypto/kdfparams/c")),_=parseInt(Ot(r,"crypto/kdfparams/dklen"));return _!==32&&c("dklen",_),t(s,l,v,_,h)}}return K0.throwArgumentError("unsupported key-derivation function","kdf",o)}function X3(r,e){const t=JSON.parse(r),i=dp(t,e,hp,W0.syncScrypt);return up(t,i)}function e5(r,e,t){return J3(this,void 0,void 0,function*(){const i=JSON.parse(r),n=yield dp(i,e,Z3,W0.scrypt,t);return up(i,n)})}function t5(r,e,t,i){try{if(ht(r.address)!==Cn(r.privateKey))throw new Error("address/privateKey mismatch");if(fp(r)){const R=r.mnemonic;if(qr.fromMnemonic(R.phrase,null,R.locale).derivePath(R.path||Ws).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(R){return Promise.reject(R)}typeof t=="function"&&!i&&(i=t,t={}),t||(t={});const n=te(r.privateKey),s=q0(e);let o=null,c=null,l=null;if(fp(r)){const R=r.mnemonic;o=te(yc(R.phrase,R.locale||"en")),c=R.path||Ws,l=R.locale||"en"}let h=t.client;h||(h="ethers.js");let p=null;t.salt?p=te(t.salt):p=Ks(32);let v=null;if(t.iv){if(v=te(t.iv),v.length!==16)throw new Error("invalid iv")}else v=Ks(16);let _=null;if(t.uuid){if(_=te(t.uuid),_.length!==16)throw new Error("invalid uuid")}else _=Ks(16);let A=1<<17,P=8,S=1;return t.scrypt&&(t.scrypt.N&&(A=t.scrypt.N),t.scrypt.r&&(P=t.scrypt.r),t.scrypt.p&&(S=t.scrypt.p)),W0.scrypt(s,p,A,P,S,64,i).then(R=>{R=te(R);const B=R.slice(0,16),T=R.slice(16,32),k=R.slice(32,64),I=new Ni.Counter(v),N=new Ni.ModeOfOperation.ctr(B,I),C=te(N.encrypt(n)),b=dt(mt([T,C])),D={address:r.address.substring(2).toLowerCase(),id:z3(_),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:ie(v).substring(2)},ciphertext:ie(C).substring(2),kdf:"scrypt",kdfparams:{salt:ie(p).substring(2),n:A,dklen:32,p:S,r:P},mac:b.substring(2)}};if(o){const U=Ks(16),j=new Ni.Counter(U),q=new Ni.ModeOfOperation.ctr(k,j),F=te(q.encrypt(o)),w=new Date,a=w.getUTCFullYear()+"-"+jo(w.getUTCMonth()+1,2)+"-"+jo(w.getUTCDate(),2)+"T"+jo(w.getUTCHours(),2)+"-"+jo(w.getUTCMinutes(),2)+"-"+jo(w.getUTCSeconds(),2)+".0Z";D["x-ethers"]={client:h,gethFilename:"UTC--"+a+"--"+D.address,mnemonicCounter:ie(U).substring(2),mnemonicCiphertext:ie(F).substring(2),path:c,locale:l,version:"0.1"}}return JSON.stringify(D)})}function r5(r,e,t){if(j0(r)){t&&t(0);const i=cp(r,e);return t&&t(1),Promise.resolve(i)}return z0(r)?e5(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function i5(r,e){if(j0(r))return cp(r,e);if(z0(r))return X3(r,e);throw new Error("invalid JSON wallet")}const n5="wallet/5.7.0";var pp=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const Vs=new W(n5);function s5(r){return r!=null&&Ke(r.privateKey,32)&&r.address!=null}function o5(r){const e=r.mnemonic;return e&&e.phrase}class ns extends _n{constructor(e,t){if(super(),s5(e)){const i=new rs(e.privateKey);if(Q(this,"_signingKey",()=>i),Q(this,"address",Cn(this.publicKey)),this.address!==ht(e.address)&&Vs.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),o5(e)){const n=e.mnemonic;Q(this,"_mnemonic",()=>({phrase:n.phrase,path:n.path||Ws,locale:n.locale||"en"}));const s=this.mnemonic,o=qr.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Cn(o.privateKey)!==this.address&&Vs.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Q(this,"_mnemonic",()=>null)}else{if(rs.isSigningKey(e))e.curve!=="secp256k1"&&Vs.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Q(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const i=new rs(e);Q(this,"_signingKey",()=>i)}Q(this,"_mnemonic",()=>null),Q(this,"address",Cn(this.publicKey))}t&&!Xn.isProvider(t)&&Vs.throwArgumentError("invalid provider","provider",t),Q(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new ns(this,e)}signTransaction(e){return It(e).then(t=>{t.from!=null&&(ht(t.from)!==this.address&&Vs.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const i=this._signingKey().signDigest(dt(T0(t)));return T0(t,i)})}signMessage(e){return pp(this,void 0,void 0,function*(){return Hl(this._signingKey().signDigest(c0(e)))})}_signTypedData(e,t,i){return pp(this,void 0,void 0,function*(){const n=yield Xt.resolveNames(e,t,i,s=>(this.provider==null&&Vs.throwError("cannot resolve ENS names without a provider",W.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return Hl(this._signingKey().signDigest(Xt.hash(n.domain,t,n.value)))})}encrypt(e,t,i){if(typeof t=="function"&&!i&&(i=t,t={}),i&&typeof i!="function")throw new Error("invalid callback");return t||(t={}),t5(this,e,t,i)}static createRandom(e){let t=Ks(16);e||(e={}),e.extraEntropy&&(t=te(Dt(dt(mt([t,e.extraEntropy])),0,16)));const i=Ec(t,e.locale);return ns.fromMnemonic(i,e.path,e.locale)}static fromEncryptedJson(e,t,i){return r5(e,t,i).then(n=>new ns(n))}static fromEncryptedJsonSync(e,t){return new ns(i5(e,t))}static fromMnemonic(e,t,i){return t||(t=Ws),new ns(qr.fromMnemonic(e,null,i).derivePath(t))}}function a5(r,e){return Bo(c0(r),e)}function c5(r,e,t,i){return Bo(Xt.hash(r,e,t),i)}const l5="networks/5.7.1",gp=new W(l5);function f5(r){return r&&typeof r.renetwork=="function"}function Wi(r){const e=function(t,i){i==null&&(i={});const n=[];if(t.InfuraProvider&&i.infura!=="-")try{n.push(new t.InfuraProvider(r,i.infura))}catch{}if(t.EtherscanProvider&&i.etherscan!=="-")try{n.push(new t.EtherscanProvider(r,i.etherscan))}catch{}if(t.AlchemyProvider&&i.alchemy!=="-")try{n.push(new t.AlchemyProvider(r,i.alchemy))}catch{}if(t.PocketProvider&&i.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new t.PocketProvider(r,i.pocket);o.network&&s.indexOf(o.network.name)===-1&&n.push(o)}catch{}}if(t.CloudflareProvider&&i.cloudflare!=="-")try{n.push(new t.CloudflareProvider(r))}catch{}if(t.AnkrProvider&&i.ankr!=="-")try{const s=["ropsten"],o=new t.AnkrProvider(r,i.ankr);o.network&&s.indexOf(o.network.name)===-1&&n.push(o)}catch{}if(n.length===0)return null;if(t.FallbackProvider){let s=1;return i.quorum!=null?s=i.quorum:r==="homestead"&&(s=2),new t.FallbackProvider(n,s)}return n[0]};return e.renetwork=function(t){return Wi(t)},e}function Ac(r,e){const t=function(i,n){return i.JsonRpcProvider?new i.JsonRpcProvider(r,e):null};return t.renetwork=function(i){return Ac(r,i)},t}const mp={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Wi("homestead")},bp={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Wi("ropsten")},xp={chainId:63,name:"classicMordor",_defaultProvider:Ac("https://www.ethercluster.com/mordor","classicMordor")},Sc={unspecified:{chainId:0,name:"unspecified"},homestead:mp,mainnet:mp,morden:{chainId:2,name:"morden"},ropsten:bp,testnet:bp,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Wi("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Wi("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Wi("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Wi("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:Ac("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:xp,classicTestnet:xp,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Ac("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Wi("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Wi("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function V0(r){if(r==null)return null;if(typeof r=="number"){for(const i in Sc){const n=Sc[i];if(n.chainId===r)return{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress||null,_defaultProvider:n._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const i=Sc[r];return i==null?null:{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress,_defaultProvider:i._defaultProvider||null}}const e=Sc[r.name];if(!e)return typeof r.chainId!="number"&&gp.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&gp.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(f5(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}const u5="web/5.7.1";var h5=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};function d5(r,e){return h5(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(t.mode=o.mode),o.cache&&(t.cache=o.cache),o.credentials&&(t.credentials=o.credentials),o.redirect&&(t.redirect=o.redirect),o.referrer&&(t.referrer=o.referrer)}const i=yield fetch(r,t),n=yield i.arrayBuffer(),s={};return i.headers.forEach?i.headers.forEach((o,c)=>{s[c.toLowerCase()]=o}):i.headers.keys().forEach(o=>{s[o.toLowerCase()]=i.headers.get(o)}),{headers:s,statusCode:i.status,statusMessage:i.statusText,body:te(new Uint8Array(n))}})}var p5=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const mi=new W(u5);function vp(r){return new Promise(e=>{setTimeout(e,r)})}function Pn(r,e){if(r==null)return null;if(typeof r=="string")return r;if(Eo(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Zn(r)}catch{}return ie(r)}return r}function g5(r){return Nt(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function wp(r,e,t){const i=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;mi.assertArgument(i>0&&i%1===0,"invalid connection throttle limit","connection.throttleLimit",i);const n=typeof r=="object"?r.throttleCallback:null,s=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;mi.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof r=="object"?!!r.errorPassThrough:!1,c={};let l=null;const h={method:"GET"};let p=!1,v=120*1e3;if(typeof r=="string")l=r;else if(typeof r=="object"){if((r==null||r.url==null)&&mi.throwArgumentError("missing URL","connection.url",r),l=r.url,typeof r.timeout=="number"&&r.timeout>0&&(v=r.timeout),r.headers)for(const B in r.headers)c[B.toLowerCase()]={key:B,value:String(r.headers[B])},["if-none-match","if-modified-since"].indexOf(B.toLowerCase())>=0&&(p=!0);if(h.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){l.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&mi.throwError("basic authentication requires a secure https url",W.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:r.user,password:"[REDACTED]"});const B=r.user+":"+r.password;c.authorization={key:"Authorization",value:"Basic "+o0(Nt(B))}}r.skipFetchSetup!=null&&(h.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(h.fetchOptions=vt(r.fetchOptions))}const _=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),A=l?l.match(_):null;if(A)try{const B={statusCode:200,statusMessage:"OK",headers:{"content-type":A[1]||"text/plain"},body:A[2]?s0(A[3]):g5(A[3])};let T=B.body;return t&&(T=t(B.body,B)),Promise.resolve(T)}catch(B){mi.throwError("processing response error",W.errors.SERVER_ERROR,{body:Pn(A[1],A[2]),error:B,requestBody:null,requestMethod:"GET",url:l})}e&&(h.method="POST",h.body=e,c["content-type"]==null&&(c["content-type"]={key:"Content-Type",value:"application/octet-stream"}),c["content-length"]==null&&(c["content-length"]={key:"Content-Length",value:String(e.length)}));const P={};Object.keys(c).forEach(B=>{const T=c[B];P[T.key]=T.value}),h.headers=P;const S=(function(){let B=null;return{promise:new Promise(function(I,N){v&&(B=setTimeout(()=>{B!=null&&(B=null,N(mi.makeError("timeout",W.errors.TIMEOUT,{requestBody:Pn(h.body,P["content-type"]),requestMethod:h.method,timeout:v,url:l})))},v))}),cancel:function(){B!=null&&(clearTimeout(B),B=null)}}})(),R=(function(){return p5(this,void 0,void 0,function*(){for(let B=0;B<i;B++){let T=null;try{if(T=yield d5(l,h),B<i){if(T.statusCode===301||T.statusCode===302){const I=T.headers.location||"";if(h.method==="GET"&&I.match(/^https:/)){l=T.headers.location;continue}}else if(T.statusCode===429){let I=!0;if(n&&(I=yield n(B,l)),I){let N=0;const C=T.headers["retry-after"];typeof C=="string"&&C.match(/^[1-9][0-9]*$/)?N=parseInt(C)*1e3:N=s*parseInt(String(Math.random()*Math.pow(2,B))),yield vp(N);continue}}}}catch(I){T=I.response,T==null&&(S.cancel(),mi.throwError("missing response",W.errors.SERVER_ERROR,{requestBody:Pn(h.body,P["content-type"]),requestMethod:h.method,serverError:I,url:l}))}let k=T.body;if(p&&T.statusCode===304?k=null:!o&&(T.statusCode<200||T.statusCode>=300)&&(S.cancel(),mi.throwError("bad response",W.errors.SERVER_ERROR,{status:T.statusCode,headers:T.headers,body:Pn(k,T.headers?T.headers["content-type"]:null),requestBody:Pn(h.body,P["content-type"]),requestMethod:h.method,url:l})),t)try{const I=yield t(k,T);return S.cancel(),I}catch(I){if(I.throttleRetry&&B<i){let N=!0;if(n&&(N=yield n(B,l)),N){const C=s*parseInt(String(Math.random()*Math.pow(2,B)));yield vp(C);continue}}S.cancel(),mi.throwError("processing response error",W.errors.SERVER_ERROR,{body:Pn(k,T.headers?T.headers["content-type"]:null),error:I,requestBody:Pn(h.body,P["content-type"]),requestMethod:h.method,url:l})}return S.cancel(),k}return mi.throwError("failed response",W.errors.SERVER_ERROR,{requestBody:Pn(h.body,P["content-type"]),requestMethod:h.method,url:l})})})();return Promise.race([S.promise,R])}function Gs(r,e,t){let i=(s,o)=>{let c=null;if(s!=null)try{c=JSON.parse(Zn(s))}catch(l){mi.throwError("invalid JSON",W.errors.SERVER_ERROR,{body:s,error:l})}return t&&(c=t(c,o)),c},n=null;if(e!=null){n=Nt(e);const s=typeof r=="string"?{url:r}:vt(r);s.headers?Object.keys(s.headers).filter(c=>c.toLowerCase()==="content-type").length!==0||(s.headers=vt(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},r=s}return wp(r,n,i)}function ss(r,e){return e||(e={}),e=vt(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,i){let n=null,s=!1;const o=()=>s?!1:(s=!0,n&&clearTimeout(n),!0);e.timeout&&(n=setTimeout(()=>{o()&&i(new Error("timeout"))},e.timeout));const c=e.retryLimit;let l=0;function h(){return r().then(function(p){if(p!==void 0)o()&&t(p);else if(e.oncePoll)e.oncePoll.once("poll",h);else if(e.onceBlock)e.onceBlock.once("block",h);else if(!s){if(l++,l>c){o()&&i(new Error("retry limit reached"));return}let v=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));v<e.floor&&(v=e.floor),v>e.ceiling&&(v=e.ceiling),setTimeout(h,v)}return null},function(p){o()&&i(p)})}h()})}var G0,yp;function m5(){if(yp)return G0;yp=1;for(var r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},t=0;t<r.length;t++){var i=r.charAt(t);if(e[i]!==void 0)throw new TypeError(i+" is ambiguous");e[i]=t}function n(S){var R=S>>25;return(S&33554431)<<5^-(R>>0&1)&996825010^-(R>>1&1)&642813549^-(R>>2&1)&513874426^-(R>>3&1)&1027748829^-(R>>4&1)&705979059}function s(S){for(var R=1,B=0;B<S.length;++B){var T=S.charCodeAt(B);if(T<33||T>126)return"Invalid prefix ("+S+")";R=n(R)^T>>5}for(R=n(R),B=0;B<S.length;++B){var k=S.charCodeAt(B);R=n(R)^k&31}return R}function o(S,R,B){if(B=B||90,S.length+7+R.length>B)throw new TypeError("Exceeds length limit");S=S.toLowerCase();var T=s(S);if(typeof T=="string")throw new Error(T);for(var k=S+"1",I=0;I<R.length;++I){var N=R[I];if(N>>5!==0)throw new Error("Non 5-bit word");T=n(T)^N,k+=r.charAt(N)}for(I=0;I<6;++I)T=n(T);for(T^=1,I=0;I<6;++I){var C=T>>(5-I)*5&31;k+=r.charAt(C)}return k}function c(S,R){if(R=R||90,S.length<8)return S+" too short";if(S.length>R)return"Exceeds length limit";var B=S.toLowerCase(),T=S.toUpperCase();if(S!==B&&S!==T)return"Mixed-case string "+S;S=B;var k=S.lastIndexOf("1");if(k===-1)return"No separator character for "+S;if(k===0)return"Missing prefix for "+S;var I=S.slice(0,k),N=S.slice(k+1);if(N.length<6)return"Data too short";var C=s(I);if(typeof C=="string")return C;for(var b=[],D=0;D<N.length;++D){var U=N.charAt(D),j=e[U];if(j===void 0)return"Unknown character "+U;C=n(C)^j,!(D+6>=N.length)&&b.push(j)}return C!==1?"Invalid checksum for "+S:{prefix:I,words:b}}function l(){var S=c.apply(null,arguments);if(typeof S=="object")return S}function h(S){var R=c.apply(null,arguments);if(typeof R=="object")return R;throw new Error(R)}function p(S,R,B,T){for(var k=0,I=0,N=(1<<B)-1,C=[],b=0;b<S.length;++b)for(k=k<<R|S[b],I+=R;I>=B;)I-=B,C.push(k>>I&N);if(T)I>0&&C.push(k<<B-I&N);else{if(I>=R)return"Excess padding";if(k<<B-I&N)return"Non-zero padding"}return C}function v(S){var R=p(S,8,5,!0);if(Array.isArray(R))return R}function _(S){var R=p(S,8,5,!0);if(Array.isArray(R))return R;throw new Error(R)}function A(S){var R=p(S,5,8,!1);if(Array.isArray(R))return R}function P(S){var R=p(S,5,8,!1);if(Array.isArray(R))return R;throw new Error(R)}return G0={decodeUnsafe:l,decode:h,encode:o,toWordsUnsafe:v,toWords:_,fromWordsUnsafe:A,fromWords:P},G0}var b5=m5();const Ep=ui(b5),cr="providers/5.7.2",zo=new W(cr);class we{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),i=this.bigNumber.bind(this),n=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),c=this.hex.bind(this),l=this.number.bind(this),h=this.type.bind(this),p=v=>this.data(v,!0);return e.transaction={hash:o,type:h,accessList:we.allowNull(this.accessList.bind(this),null),blockHash:we.allowNull(o,null),blockNumber:we.allowNull(l,null),transactionIndex:we.allowNull(l,null),confirmations:we.allowNull(l,null),from:t,gasPrice:we.allowNull(i),maxPriorityFeePerGas:we.allowNull(i),maxFeePerGas:we.allowNull(i),gasLimit:i,to:we.allowNull(t,null),value:i,nonce:l,data:s,r:we.allowNull(this.uint256),s:we.allowNull(this.uint256),v:we.allowNull(l),creates:we.allowNull(t,null),raw:we.allowNull(s)},e.transactionRequest={from:we.allowNull(t),nonce:we.allowNull(l),gasLimit:we.allowNull(i),gasPrice:we.allowNull(i),maxPriorityFeePerGas:we.allowNull(i),maxFeePerGas:we.allowNull(i),to:we.allowNull(t),value:we.allowNull(i),data:we.allowNull(p),type:we.allowNull(l),accessList:we.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:t,topics:we.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:we.allowNull(this.address,null),from:we.allowNull(this.address,null),contractAddress:we.allowNull(t,null),transactionIndex:l,root:we.allowNull(c),gasUsed:i,logsBloom:we.allowNull(s),blockHash:o,transactionHash:o,logs:we.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:we.allowNull(l,null),cumulativeGasUsed:i,effectiveGasPrice:we.allowNull(i),status:we.allowNull(l),type:h},e.block={hash:we.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:we.allowNull(c),difficulty:this.difficulty.bind(this),gasLimit:i,gasUsed:i,miner:we.allowNull(t),extraData:s,transactions:we.allowNull(we.arrayOf(o)),baseFeePerGas:we.allowNull(i)},e.blockWithTransactions=vt(e.block),e.blockWithTransactions.transactions=we.allowNull(we.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:we.allowNull(n,void 0),toBlock:we.allowNull(n,void 0),blockHash:we.allowNull(o,void 0),address:we.allowNull(t,void 0),topics:we.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:we.allowNull(l),blockHash:we.allowNull(o),transactionIndex:l,removed:we.allowNull(this.boolean.bind(this)),address:t,data:we.allowFalsish(s,"0x"),topics:we.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return Mn(e||[])}number(e){return e==="0x"?0:re.from(e).toNumber()}type(e){return e==="0x"||e==null?0:re.from(e).toNumber()}bigNumber(e){return re.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ke(e))?e.toLowerCase():zo.throwArgumentError("invalid hash","value",e)}data(e,t){const i=this.hex(e,t);if(i.length%2!==0)throw new Error("invalid data; odd-length - "+e);return i}address(e){return ht(e)}callAddress(e){if(!Ke(e,32))return null;const t=ht(Dt(e,12));return t===Fd?null:t}contractAddress(e){return rc(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Ke(e))return Ao(e);throw new Error("invalid blockTag")}hash(e,t){const i=this.hex(e,t);return _i(i)!==32?zo.throwArgumentError("invalid hash","value",e):i}difficulty(e){if(e==null)return null;const t=re.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Ke(e))throw new Error("invalid uint256");return bt(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const i=e._difficulty!=null?e._difficulty:e.difficulty,n=we.check(t,e);return n._difficulty=i==null?null:re.from(i),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return we.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&re.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=we.check(this.formats.transaction,e);if(e.chainId!=null){let i=e.chainId;Ke(i)&&(i=re.from(i).toNumber()),t.chainId=i}else{let i=e.networkId;i==null&&t.v==null&&(i=e.chainId),Ke(i)&&(i=re.from(i).toNumber()),typeof i!="number"&&t.v!=null&&(i=(t.v-35)/2,i<0&&(i=0),i=parseInt(i)),typeof i!="number"&&(i=0),t.chainId=i}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return z1(e)}receiptLog(e){return we.check(this.formats.receiptLog,e)}receipt(e){const t=we.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const i=re.from(t.root).toNumber();i===0||i===1?(t.status!=null&&t.status!==i&&zo.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=i,delete t.root):zo.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&zo.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return we.check(this.formats.filter,e)}filterLog(e){return we.check(this.formats.filterLog,e)}static check(e,t){const i={};for(const n in e)try{const s=e[n](t[n]);s!==void 0&&(i[n]=s)}catch(s){throw s.checkKey=n,s.checkValue=t[n],s}return i}static allowNull(e,t){return(function(i){return i==null?t:e(i)})}static allowFalsish(e,t){return(function(i){return i?e(i):t})}static arrayOf(e){return(function(t){if(!Array.isArray(t))throw new Error("not an array");const i=[];return t.forEach(function(n){i.push(e(n))}),i})}}function _p(r){return r&&typeof r.isCommunityResource=="function"}function J0(r){return _p(r)&&r.isCommunityResource()}let Ap=!1;function Ho(){Ap||(Ap=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var He=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const Ze=new W(cr),x5=10;function Sp(r){return r==null?"null":(_i(r)!==32&&Ze.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function Cp(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(n=>{t[Sp(n)]=!0});const i=Object.keys(t);return i.sort(),i.join("|")}else return Sp(e)}).join("&")}function v5(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(i=>i==="null"?null:i);return t.length===1?t[0]:t})}function Js(r){if(typeof r=="string"){if(r=r.toLowerCase(),_i(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+Cp(r);if(Uy.isForkEvent(r))throw Ze.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+Cp(r.topics||[])}throw new Error("invalid event - "+r)}function Wo(){return new Date().getTime()}function Mp(r){return new Promise(e=>{setTimeout(e,r)})}const w5=["block","network","pending","poll"];let y5=class{constructor(e,t,i){Q(this,"tag",e),Q(this,"listener",t),Q(this,"once",i),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],i=v5(e[2]),n={};return i.length>0&&(n.topics=i),t&&t!=="*"&&(n.address=t),n}pollable(){return this.tag.indexOf(":")>=0||w5.indexOf(this.tag)>=0}};const E5={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Q0(r){return bt(re.from(r).toHexString(),32)}function Ip(r){return Fs.encode(mt([r,Dt(Hi(Hi(r)),0,4)]))}const Pp=new RegExp("^(ipfs)://(.*)$","i"),Rp=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Pp,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Cc(r,e){try{return Zn(Ko(r,e))}catch{}return null}function Ko(r,e){if(r==="0x")return null;const t=re.from(Dt(r,e,e+32)).toNumber(),i=re.from(Dt(r,t,t+32)).toNumber();return Dt(r,t+32,t+32+i)}function Y0(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):Ze.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function Dp(r){const e=te(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function _5(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}function Np(r){const e=[];let t=0;for(let i=0;i<r.length;i++)e.push(null),t+=32;for(let i=0;i<r.length;i++){const n=te(r[i]);e[i]=Dp(t),e.push(Dp(n.length)),e.push(_5(n)),t+=32+Math.ceil(n.length/32)*32}return gr(e)}class Z0{constructor(e,t,i,n){Q(this,"provider",e),Q(this,"name",i),Q(this,"address",e.formatter.address(t)),Q(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>re.from(e).eq(1)).catch(e=>{if(e.code===W.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return He(this,void 0,void 0,function*(){const i={to:this.address,ccipReadEnabled:!0,data:gr([e,Oo(this.name),t||"0x"])};let n=!1;(yield this.supportsWildcard())&&(n=!0,i.data=gr(["0x9061b923",Np([o1(this.name),i.data])]));try{let s=yield this.provider.call(i);return te(s).length%32===4&&Ze.throwError("resolver threw error",W.errors.CALL_EXCEPTION,{transaction:i,data:s}),n&&(s=Ko(s,0)),s}catch(s){if(s.code===W.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,t){return He(this,void 0,void 0,function*(){const i=yield this._fetch(e,t);return i!=null?Ko(i,0):null})}_getAddress(e,t){const i=E5[String(e)];if(i==null&&Ze.throwError(`unsupported coin type: ${e}`,W.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),i.ilk==="eth")return this.provider.formatter.address(t);const n=te(t);if(i.p2pkh!=null){const s=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Ip(mt([[i.p2pkh],"0x"+s[2]]))}}if(i.p2sh!=null){const s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return Ip(mt([[i.p2sh],"0x"+s[2]]))}}if(i.prefix!=null){const s=n[1];let o=n[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&n.length===2+s&&s>=1&&s<=75){const c=Ep.toWords(n.slice(2));return c.unshift(o),Ep.encode(i.prefix,c)}}return null}getAddress(e){return He(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const n=yield this._fetch("0x3b3b57de");return n==="0x"||n===Xl?null:this.provider.formatter.callAddress(n)}catch(n){if(n.code===W.errors.CALL_EXCEPTION)return null;throw n}const t=yield this._fetchBytes("0xf1cb7e06",Q0(e));if(t==null||t==="0x")return null;const i=this._getAddress(e,t);return i==null&&Ze.throwError("invalid or unsupported coin data",W.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),i})}getAvatar(){return He(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let i=0;i<Rp.length;i++){const n=t.match(Rp[i]);if(n==null)continue;const s=n[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:Y0(t)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:t});const c=this._resolvedAddress||(yield this.getAddress()),l=(n[2]||"").split("/");if(l.length!==2)return null;const h=yield this.provider.formatter.address(l[0]),p=bt(re.from(l[1]).toHexString(),32);if(s==="erc721"){const S=this.provider.formatter.callAddress(yield this.provider.call({to:h,data:gr(["0x6352211e",p])}));if(c!==S)return null;e.push({type:"owner",content:S})}else if(s==="erc1155"){const S=re.from(yield this.provider.call({to:h,data:gr(["0x00fdd58e",bt(c,32),p])}));if(S.isZero())return null;e.push({type:"balance",content:S.toString()})}const v={to:this.provider.formatter.address(l[0]),data:gr([o,p])};let _=Cc(yield this.provider.call(v),0);if(_==null)return null;e.push({type:"metadata-url-base",content:_}),s==="erc1155"&&(_=_.replace("{id}",p.substring(2)),e.push({type:"metadata-url-expanded",content:_})),_.match(/^ipfs:/i)&&(_=Y0(_)),e.push({type:"metadata-url",content:_});const A=yield Gs(_);if(!A)return null;e.push({type:"metadata",content:JSON.stringify(A)});let P=A.image;if(typeof P!="string")return null;if(!P.match(/^(https:\/\/|data:)/i)){if(P.match(Pp)==null)return null;e.push({type:"url-ipfs",content:P}),P=Y0(P)}return e.push({type:"url",content:P}),{linkage:e,url:P}}}}}catch{}return null})}getContentHash(){return He(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const o=parseInt(t[3],16);if(t[4].length===o*2)return"ipfs://"+Fs.encode("0x"+t[1])}const i=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(i){const o=parseInt(i[3],16);if(i[4].length===o*2)return"ipns://"+Fs.encode("0x"+i[1])}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return"bzz://"+n[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+o0("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return Ze.throwError("invalid or unsupported content hash data",W.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return He(this,void 0,void 0,function*(){let t=Nt(e);t=mt([Q0(64),Q0(t.length),t]),t.length%32!==0&&(t=mt([t,bt("0x",32-e.length%32)]));const i=yield this._fetchBytes("0x59d1d43c",ie(t));return i==null||i==="0x"?null:Zn(i)})}}let X0=null,A5=1;class Mc extends Xn{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Q(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=Zt(new.target,"getNetwork")(e);t?(Q(this,"_network",t),this.emit("network",t,null)):Ze.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return He(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Ze.throwError("no network detected",W.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Q(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return ss(()=>this._ready().then(e=>e,e=>{if(!(e.code===W.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return X0==null&&(X0=new we),X0}static getNetwork(e){return V0(e??"homestead")}ccipReadFetch(e,t,i){return He(this,void 0,void 0,function*(){if(this.disableCcipRead||i.length===0)return null;const n=e.to.toLowerCase(),s=t.toLowerCase(),o=[];for(let c=0;c<i.length;c++){const l=i[c],h=l.replace("{sender}",n).replace("{data}",s),p=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:n}),v=yield Gs({url:h,errorPassThrough:!0},p,(A,P)=>(A.status=P.statusCode,A));if(v.data)return v.data;const _=v.message||"unknown error";if(v.status>=400&&v.status<500)return Ze.throwError(`response not found during CCIP fetch: ${_}`,W.errors.SERVER_ERROR,{url:l,errorMessage:_});o.push(_)}return Ze.throwError(`error encountered during CCIP fetch: ${o.map(c=>JSON.stringify(c)).join(", ")}`,W.errors.SERVER_ERROR,{urls:i,errorMessages:o})})}_getInternalBlockNumber(e){return He(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const n=this._internalBlockNumber;try{const s=yield n;if(Wo()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===n)break}}const t=Wo(),i=It({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(n=>null,n=>n)}).then(({blockNumber:n,networkError:s})=>{if(s)throw this._internalBlockNumber===i&&(this._internalBlockNumber=null),s;const o=Wo();return n=re.from(n).toNumber(),n<this._maxInternalBlockNumber&&(n=this._maxInternalBlockNumber),this._maxInternalBlockNumber=n,this._setFastBlockNumber(n),{blockNumber:n,reqTime:t,respTime:o}});return this._internalBlockNumber=i,i.catch(n=>{this._internalBlockNumber===i&&(this._internalBlockNumber=null)}),(yield i).blockNumber})}poll(){return He(this,void 0,void 0,function*(){const e=A5++,t=[];let i=null;try{i=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(n){this.emit("error",n);return}if(this._setFastBlockNumber(i),this.emit("poll",e,i),i===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=i-1),Math.abs(this._emitted.block-i)>1e3)Ze.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${i})`),this.emit("error",Ze.makeError("network block skew detected",W.errors.NETWORK_ERROR,{blockNumber:i,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",i);else for(let n=this._emitted.block+1;n<=i;n++)this.emit("block",n);this._emitted.block!==i&&(this._emitted.block=i,Object.keys(this._emitted).forEach(n=>{if(n==="block")return;const s=this._emitted[n];s!=="pending"&&i-s>12&&delete this._emitted[n]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=i-1),this._events.forEach(n=>{switch(n.type){case"tx":{const s=n.hash;let o=this.getTransactionReceipt(s).then(c=>(!c||c.blockNumber==null||(this._emitted["t:"+s]=c.blockNumber,this.emit(s,c)),null)).catch(c=>{this.emit("error",c)});t.push(o);break}case"filter":{if(!n._inflight){n._inflight=!0,n._lastBlockNumber===-2&&(n._lastBlockNumber=i-1);const s=n.filter;s.fromBlock=n._lastBlockNumber+1,s.toBlock=i;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const c=this.getLogs(s).then(l=>{n._inflight=!1,l.length!==0&&l.forEach(h=>{h.blockNumber>n._lastBlockNumber&&(n._lastBlockNumber=h.blockNumber),this._emitted["b:"+h.blockHash]=h.blockNumber,this._emitted["t:"+h.transactionHash]=h.blockNumber,this.emit(s,h)})}).catch(l=>{this.emit("error",l),n._inflight=!1});t.push(c)}break}}}),this._lastBlockNumber=i,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(n=>{this.emit("error",n)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return He(this,void 0,void 0,function*(){return Ze.throwError("provider does not support network detection",W.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return He(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield Mp(0),this._network;const i=Ze.makeError("underlying network changed",W.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",i),i}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Wo();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Wo(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,i){return He(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,i||0,null)})}_waitForTransaction(e,t,i,n){return He(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=t?s:new Promise((o,c)=>{const l=[];let h=!1;const p=function(){return h?!0:(h=!0,l.forEach(_=>{_()}),!1)},v=_=>{_.confirmations<t||p()||o(_)};if(this.on(e,v),l.push(()=>{this.removeListener(e,v)}),n){let _=n.startBlock,A=null;const P=S=>He(this,void 0,void 0,function*(){h||(yield Mp(1e3),this.getTransactionCount(n.from).then(R=>He(this,void 0,void 0,function*(){if(!h){if(R<=n.nonce)_=S;else{{const B=yield this.getTransaction(e);if(B&&B.blockNumber!=null)return}for(A==null&&(A=_-3,A<n.startBlock&&(A=n.startBlock));A<=S;){if(h)return;const B=yield this.getBlockWithTransactions(A);for(let T=0;T<B.transactions.length;T++){const k=B.transactions[T];if(k.hash===e)return;if(k.from===n.from&&k.nonce===n.nonce){if(h)return;const I=yield this.waitForTransaction(k.hash,t);if(p())return;let N="replaced";k.data===n.data&&k.to===n.to&&k.value.eq(n.value)?N="repriced":k.data==="0x"&&k.from===k.to&&k.value.isZero()&&(N="cancelled"),c(Ze.makeError("transaction was replaced",W.errors.TRANSACTION_REPLACED,{cancelled:N==="replaced"||N==="cancelled",reason:N,replacement:this._wrapTransaction(k),hash:e,receipt:I}));return}}A++}}h||this.once("block",P)}}),R=>{h||this.once("block",P)}))});if(h)return;this.once("block",P),l.push(()=>{this.removeListener("block",P)})}if(typeof i=="number"&&i>0){const _=setTimeout(()=>{p()||c(Ze.makeError("timeout exceeded",W.errors.TIMEOUT,{timeout:i}))},i);_.unref&&_.unref(),l.push(()=>{clearTimeout(_)})}})})}getBlockNumber(){return He(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return He(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return re.from(e)}catch(t){return Ze.throwError("bad result from backend",W.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return He(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield It({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",i);try{return re.from(n)}catch(s){return Ze.throwError("bad result from backend",W.errors.SERVER_ERROR,{method:"getBalance",params:i,result:n,error:s})}})}getTransactionCount(e,t){return He(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield It({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",i);try{return re.from(n).toNumber()}catch(s){return Ze.throwError("bad result from backend",W.errors.SERVER_ERROR,{method:"getTransactionCount",params:i,result:n,error:s})}})}getCode(e,t){return He(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield It({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",i);try{return ie(n)}catch(s){return Ze.throwError("bad result from backend",W.errors.SERVER_ERROR,{method:"getCode",params:i,result:n,error:s})}})}getStorageAt(e,t,i){return He(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield It({address:this._getAddress(e),blockTag:this._getBlockTag(i),position:Promise.resolve(t).then(o=>Ao(o))}),s=yield this.perform("getStorageAt",n);try{return ie(s)}catch(o){return Ze.throwError("bad result from backend",W.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:s,error:o})}})}_wrapTransaction(e,t,i){if(t!=null&&_i(t)!==32)throw new Error("invalid response - sendTransaction");const n=e;return t!=null&&e.hash!==t&&Ze.throwError("Transaction hash mismatch from Provider.sendTransaction.",W.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),n.wait=(s,o)=>He(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let c;s!==0&&i!=null&&(c={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:i});const l=yield this._waitForTransaction(e.hash,s,o,c);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&Ze.throwError("transaction failed",W.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),n}sendTransaction(e){return He(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(s=>ie(s)),i=this.formatter.transaction(e);i.confirmations==null&&(i.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(i,s,n)}catch(s){throw s.transaction=i,s.transactionHash=i.hash,s}})}_getTransactionRequest(e){return He(this,void 0,void 0,function*(){const t=yield e,i={};return["from","to"].forEach(n=>{t[n]!=null&&(i[n]=Promise.resolve(t[n]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(n=>{t[n]!=null&&(i[n]=Promise.resolve(t[n]).then(s=>s?re.from(s):null))}),["type"].forEach(n=>{t[n]!=null&&(i[n]=Promise.resolve(t[n]).then(s=>s??null))}),t.accessList&&(i.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(n=>{t[n]!=null&&(i[n]=Promise.resolve(t[n]).then(s=>s?ie(s):null))}),this.formatter.transactionRequest(yield It(i))})}_getFilter(e){return He(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(i=>{e[i]!=null&&(t[i]=e[i])}),["fromBlock","toBlock"].forEach(i=>{e[i]!=null&&(t[i]=this._getBlockTag(e[i]))}),this.formatter.filter(yield It(t))})}_call(e,t,i){return He(this,void 0,void 0,function*(){i>=x5&&Ze.throwError("CCIP read exceeded maximum redirections",W.errors.SERVER_ERROR,{redirects:i,transaction:e});const n=e.to,s=yield this.perform("call",{transaction:e,blockTag:t});if(i>=0&&t==="latest"&&n!=null&&s.substring(0,10)==="0x556f1830"&&_i(s)%32===4)try{const o=Dt(s,4),c=Dt(o,0,32);re.from(c).eq(n)||Ze.throwError("CCIP Read sender did not match",W.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],h=re.from(Dt(o,32,64)).toNumber(),p=re.from(Dt(o,h,h+32)).toNumber(),v=Dt(o,h+32);for(let B=0;B<p;B++){const T=Cc(v,B*32);T==null&&Ze.throwError("CCIP Read contained corrupt URL string",W.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(T)}const _=Ko(o,64);re.from(Dt(o,100,128)).isZero()||Ze.throwError("CCIP Read callback selector included junk",W.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const A=Dt(o,96,100),P=Ko(o,128),S=yield this.ccipReadFetch(e,_,l);S==null&&Ze.throwError("CCIP Read disabled or provided no URLs",W.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const R={to:n,data:gr([A,Np([S,P])])};return this._call(R,t,i+1)}catch(o){if(o.code===W.errors.SERVER_ERROR)throw o}try{return ie(s)}catch(o){return Ze.throwError("bad result from backend",W.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:s,error:o})}})}call(e,t){return He(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield It({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(i.transaction,i.blockTag,i.ccipReadEnabled?0:-1)})}estimateGas(e){return He(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield It({transaction:this._getTransactionRequest(e)}),i=yield this.perform("estimateGas",t);try{return re.from(i)}catch(n){return Ze.throwError("bad result from backend",W.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:i,error:n})}})}_getAddress(e){return He(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Ze.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&Ze.throwError("ENS name not configured",W.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return He(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let i=-128;const n={includeTransactions:!!t};if(Ke(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),Ke(n.blockTag)&&(i=parseInt(n.blockTag.substring(2),16))}catch{Ze.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return ss(()=>He(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",n);if(s==null)return n.blockHash!=null&&this._emitted["b:"+n.blockHash]==null||n.blockTag!=null&&i>this._emitted.block?null:void 0;if(t){let o=null;for(let l=0;l<s.transactions.length;l++){const h=s.transactions[l];if(h.blockNumber==null)h.confirmations=0;else if(h.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let p=o-h.blockNumber+1;p<=0&&(p=1),h.confirmations=p}}const c=this.formatter.blockWithTransactions(s);return c.transactions=c.transactions.map(l=>this._wrapTransaction(l)),c}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return He(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return ss(()=>He(this,void 0,void 0,function*(){const i=yield this.perform("getTransaction",t);if(i==null)return this._emitted["t:"+e]==null?null:void 0;const n=this.formatter.transactionResponse(i);if(n.blockNumber==null)n.confirmations=0;else if(n.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;o<=0&&(o=1),n.confirmations=o}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return He(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return ss(()=>He(this,void 0,void 0,function*(){const i=yield this.perform("getTransactionReceipt",t);if(i==null)return this._emitted["t:"+e]==null?null:void 0;if(i.blockHash==null)return;const n=this.formatter.receipt(i);if(n.blockNumber==null)n.confirmations=0;else if(n.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;o<=0&&(o=1),n.confirmations=o}return n}),{oncePoll:this})})}getLogs(e){return He(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield It({filter:this._getFilter(e)}),i=yield this.perform("getLogs",t);return i.forEach(n=>{n.removed==null&&(n.removed=!1)}),we.arrayOf(this.formatter.filterLog.bind(this.formatter))(i)})}getEtherPrice(){return He(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return He(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Ze.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return He(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const i=yield this._getResolver(t,"getResolver");if(i!=null){const n=new Z0(this,i,e);return t!==e&&!(yield n.supportsWildcard())?null:n}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return He(this,void 0,void 0,function*(){t==null&&(t="ENS");const i=yield this.getNetwork();i.ensAddress||Ze.throwError("network does not support ENS",W.errors.UNSUPPORTED_OPERATION,{operation:t,network:i.name});try{const n=yield this.call({to:i.ensAddress,data:"0x0178b8bf"+Oo(e).substring(2)});return this.formatter.callAddress(n)}catch{}return null})}resolveName(e){return He(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(i){if(Ke(e))throw i}typeof e!="string"&&Ze.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return He(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(t,"lookupAddress");if(i==null)return null;const n=Cc(yield this.call({to:i,data:"0x691f3431"+Oo(t).substring(2)}),0);return(yield this.resolveName(n))!=e?null:n})}getAvatar(e){return He(this,void 0,void 0,function*(){let t=null;if(Ke(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;t=new Z0(this,o,s);try{const c=yield t.getAvatar();if(c)return c.url}catch(c){if(c.code!==W.errors.CALL_EXCEPTION)throw c}try{const c=Cc(yield this.call({to:o,data:"0x691f3431"+Oo(s).substring(2)}),0);t=yield this.getResolver(c)}catch(c){if(c.code!==W.errors.CALL_EXCEPTION)throw c;return null}}else if(t=yield this.getResolver(e),!t)return null;const i=yield t.getAvatar();return i==null?null:i.url})}perform(e,t){return Ze.throwError(e+" not implemented",W.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,i){const n=new y5(Js(e),t,i);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let i=!1,n=[],s=Js(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,t)},0),i=!0,o.once?(n.push(o),!1):!0)),n.forEach(o=>{this._stopEvent(o)}),i}listenerCount(e){if(!e)return this._events.length;let t=Js(e);return this._events.filter(i=>i.tag===t).length}listeners(e){if(e==null)return this._events.map(i=>i.listener);let t=Js(e);return this._events.filter(i=>i.tag===t).map(i=>i.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const i=[];let n=!1,s=Js(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=t||n?!0:(n=!0,i.push(o),!1)),i.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const i=Js(e);this._events=this._events.filter(n=>n.tag!==i?!0:(t.push(n),!1))}return t.forEach(i=>{this._stopEvent(i)}),this}}var Ki=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const $t=new W(cr),S5=["call","estimateGas"];function Vo(r,e){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const t=Ke(r.data)?r.data:null;if(!e||t)return{message:r.message,data:t}}if(typeof r=="object"){for(const t in r){const i=Vo(r[t],e);if(i)return i}return null}if(typeof r=="string")try{return Vo(JSON.parse(r),e)}catch{}return null}function Op(r,e,t){const i=t.transaction||t.signedTransaction;if(r==="call"){const s=Vo(e,!0);if(s)return s.data;$t.throwError("missing revert data in call exception; Transaction reverted without a reason string",W.errors.CALL_EXCEPTION,{data:"0x",transaction:i,error:e})}if(r==="estimateGas"){let s=Vo(e.body,!1);s==null&&(s=Vo(e,!1)),s&&$t.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",W.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:r,transaction:i,error:e})}let n=e.message;throw e.code===W.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText),n=(n||"").toLowerCase(),n.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&$t.throwError("insufficient funds for intrinsic transaction cost",W.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:i}),n.match(/nonce (is )?too low/i)&&$t.throwError("nonce has already been used",W.errors.NONCE_EXPIRED,{error:e,method:r,transaction:i}),n.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&$t.throwError("replacement fee too low",W.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:i}),n.match(/only replay-protected/i)&&$t.throwError("legacy pre-eip-155 transactions not supported",W.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:i}),S5.indexOf(r)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&$t.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",W.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:i}),e}function Tp(r){return new Promise(function(e){setTimeout(e,r)})}function C5(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function Go(r){return r&&r.toLowerCase()}const ef={};class tf extends _n{constructor(e,t,i){if(super(),e!==ef)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Q(this,"provider",t),i==null&&(i=0),typeof i=="string"?(Q(this,"_address",this.provider.formatter.address(i)),Q(this,"_index",null)):typeof i=="number"?(Q(this,"_index",i),Q(this,"_address",null)):$t.throwArgumentError("invalid address or index","addressOrIndex",i)}connect(e){return $t.throwError("cannot alter JSON-RPC Signer connection",W.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new M5(ef,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&$t.throwError("unknown account #"+this._index,W.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=vt(e);const t=this.getAddress().then(i=>(i&&(i=i.toLowerCase()),i));if(e.gasLimit==null){const i=vt(e);i.from=t,e.gasLimit=this.provider.estimateGas(i)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(i=>Ki(this,void 0,void 0,function*(){if(i==null)return null;const n=yield this.provider.resolveName(i);return n==null&&$t.throwArgumentError("provided ENS name resolves to null","tx.to",i),n}))),It({tx:It(e),sender:t}).then(({tx:i,sender:n})=>{i.from!=null?i.from.toLowerCase()!==n&&$t.throwArgumentError("from address mismatch","transaction",e):i.from=n;const s=this.provider.constructor.hexlifyTransaction(i,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&$t.throwError("user rejected transaction",W.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:i}),Op("sendTransaction",o,s)))})}signTransaction(e){return $t.throwError("signing transactions is unsupported",W.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Ki(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),i=yield this.sendUncheckedTransaction(e);try{return yield ss(()=>Ki(this,void 0,void 0,function*(){const n=yield this.provider.getTransaction(i);if(n!==null)return this.provider._wrapTransaction(n,i,t)}),{oncePoll:this.provider})}catch(n){throw n.transactionHash=i,n}})}signMessage(e){return Ki(this,void 0,void 0,function*(){const t=typeof e=="string"?Nt(e):e,i=yield this.getAddress();try{return yield this.provider.send("personal_sign",[ie(t),i.toLowerCase()])}catch(n){throw typeof n.message=="string"&&n.message.match(/user denied/i)&&$t.throwError("user rejected signing",W.errors.ACTION_REJECTED,{action:"signMessage",from:i,messageData:e}),n}})}_legacySignMessage(e){return Ki(this,void 0,void 0,function*(){const t=typeof e=="string"?Nt(e):e,i=yield this.getAddress();try{return yield this.provider.send("eth_sign",[i.toLowerCase(),ie(t)])}catch(n){throw typeof n.message=="string"&&n.message.match(/user denied/i)&&$t.throwError("user rejected signing",W.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:i,messageData:e}),n}})}_signTypedData(e,t,i){return Ki(this,void 0,void 0,function*(){const n=yield Xt.resolveNames(e,t,i,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Xt.getPayload(n.domain,t,n.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&$t.throwError("user rejected signing",W.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:n.domain,types:t,value:n.value}}),o}})}unlock(e){return Ki(this,void 0,void 0,function*(){const t=this.provider,i=yield this.getAddress();return t.send("personal_unlockAccount",[i.toLowerCase(),e,null])})}}class M5 extends tf{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:i=>this.provider.waitForTransaction(t,i)}))}}const I5={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};let os=class extends Mc{constructor(e,t){let i=t;i==null&&(i=new Promise((n,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{n(o)},o=>{s(o)})},0)})),super(i),e||(e=Zt(this.constructor,"defaultUrl")()),typeof e=="string"?Q(this,"connection",Object.freeze({url:e})):Q(this,"connection",Object.freeze(vt(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Ki(this,void 0,void 0,function*(){yield Tp(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=Zt(this.constructor,"getNetwork");try{return t(re.from(e).toNumber())}catch(i){return $t.throwError("could not detect network",W.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:i})}}return $t.throwError("could not detect network",W.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new tf(ef,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const i={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:br(i),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];const s=Gs(this.connection,JSON.stringify(i),C5).then(o=>(this.emit("debug",{action:"response",request:i,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:i,provider:this}),o});return n&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Go(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Go(t.address),t.blockTag]];case"getCode":return["eth_getCode",[Go(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Go(t.address),bt(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[Zt(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[Zt(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=Go(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Ki(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const n=t.transaction;if(n&&n.type!=null&&re.from(n.type).isZero()&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=vt(t),t.transaction=vt(n),delete t.transaction.type)}}const i=this.prepareRequest(e,t);i==null&&$t.throwError(e+" not implemented",W.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(i[0],i[1])}catch(n){return Op(e,n,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(i){function n(){e.send("eth_getFilterChanges",[i]).then(function(s){if(e._pendingFilter!=t)return null;let o=Promise.resolve();return s.forEach(function(c){e._emitted["t:"+c.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(c).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return Tp(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[i]);return}return setTimeout(function(){n()},0),null}).catch(s=>{})}return n(),i}).catch(i=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const i=vt(I5);if(t)for(const s in t)t[s]&&(i[s]=!0);Vl(e,i);const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=Ao(re.from(e[s]));s==="gasLimit"&&(s="gas"),n[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(n[s]=ie(e[s]))}),e.accessList&&(n.accessList=Mn(e.accessList)),n}},Jo=null;try{if(Jo=WebSocket,Jo==null)throw new Error("inject please")}catch{const e=new W(cr);Jo=function(){e.throwError("WebSockets not supported in this environment",W.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var rf=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const Ic=new W(cr);let P5=1;class Pc extends os{constructor(e,t){t==="any"&&Ic.throwError("WebSocketProvider does not support 'any' network yet",W.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?Q(this,"_websocket",new Jo(this.connection.url)):Q(this,"_websocket",e),Q(this,"_requests",{}),Q(this,"_subs",{}),Q(this,"_subIds",{}),Q(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(n=>{this.websocket.send(this._requests[n].payload)})},this.websocket.onmessage=n=>{const s=n.data,o=JSON.parse(s);if(o.id!=null){const c=String(o.id),l=this._requests[c];if(delete this._requests[c],o.result!==void 0)l.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(l.payload),response:o.result,provider:this});else{let h=null;o.error?(h=new Error(o.error.message||"unknown error"),Q(h,"code",o.error.code||null),Q(h,"response",s)):h=new Error("unknown error"),l.callback(h,void 0),this.emit("debug",{action:"response",error:h,request:JSON.parse(l.payload),provider:this})}}else if(o.method==="eth_subscription"){const c=this._subs[o.params.subscription];c&&c.processFunc(o.params.result)}else console.warn("this should not happen")};const i=setInterval(()=>{this.emit("poll")},1e3);i.unref&&i.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Ic.throwError("cannot reset events block on WebSocketProvider",W.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Ic.throwError("cannot set polling interval on WebSocketProvider",W.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return rf(this,void 0,void 0,function*(){return null})}set polling(e){e&&Ic.throwError("cannot set polling on WebSocketProvider",W.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const i=P5++;return new Promise((n,s)=>{function o(l,h){return l?s(l):n(h)}const c=JSON.stringify({method:e,params:t,id:i,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(c),provider:this}),this._requests[String(i)]={callback:o,payload:c},this._wsReady&&this.websocket.send(c)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,i){return rf(this,void 0,void 0,function*(){let n=this._subIds[e];n==null&&(n=Promise.all(t).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=n);const s=yield n;this._subs[s]={tag:e,processFunc:i}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const i=re.from(t.number).toNumber();this._emitted.block=i,this.emit("block",i)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=i=>{const n=i.hash;this.getTransactionReceipt(n).then(s=>{s&&this.emit(n,s)})};t(e),this._subscribe("tx",["newHeads"],i=>{this._events.filter(n=>n.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(n=>n.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const i=this._subIds[t];i&&(delete this._subIds[t],i.then(n=>{this._subs[n]&&(delete this._subs[n],this.send("eth_unsubscribe",[n]))}))}destroy(){return rf(this,void 0,void 0,function*(){this.websocket.readyState===Jo.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var R5=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const Qo=new W(cr);class kp extends os{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return R5(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||Qo.throwError("no network detected",W.errors.UNKNOWN_ERROR,{}),this._network==null&&(Q(this,"_network",t),this.emit("network",t,null))),t})}}class Vi extends kp{constructor(e,t){Qo.checkAbstract(new.target,Vi),e=Zt(new.target,"getNetwork")(e),t=Zt(new.target,"getApiKey")(t);const i=Zt(new.target,"getUrl")(e,t);super(i,e),typeof t=="string"?Q(this,"apiKey",t):t!=null&&Object.keys(t).forEach(n=>{Q(this,n,t[n])})}_startPending(){Qo.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Qo.throwError("API provider does not support signing",W.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return Qo.throwError("not implemented; sub-classes must override getUrl",W.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const Bp=new W(cr),Rc="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class $p extends Pc{constructor(e,t){const i=new nf(e,t),n=i.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi.");super(n,i.network),Q(this,"apiKey",i.apiKey)}isCommunityResource(){return this.apiKey===Rc}}class nf extends Vi{static getWebSocketProvider(e,t){return new $p(e,t)}static getApiKey(e){return e==null?Rc:(e&&typeof e!="string"&&Bp.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let i=null;switch(e.name){case"homestead":i="eth-mainnet.alchemyapi.io/v2/";break;case"goerli":i="eth-goerli.g.alchemy.com/v2/";break;case"matic":i="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":i="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":i="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-goerli":i="arb-goerli.g.alchemy.com/v2/";break;case"optimism":i="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-goerli":i="opt-goerli.g.alchemy.com/v2/";break;default:Bp.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+i+t,throttleCallback:(n,s)=>(t===Rc&&Ho(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===Rc}}const D5=new W(cr),Dc="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function N5(r){switch(r){case"homestead":return"rpc.ankr.com/eth/";case"ropsten":return"rpc.ankr.com/eth_ropsten/";case"rinkeby":return"rpc.ankr.com/eth_rinkeby/";case"goerli":return"rpc.ankr.com/eth_goerli/";case"matic":return"rpc.ankr.com/polygon/";case"arbitrum":return"rpc.ankr.com/arbitrum/"}return D5.throwArgumentError("unsupported network","name",r)}class Lp extends Vi{isCommunityResource(){return this.apiKey===Dc}static getApiKey(e){return e??Dc}static getUrl(e,t){t==null&&(t=Dc);const i={allowGzip:!0,url:"https://"+N5(e.name)+t,throttleCallback:(n,s)=>(t.apiKey===Dc&&Ho(),Promise.resolve(!0))};return t.projectSecret!=null&&(i.user="",i.password=t.projectSecret),i}}var O5=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const Up=new W(cr);class Fp extends Vi{static getApiKey(e){return e!=null&&Up.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let i=null;switch(e.name){case"homestead":i="https://cloudflare-eth.com/";break;default:Up.throwArgumentError("unsupported network","network",arguments[0])}return i}perform(e,t){const i=Object.create(null,{perform:{get:()=>super.perform}});return O5(this,void 0,void 0,function*(){return e==="getBlockNumber"?(yield i.perform.call(this,"getBlock",{blockTag:"latest"})).number:i.perform.call(this,e,t)})}}var Nc=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const Rn=new W(cr);function qp(r){const e={};for(let t in r){if(r[t]==null)continue;let i=r[t];t==="type"&&i===0||({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[t]?i=Ao(ie(i)):t==="accessList"?i="["+Mn(i).map(n=>`{address:"${n.address}",storageKeys:["${n.storageKeys.join('","')}"]}`).join(",")+"]":i=ie(i),e[t]=i)}return e}function T5(r){if(r.status==0&&(r.message==="No records found"||r.message==="No transactions found"))return r.result;if(r.status!=1||typeof r.message!="string"||!r.message.match(/^OK/)){const e=new Error("invalid response");throw e.result=JSON.stringify(r),(r.result||"").toLowerCase().indexOf("rate limit")>=0&&(e.throttleRetry=!0),e}return r.result}function jp(r){if(r&&r.status==0&&r.message=="NOTOK"&&(r.result||"").toLowerCase().indexOf("rate limit")>=0){const e=new Error("throttled response");throw e.result=JSON.stringify(r),e.throttleRetry=!0,e}if(r.jsonrpc!="2.0"){const e=new Error("invalid response");throw e.result=JSON.stringify(r),e}if(r.error){const e=new Error(r.error.message||"unknown error");throw r.error.code&&(e.code=r.error.code),r.error.data&&(e.data=r.error.data),e}return r.result}function zp(r){if(r==="pending")throw new Error("pending not supported");return r==="latest"?r:parseInt(r.substring(2),16)}function sf(r,e,t){if(r==="call"&&e.code===W.errors.SERVER_ERROR){const n=e.error;if(n&&(n.message.match(/reverted/i)||n.message.match(/VM execution error/i))){let s=n.data;if(s&&(s="0x"+s.replace(/^.*0x/i,"")),Ke(s))return s;Rn.throwError("missing revert data in call exception",W.errors.CALL_EXCEPTION,{error:e,data:"0x"})}}let i=e.message;throw e.code===W.errors.SERVER_ERROR&&(e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText)),i=(i||"").toLowerCase(),i.match(/insufficient funds/)&&Rn.throwError("insufficient funds for intrinsic transaction cost",W.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:t}),i.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Rn.throwError("nonce has already been used",W.errors.NONCE_EXPIRED,{error:e,method:r,transaction:t}),i.match(/another transaction with same nonce/)&&Rn.throwError("replacement fee too low",W.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:t}),i.match(/execution failed due to an exception|execution reverted/)&&Rn.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",W.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:t}),e}class Hp extends Mc{constructor(e,t){super(e),Q(this,"baseUrl",this.getBaseUrl()),Q(this,"apiKey",t||null)}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"matic":return"https://api.polygonscan.com";case"maticmum":return"https://api-testnet.polygonscan.com";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}return Rn.throwArgumentError("unsupported network","network",this.network.name)}getUrl(e,t){const i=Object.keys(t).reduce((s,o)=>{const c=t[o];return c!=null&&(s+=`&${o}=${c}`),s},""),n=this.apiKey?`&apikey=${this.apiKey}`:"";return`${this.baseUrl}/api?module=${e}${i}${n}`}getPostUrl(){return`${this.baseUrl}/api`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,i){return Nc(this,void 0,void 0,function*(){const n=i?this.getPostUrl():this.getUrl(e,t),s=i?this.getPostData(e,t):null,o=e==="proxy"?jp:T5;this.emit("debug",{action:"request",request:n,provider:this});const c={url:n,throttleSlotInterval:1e3,throttleCallback:(p,v)=>(this.isCommunityResource()&&Ho(),Promise.resolve(!0))};let l=null;s&&(c.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},l=Object.keys(s).map(p=>`${p}=${s[p]}`).join("&"));const h=yield Gs(c,l,o||jp);return this.emit("debug",{action:"response",request:n,response:br(h),provider:this}),h})}detectNetwork(){return Nc(this,void 0,void 0,function*(){return this.network})}perform(e,t){const i=Object.create(null,{perform:{get:()=>super.perform}});return Nc(this,void 0,void 0,function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(n=>sf("sendTransaction",n,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if(t.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const n=qp(t.transaction);n.module="proxy",n.action="eth_call";try{return yield this.fetch("proxy",n,!0)}catch(s){return sf("call",s,t.transaction)}}case"estimateGas":{const n=qp(t.transaction);n.module="proxy",n.action="eth_estimateGas";try{return yield this.fetch("proxy",n,!0)}catch(s){return sf("estimateGas",s,t.transaction)}}case"getLogs":{const n={action:"getLogs"};if(t.filter.fromBlock&&(n.fromBlock=zp(t.filter.fromBlock)),t.filter.toBlock&&(n.toBlock=zp(t.filter.toBlock)),t.filter.address&&(n.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Rn.throwError("unsupported topic count",W.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),t.filter.topics.length===1)){const c=t.filter.topics[0];(typeof c!="string"||c.length!==66)&&Rn.throwError("unsupported topic format",W.errors.UNSUPPORTED_OPERATION,{topic0:c}),n.topic0=c}const s=yield this.fetch("logs",n);let o={};for(let c=0;c<s.length;c++){const l=s[c];if(l.blockHash==null){if(o[l.blockNumber]==null){const h=yield this.getBlock(l.blockNumber);h&&(o[l.blockNumber]=h.hash)}l.blockHash=o[l.blockNumber]}}return s}case"getEtherPrice":return this.network.name!=="homestead"?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return i.perform.call(this,e,t)})}getHistory(e,t,i){return Nc(this,void 0,void 0,function*(){const n={action:"txlist",address:yield this.resolveName(e),startblock:t??0,endblock:i??99999999,sort:"asc"};return(yield this.fetch("account",n)).map(o=>{["contractAddress","to"].forEach(function(l){o[l]==""&&delete o[l]}),o.creates==null&&o.contractAddress!=null&&(o.creates=o.contractAddress);const c=this.formatter.transactionResponse(o);return o.timeStamp&&(c.timestamp=parseInt(o.timeStamp)),c})})}isCommunityResource(){return this.apiKey==null}}var Oc=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})};const as=new W(cr);function Tc(){return new Date().getTime()}function Wp(r){let e=null;for(let t=0;t<r.length;t++){const i=r[t];if(i==null)return null;e?e.name===i.name&&e.chainId===i.chainId&&(e.ensAddress===i.ensAddress||e.ensAddress==null&&i.ensAddress==null)||as.throwArgumentError("provider mismatch","networks",r):e=i}return e}function Kp(r,e){r=r.slice().sort();const t=Math.floor(r.length/2);if(r.length%2)return r[t];const i=r[t-1],n=r[t];return e!=null&&Math.abs(i-n)>e?null:(i+n)/2}function Qs(r){if(r===null)return"null";if(typeof r=="number"||typeof r=="boolean")return JSON.stringify(r);if(typeof r=="string")return r;if(re.isBigNumber(r))return r.toString();if(Array.isArray(r))return JSON.stringify(r.map(e=>Qs(e)));if(typeof r=="object"){const e=Object.keys(r);return e.sort(),"{"+e.map(t=>{let i=r[t];return typeof i=="function"?i="[function]":i=Qs(i),JSON.stringify(t)+":"+i}).join(",")+"}"}throw new Error("unknown value type: "+typeof r)}let k5=1;function Vp(r){let e=null,t=null,i=new Promise(o=>{e=function(){t&&(clearTimeout(t),t=null),o()},t=setTimeout(e,r)});const n=o=>(i=i.then(o),i);function s(){return i}return{cancel:e,getPromise:s,wait:n}}const B5=[W.errors.CALL_EXCEPTION,W.errors.INSUFFICIENT_FUNDS,W.errors.NONCE_EXPIRED,W.errors.REPLACEMENT_UNDERPRICED,W.errors.UNPREDICTABLE_GAS_LIMIT],$5=["address","args","errorArgs","errorSignature","method","transaction"];function kc(r,e){const t={weight:r.weight};return Object.defineProperty(t,"provider",{get:()=>r.provider}),r.start&&(t.start=r.start),e&&(t.duration=e-r.start),r.done&&(r.error?t.error=r.error:t.result=r.result||null),t}function L5(r,e){return function(t){const i={};t.forEach(s=>{const o=r(s.result);i[o]||(i[o]={count:0,result:s.result}),i[o].count++});const n=Object.keys(i);for(let s=0;s<n.length;s++){const o=i[n[s]];if(o.count>=e)return o.result}}}function U5(r,e,t){let i=Qs;switch(e){case"getBlockNumber":return function(n){const s=n.map(c=>c.result);let o=Kp(n.map(c=>c.result),2);if(o!=null)return o=Math.ceil(o),s.indexOf(o+1)>=0&&o++,o>=r._highestBlockNumber&&(r._highestBlockNumber=o),r._highestBlockNumber};case"getGasPrice":return function(n){const s=n.map(o=>o.result);return s.sort(),s[Math.floor(s.length/2)]};case"getEtherPrice":return function(n){return Kp(n.map(s=>s.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":i=function(n){return n==null?null:(n=vt(n),n.confirmations=-1,Qs(n))};break;case"getBlock":t.includeTransactions?i=function(n){return n==null?null:(n=vt(n),n.transactions=n.transactions.map(s=>(s=vt(s),s.confirmations=-1,s)),Qs(n))}:i=function(n){return n==null?null:Qs(n)};break;default:throw new Error("unknown method: "+e)}return L5(i,r.quorum)}function Yo(r,e){return Oc(this,void 0,void 0,function*(){const t=r.provider;return t.blockNumber!=null&&t.blockNumber>=e||e===-1?t:ss(()=>new Promise((i,n)=>{setTimeout(function(){return t.blockNumber>=e?i(t):r.cancelled?i(null):i(void 0)},0)}),{oncePoll:t})})}function F5(r,e,t,i){return Oc(this,void 0,void 0,function*(){let n=r.provider;switch(t){case"getBlockNumber":case"getGasPrice":return n[t]();case"getEtherPrice":if(n.getEtherPrice)return n.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return i.blockTag&&Ke(i.blockTag)&&(n=yield Yo(r,e)),n[t](i.address,i.blockTag||"latest");case"getStorageAt":return i.blockTag&&Ke(i.blockTag)&&(n=yield Yo(r,e)),n.getStorageAt(i.address,i.position,i.blockTag||"latest");case"getBlock":return i.blockTag&&Ke(i.blockTag)&&(n=yield Yo(r,e)),n[i.includeTransactions?"getBlockWithTransactions":"getBlock"](i.blockTag||i.blockHash);case"call":case"estimateGas":return i.blockTag&&Ke(i.blockTag)&&(n=yield Yo(r,e)),t==="call"&&i.blockTag?n[t](i.transaction,i.blockTag):n[t](i.transaction);case"getTransaction":case"getTransactionReceipt":return n[t](i.transactionHash);case"getLogs":{let s=i.filter;return(s.fromBlock&&Ke(s.fromBlock)||s.toBlock&&Ke(s.toBlock))&&(n=yield Yo(r,e)),n.getLogs(s)}}return as.throwError("unknown method error",W.errors.UNKNOWN_ERROR,{method:t,params:i})})}class Gp extends Mc{constructor(e,t){e.length===0&&as.throwArgumentError("missing providers","providers",e);const i=e.map((o,c)=>{if(Xn.isProvider(o)){const p=J0(o)?2e3:750;return Object.freeze({provider:o,weight:1,stallTimeout:p,priority:1})}const l=vt(o);l.priority==null&&(l.priority=1),l.stallTimeout==null&&(l.stallTimeout=J0(o)?2e3:750),l.weight==null&&(l.weight=1);const h=l.weight;return(h%1||h>512||h<1)&&as.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${c}].weight`,h),Object.freeze(l)}),n=i.reduce((o,c)=>o+c.weight,0);t==null?t=n/2:t>n&&as.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let s=Wp(i.map(o=>o.provider.network));s==null&&(s=new Promise((o,c)=>{setTimeout(()=>{this.detectNetwork().then(o,c)},0)})),super(s),Q(this,"providerConfigs",Object.freeze(i)),Q(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return Oc(this,void 0,void 0,function*(){const e=yield Promise.all(this.providerConfigs.map(t=>t.provider.getNetwork()));return Wp(e)})}perform(e,t){return Oc(this,void 0,void 0,function*(){if(e==="sendTransaction"){const l=yield Promise.all(this.providerConfigs.map(h=>h.provider.sendTransaction(t.signedTransaction).then(p=>p.hash,p=>p)));for(let h=0;h<l.length;h++){const p=l[h];if(typeof p=="string")return p}throw l[0]}this._highestBlockNumber===-1&&e!=="getBlockNumber"&&(yield this.getBlockNumber());const i=U5(this,e,t),n=sp(this.providerConfigs.map(vt));n.sort((l,h)=>l.priority-h.priority);const s=this._highestBlockNumber;let o=0,c=!0;for(;;){const l=Tc();let h=n.filter(A=>A.runner&&l-A.start<A.stallTimeout).reduce((A,P)=>A+P.weight,0);for(;h<this.quorum&&o<n.length;){const A=n[o++],P=k5++;A.start=Tc(),A.staller=Vp(A.stallTimeout),A.staller.wait(()=>{A.staller=null}),A.runner=F5(A,s,e,t).then(S=>{A.done=!0,A.result=S,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:P,backend:kc(A,Tc()),request:{method:e,params:br(t)},provider:this})},S=>{A.done=!0,A.error=S,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:P,backend:kc(A,Tc()),request:{method:e,params:br(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:P,backend:kc(A,null),request:{method:e,params:br(t)},provider:this}),h+=A.weight}const p=[];n.forEach(A=>{A.done||!A.runner||(p.push(A.runner),A.staller&&p.push(A.staller.getPromise()))}),p.length&&(yield Promise.race(p));const v=n.filter(A=>A.done&&A.error==null);if(v.length>=this.quorum){const A=i(v);if(A!==void 0)return n.forEach(P=>{P.staller&&P.staller.cancel(),P.cancelled=!0}),A;c||(yield Vp(100).getPromise()),c=!1}const _=n.reduce((A,P)=>{if(!P.done||P.error==null)return A;const S=P.error.code;return B5.indexOf(S)>=0&&(A[S]||(A[S]={error:P.error,weight:0}),A[S].weight+=P.weight),A},{});if(Object.keys(_).forEach(A=>{const P=_[A];if(P.weight<this.quorum)return;n.forEach(B=>{B.staller&&B.staller.cancel(),B.cancelled=!0});const S=P.error,R={};$5.forEach(B=>{S[B]!=null&&(R[B]=S[B])}),as.throwError(S.reason||S.message,A,R)}),n.filter(A=>!A.done).length===0)break}return n.forEach(l=>{l.staller&&l.staller.cancel(),l.cancelled=!0}),as.throwError("failed to meet quorum",W.errors.SERVER_ERROR,{method:e,params:t,results:n.map(l=>kc(l)),provider:this})})}}const Jp=null,Bc=new W(cr),Zo="84842078b09946638c03157f83405213";class Qp extends Pc{constructor(e,t){const i=new of(e,t),n=i.connection;n.password&&Bc.throwError("INFURA WebSocket project secrets unsupported",W.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const s=n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,e),Q(this,"apiKey",i.projectId),Q(this,"projectId",i.projectId),Q(this,"projectSecret",i.projectSecret)}isCommunityResource(){return this.projectId===Zo}}class of extends Vi{static getWebSocketProvider(e,t){return new Qp(e,t)}static getApiKey(e){const t={apiKey:Zo,projectId:Zo,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(Bc.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),Bc.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let i=null;switch(e?e.name:"unknown"){case"homestead":i="mainnet.infura.io";break;case"goerli":i="goerli.infura.io";break;case"sepolia":i="sepolia.infura.io";break;case"matic":i="polygon-mainnet.infura.io";break;case"maticmum":i="polygon-mumbai.infura.io";break;case"optimism":i="optimism-mainnet.infura.io";break;case"optimism-goerli":i="optimism-goerli.infura.io";break;case"arbitrum":i="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":i="arbitrum-goerli.infura.io";break;default:Bc.throwError("unsupported network",W.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={allowGzip:!0,url:"https://"+i+"/v3/"+t.projectId,throttleCallback:(s,o)=>(t.projectId===Zo&&Ho(),Promise.resolve(!0))};return t.projectSecret!=null&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===Zo}}class q5 extends os{send(e,t){const i={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this._pendingBatch==null&&(this._pendingBatch=[]);const n={request:i,resolve:null,reject:null},s=new Promise((o,c)=>{n.resolve=o,n.reject=c});return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const o=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const c=o.map(l=>l.request);return this.emit("debug",{action:"requestBatch",request:br(c),provider:this}),Gs(this.connection,JSON.stringify(c)).then(l=>{this.emit("debug",{action:"response",request:c,response:l,provider:this}),o.forEach((h,p)=>{const v=l[p];if(v.error){const _=new Error(v.error.message);_.code=v.error.code,_.data=v.error.data,h.reject(_)}else h.resolve(v.result)})},l=>{this.emit("debug",{action:"response",error:l,request:c,provider:this}),o.forEach(h=>{h.reject(l)})})},10)),s}}const af=new W(cr),j5="ETHERS_JS_SHARED";class Yp extends Vi{static getApiKey(e){return e&&typeof e!="string"&&af.throwArgumentError("invalid apiKey","apiKey",e),e||j5}static getUrl(e,t){af.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let i=null;switch(e.name){case"homestead":i="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":i="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":i="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":i="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":i="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:af.throwArgumentError("unsupported network","network",arguments[0])}return i+"?apiKey="+t}}const Zp=new W(cr),Xp="62e1ad51b37b8e00394bda3b";class eg extends Vi{static getApiKey(e){const t={applicationId:null,loadBalancer:!0,applicationSecretKey:null};return e==null?t.applicationId=Xp:typeof e=="string"?t.applicationId=e:e.applicationSecretKey!=null?(t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey):e.applicationId?t.applicationId=e.applicationId:Zp.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let i=null;switch(e?e.name:"unknown"){case"goerli":i="eth-goerli.gateway.pokt.network";break;case"homestead":i="eth-mainnet.gateway.pokt.network";break;case"kovan":i="poa-kovan.gateway.pokt.network";break;case"matic":i="poly-mainnet.gateway.pokt.network";break;case"maticmum":i="polygon-mumbai-rpc.gateway.pokt.network";break;case"rinkeby":i="eth-rinkeby.gateway.pokt.network";break;case"ropsten":i="eth-ropsten.gateway.pokt.network";break;default:Zp.throwError("unsupported network",W.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n=`https://${i}/v1/lb/${t.applicationId}`,s={headers:{},url:n};return t.applicationSecretKey!=null&&(s.user="",s.password=t.applicationSecretKey),s}isCommunityResource(){return this.applicationId===Xp}}const tg=new W(cr);let z5=1;function rg(r,e){const t="Web3LegacyFetcher";return function(i,n){const s={method:i,params:n,id:z5++,jsonrpc:"2.0"};return new Promise((o,c)=>{this.emit("debug",{action:"request",fetcher:t,request:br(s),provider:this}),e(s,(l,h)=>{if(l)return this.emit("debug",{action:"response",fetcher:t,error:l,request:s,provider:this}),c(l);if(this.emit("debug",{action:"response",fetcher:t,request:s,response:h,provider:this}),h.error){const p=new Error(h.error.message);return p.code=h.error.code,p.data=h.error.data,c(p)}o(h.result)})})}}function H5(r){return function(e,t){t==null&&(t=[]);const i={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:br(i),provider:this}),r.request(i).then(n=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:n,provider:this}),n),n=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:n,provider:this}),n})}}class ig extends os{constructor(e,t){e==null&&tg.throwArgumentError("missing provider","provider",e);let i=null,n=null,s=null;typeof e=="function"?(i="unknown:",n=e):(i=e.host||e.path||"",!i&&e.isMetaMask&&(i="metamask"),s=e,e.request?(i===""&&(i="eip-1193:"),n=H5(e)):e.sendAsync?n=rg(e,e.sendAsync.bind(e)):e.send?n=rg(e,e.send.bind(e)):tg.throwArgumentError("unsupported provider","provider",e),i||(i="unknown:")),super(i,t),Q(this,"jsonRpcFetchFunc",n),Q(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const ng=new W(cr);function sg(r,e){if(r==null&&(r="homestead"),typeof r=="string"){const i=r.match(/^(ws|http)s?:/i);if(i)switch(i[1].toLowerCase()){case"http":case"https":return new os(r);case"ws":case"wss":return new Pc(r);default:ng.throwArgumentError("unsupported URL scheme","network",r)}}const t=V0(r);return(!t||!t._defaultProvider)&&ng.throwError("unsupported getDefaultProvider network",W.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:r}),t._defaultProvider({FallbackProvider:Gp,AlchemyProvider:nf,AnkrProvider:Lp,CloudflareProvider:Fp,EtherscanProvider:Hp,InfuraProvider:of,JsonRpcProvider:os,NodesmithProvider:Yp,PocketProvider:eg,Web3Provider:ig,IpcProvider:Jp},e)}const W5=Object.freeze(Object.defineProperty({__proto__:null,AlchemyProvider:nf,AlchemyWebSocketProvider:$p,AnkrProvider:Lp,BaseProvider:Mc,CloudflareProvider:Fp,EtherscanProvider:Hp,FallbackProvider:Gp,Formatter:we,InfuraProvider:of,InfuraWebSocketProvider:Qp,IpcProvider:Jp,JsonRpcBatchProvider:q5,JsonRpcProvider:os,JsonRpcSigner:tf,NodesmithProvider:Yp,PocketProvider:eg,Provider:Xn,Resolver:Z0,StaticJsonRpcProvider:kp,UrlJsonRpcProvider:Vi,Web3Provider:ig,WebSocketProvider:Pc,getDefaultProvider:sg,getNetwork:V0,isCommunityResourcable:_p,isCommunityResource:J0,showThrottleMessage:Ho},Symbol.toStringTag,{value:"Module"})),K5="solidity/5.7.0",V5=new RegExp("^bytes([0-9]+)$"),G5=new RegExp("^(u?int)([0-9]*)$"),J5=new RegExp("^(.*)\\[([0-9]*)\\]$"),Q5="0000000000000000000000000000000000000000000000000000000000000000",Ys=new W(K5);function og(r,e,t){switch(r){case"address":return t?_o(e,32):te(e);case"string":return Nt(e);case"bytes":return te(e);case"bool":return e=e?"0x01":"0x00",t?_o(e,32):te(e)}let i=r.match(G5);if(i){let n=parseInt(i[2]||"256");return(i[2]&&String(n)!==i[2]||n%8!==0||n===0||n>256)&&Ys.throwArgumentError("invalid number type","type",r),t&&(n=256),e=re.from(e).toTwos(n),_o(e,n/8)}if(i=r.match(V5),i){const n=parseInt(i[1]);return(String(n)!==i[1]||n===0||n>32)&&Ys.throwArgumentError("invalid bytes type","type",r),te(e).byteLength!==n&&Ys.throwArgumentError(`invalid value for ${r}`,"value",e),t?te((e+Q5).substring(0,66)):e}if(i=r.match(J5),i&&Array.isArray(e)){const n=i[1];parseInt(i[2]||String(e.length))!=e.length&&Ys.throwArgumentError(`invalid array length for ${r}`,"value",e);const o=[];return e.forEach(function(c){o.push(og(n,c,!0))}),mt(o)}return Ys.throwArgumentError("invalid type","type",r)}function cf(r,e){r.length!=e.length&&Ys.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(i,n){t.push(og(i,e[n]))}),ie(mt(t))}function Y5(r,e){return dt(cf(r,e))}function Z5(r,e){return Hi(cf(r,e))}const X5="units/5.7.0",ag=new W(X5),cg=["wei","kwei","mwei","gwei","szabo","finney","ether"];function e6(r){const e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&ag.throwArgumentError("invalid value","value",r);let t=e[0],i="";for(t.substring(0,1)==="-"&&(i="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let n="";for(e.length===2&&(n="."+(e[1]||"0"));n.length>2&&n[n.length-1]==="0";)n=n.substring(0,n.length-1);const s=[];for(;t.length;)if(t.length<=3){s.unshift(t);break}else{const o=t.length-3;s.unshift(t.substring(o)),t=t.substring(0,o)}return i+s.join(",")+n}function lg(r,e){if(typeof e=="string"){const t=cg.indexOf(e);t!==-1&&(e=3*t)}return Qa(r,e??18)}function fg(r,e){if(typeof r!="string"&&ag.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=cg.indexOf(e);t!==-1&&(e=3*t)}return Ai(r,e??18)}function t6(r){return lg(r,18)}function r6(r){return fg(r,18)}const i6=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:Gd,ConstructorFragment:hi,ErrorFragment:ji,EventFragment:Ci,FormatTypes:ot,Fragment:Si,FunctionFragment:di,HDNode:qr,Indexed:cc,Interface:u0,LogDescription:d1,Logger:W,ParamType:Ft,RLP:dw,SigningKey:rs,get SupportedAlgorithm(){return qs},TransactionDescription:p1,get TransactionTypes(){return D0},get UnicodeNormalizationForm(){return Ii},Utf8ErrorFuncs:Kd,get Utf8ErrorReason(){return _r},_TypedDataEncoder:Xt,_fetchData:wp,_toEscapedUtf8String:Bw,accessListify:Mn,arrayify:te,base58:Fs,base64:ty,checkProperties:Vl,checkResultErrors:Md,commify:e6,computeAddress:Cn,computeHmac:Uo,computePublicKey:R0,concat:mt,deepCopy:br,defaultAbiCoder:Jd,defaultPath:Ws,defineReadOnly:Q,dnsEncode:o1,entropyToMnemonic:Ec,fetchJson:Gs,formatBytes32String:$w,formatEther:t6,formatUnits:lg,getAccountPath:L3,getAddress:ht,getContractAddress:rc,getCreate2Address:vw,getIcapAddress:xw,getJsonWalletAddress:K3,getStatic:Zt,hashMessage:c0,hexConcat:gr,hexDataLength:_i,hexDataSlice:Dt,hexStripZeros:dd,hexValue:Ao,hexZeroPad:bt,hexlify:ie,id:En,isAddress:bw,isBytes:wn,isBytesLike:Eo,isHexString:Ke,isValidMnemonic:$3,isValidName:Sy,joinSignature:Hl,keccak256:dt,mnemonicToEntropy:yc,mnemonicToSeed:ip,namehash:Oo,nameprep:Yw,parseBytes32String:Lw,parseEther:r6,parseTransaction:z1,parseUnits:fg,poll:ss,randomBytes:Ks,recoverAddress:Bo,recoverPublicKey:L1,resolveProperties:It,ripemd160:Z1,serializeTransaction:T0,sha256:Hi,sha512:I3,shallowCopy:vt,shuffled:sp,solidityKeccak256:Y5,solidityPack:cf,soliditySha256:Z5,splitSignature:Gn,stripZeros:Ei,toUtf8Bytes:Nt,toUtf8CodePoints:ic,toUtf8String:Zn,verifyMessage:a5,verifyTypedData:c5,zeroPad:_o},Symbol.toStringTag,{value:"Module"})),ug="ethers/5.7.2",n6=new W(ug),hg=Object.freeze(Object.defineProperty({__proto__:null,BaseContract:Q1,BigNumber:re,Contract:k0,ContractFactory:S3,FixedNumber:zt,Signer:_n,VoidSigner:lc,Wallet:ns,Wordlist:js,constants:Dw,get errors(){return Gr},getDefaultProvider:sg,logger:n6,providers:W5,utils:i6,version:ug,wordlists:$0},Symbol.toStringTag,{value:"Module"}));try{const r=window;r._ethers==null&&(r._ethers=hg)}catch{}const bN="modulepreload",xN=function(r,e){return new URL(r,e).href},vN={},s6=function(e,t,i){let n=Promise.resolve();function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return n.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},o6=Symbol(),dg=Object.getPrototypeOf,lf=new WeakMap,a6=r=>r&&(lf.has(r)?lf.get(r):dg(r)===Object.prototype||dg(r)===Array.prototype),c6=r=>a6(r)&&r[o6]||null,pg=(r,e=!0)=>{lf.set(r,e)},$c={},ff=r=>typeof r=="object"&&r!==null,Dn=new WeakMap,Lc=new WeakSet,l6=(r=Object.is,e=(h,p)=>new Proxy(h,p),t=h=>ff(h)&&!Lc.has(h)&&(Array.isArray(h)||!(Symbol.iterator in h))&&!(h instanceof WeakMap)&&!(h instanceof WeakSet)&&!(h instanceof Error)&&!(h instanceof Number)&&!(h instanceof Date)&&!(h instanceof String)&&!(h instanceof RegExp)&&!(h instanceof ArrayBuffer),i=h=>{switch(h.status){case"fulfilled":return h.value;case"rejected":throw h.reason;default:throw h}},n=new WeakMap,s=(h,p,v=i)=>{const _=n.get(h);if(_?.[0]===p)return _[1];const A=Array.isArray(h)?[]:Object.create(Object.getPrototypeOf(h));return pg(A,!0),n.set(h,[p,A]),Reflect.ownKeys(h).forEach(P=>{if(Object.getOwnPropertyDescriptor(A,P))return;const S=Reflect.get(h,P),R={value:S,enumerable:!0,configurable:!0};if(Lc.has(S))pg(S,!1);else if(S instanceof Promise)delete R.value,R.get=()=>v(S);else if(Dn.has(S)){const[B,T]=Dn.get(S);R.value=s(B,T(),v)}Object.defineProperty(A,P,R)}),Object.preventExtensions(A)},o=new WeakMap,c=[1,1],l=h=>{if(!ff(h))throw new Error("object required");const p=o.get(h);if(p)return p;let v=c[0];const _=new Set,A=(U,j=++c[0])=>{v!==j&&(v=j,_.forEach(q=>q(U,j)))};let P=c[1];const S=(U=++c[1])=>(P!==U&&!_.size&&(P=U,B.forEach(([j])=>{const q=j[1](U);q>v&&(v=q)})),v),R=U=>(j,q)=>{const F=[...j];F[1]=[U,...F[1]],A(F,q)},B=new Map,T=(U,j)=>{if(($c?"production":void 0)!=="production"&&B.has(U))throw new Error("prop listener already exists");if(_.size){const q=j[3](R(U));B.set(U,[j,q])}else B.set(U,[j])},k=U=>{var j;const q=B.get(U);q&&(B.delete(U),(j=q[1])==null||j.call(q))},I=U=>(_.add(U),_.size===1&&B.forEach(([q,F],w)=>{if(($c?"production":void 0)!=="production"&&F)throw new Error("remove already exists");const a=q[3](R(w));B.set(w,[q,a])}),()=>{_.delete(U),_.size===0&&B.forEach(([q,F],w)=>{F&&(F(),B.set(w,[q]))})}),N=Array.isArray(h)?[]:Object.create(Object.getPrototypeOf(h)),b=e(N,{deleteProperty(U,j){const q=Reflect.get(U,j);k(j);const F=Reflect.deleteProperty(U,j);return F&&A(["delete",[j],q]),F},set(U,j,q,F){const w=Reflect.has(U,j),a=Reflect.get(U,j,F);if(w&&(r(a,q)||o.has(q)&&r(a,o.get(q))))return!0;k(j),ff(q)&&(q=c6(q)||q);let u=q;if(q instanceof Promise)q.then(d=>{q.status="fulfilled",q.value=d,A(["resolve",[j],d])}).catch(d=>{q.status="rejected",q.reason=d,A(["reject",[j],d])});else{!Dn.has(q)&&t(q)&&(u=l(q));const d=!Lc.has(u)&&Dn.get(u);d&&T(j,d)}return Reflect.set(U,j,u,F),A(["set",[j],q,a]),!0}});o.set(h,b);const D=[N,S,s,I];return Dn.set(b,D),Reflect.ownKeys(h).forEach(U=>{const j=Object.getOwnPropertyDescriptor(h,U);"value"in j&&(b[U]=h[U],delete j.value,delete j.writable),Object.defineProperty(N,U,j)}),b})=>[l,Dn,Lc,r,e,t,i,n,s,o,c],[f6]=l6();function Nn(r={}){return f6(r)}function cs(r,e,t){const i=Dn.get(r);($c?"production":void 0)!=="production"&&!i&&console.warn("Please use proxy object");let n;const s=[],o=i[3];let c=!1;const h=o(p=>{s.push(p),n||(n=Promise.resolve().then(()=>{n=void 0,c&&e(s.splice(0))}))});return c=!0,()=>{c=!1,h()}}function u6(r,e){const t=Dn.get(r);($c?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[i,n,s]=t;return s(i,n(),e)}const Wt=Nn({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),St={state:Wt,subscribe(r){return cs(Wt,()=>r(Wt))},push(r,e){r!==Wt.view&&(Wt.view=r,e&&(Wt.data=e),Wt.history.push(r))},reset(r){Wt.view=r,Wt.history=[r]},replace(r){Wt.history.length>1&&(Wt.history[Wt.history.length-1]=r,Wt.view=r)},goBack(){if(Wt.history.length>1){Wt.history.pop();const[r]=Wt.history.slice(-1);Wt.view=r}},setData(r){Wt.data=r}},xe={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return xe.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const r=navigator.userAgent.toLowerCase();return xe.isMobile()&&(r.includes("iphone")||r.includes("ipad"))},isHttpUrl(r){return r.startsWith("http://")||r.startsWith("https://")},isArray(r){return Array.isArray(r)&&r.length>0},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},formatNativeUrl(r,e,t){if(xe.isHttpUrl(r))return this.formatUniversalUrl(r,e,t);let i=r;i.includes("://")||(i=r.replaceAll("/","").replaceAll(":",""),i=`${i}://`),i.endsWith("/")||(i=`${i}/`),this.setWalletConnectDeepLink(i,t);const n=encodeURIComponent(e);return`${i}wc?uri=${n}`},formatUniversalUrl(r,e,t){if(!xe.isHttpUrl(r))return this.formatNativeUrl(r,e,t);let i=r;if(i.startsWith("https://t.me")){const s=Buffer.from(e).toString("base64").replace(/[=]/g,"");i.endsWith("/")&&(i=i.slice(0,-1)),this.setWalletConnectDeepLink(i,t);const o=new URL(i);return o.searchParams.set("startapp",s),o.toString()}i.endsWith("/")||(i=`${i}/`),this.setWalletConnectDeepLink(i,t);const n=encodeURIComponent(e);return`${i}wc?uri=${n}`},async wait(r){return new Promise(e=>{setTimeout(e,r)})},openHref(r,e){const t=this.isTelegram()?"_blank":e;window.open(r,t,"noreferrer noopener")},setWalletConnectDeepLink(r,e){try{localStorage.setItem(xe.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:r,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(r){try{const[e]=r.split("?");localStorage.setItem(xe.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(xe.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(xe.WCM_VERSION,"2.7.0")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var r;const e=(r=St.state.data)==null?void 0:r.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},h6=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),lr=Nn({enabled:h6,userSessionId:"",events:[],connectedWalletId:void 0}),gg={state:lr,subscribe(r){return cs(lr.events,()=>r(u6(lr.events[lr.events.length-1])))},initialize(){lr.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(lr.userSessionId=crypto.randomUUID())},setConnectedWalletId(r){lr.connectedWalletId=r},click(r){if(lr.enabled){const e={type:"CLICK",name:r.name,userSessionId:lr.userSessionId,timestamp:Date.now(),data:r};lr.events.push(e)}},track(r){if(lr.enabled){const e={type:"TRACK",name:r.name,userSessionId:lr.userSessionId,timestamp:Date.now(),data:r};lr.events.push(e)}},view(r){if(lr.enabled){const e={type:"VIEW",name:r.name,userSessionId:lr.userSessionId,timestamp:Date.now(),data:r};lr.events.push(e)}}},Oi=Nn({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),Tt={state:Oi,subscribe(r){return cs(Oi,()=>r(Oi))},setChains(r){Oi.chains=r},setWalletConnectUri(r){Oi.walletConnectUri=r},setIsCustomDesktop(r){Oi.isCustomDesktop=r},setIsCustomMobile(r){Oi.isCustomMobile=r},setIsDataLoaded(r){Oi.isDataLoaded=r},setIsUiLoaded(r){Oi.isUiLoaded=r},setIsAuth(r){Oi.isAuth=r}},Uc=Nn({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),jr={state:Uc,subscribe(r){return cs(Uc,()=>r(Uc))},setConfig(r){var e,t;gg.initialize(),Tt.setChains(r.chains),Tt.setIsAuth(!!r.enableAuthMode),Tt.setIsCustomMobile(!!((e=r.mobileWallets)!=null&&e.length)),Tt.setIsCustomDesktop(!!((t=r.desktopWallets)!=null&&t.length)),xe.setModalVersionInStorage(),Object.assign(Uc,r)}};var d6=Object.defineProperty,mg=Object.getOwnPropertySymbols,p6=Object.prototype.hasOwnProperty,g6=Object.prototype.propertyIsEnumerable,bg=(r,e,t)=>e in r?d6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,m6=(r,e)=>{for(var t in e||(e={}))p6.call(e,t)&&bg(r,t,e[t]);if(mg)for(var t of mg(e))g6.call(e,t)&&bg(r,t,e[t]);return r};const uf="https://explorer-api.walletconnect.com",hf="wcm",df="js-2.7.0";async function Fc(r,e){const t=m6({sdkType:hf,sdkVersion:df},e),i=new URL(r,uf);return i.searchParams.append("projectId",jr.state.projectId),Object.entries(t).forEach(([s,o])=>{o&&i.searchParams.append(s,String(o))}),(await fetch(i)).json()}const ls={async getDesktopListings(r){return Fc("/w3m/v1/getDesktopListings",r)},async getMobileListings(r){return Fc("/w3m/v1/getMobileListings",r)},async getInjectedListings(r){return Fc("/w3m/v1/getInjectedListings",r)},async getAllListings(r){return Fc("/w3m/v1/getAllListings",r)},getWalletImageUrl(r){return`${uf}/w3m/v1/getWalletImage/${r}?projectId=${jr.state.projectId}&sdkType=${hf}&sdkVersion=${df}`},getAssetImageUrl(r){return`${uf}/w3m/v1/getAssetImage/${r}?projectId=${jr.state.projectId}&sdkType=${hf}&sdkVersion=${df}`}};var b6=Object.defineProperty,xg=Object.getOwnPropertySymbols,x6=Object.prototype.hasOwnProperty,v6=Object.prototype.propertyIsEnumerable,vg=(r,e,t)=>e in r?b6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w6=(r,e)=>{for(var t in e||(e={}))x6.call(e,t)&&vg(r,t,e[t]);if(xg)for(var t of xg(e))v6.call(e,t)&&vg(r,t,e[t]);return r};const wg=xe.isMobile(),Ti=Nn({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),Sr={state:Ti,async getRecomendedWallets(){const{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:e}=jr.state;if(r==="NONE"||e==="ALL"&&!r)return Ti.recomendedWallets;if(xe.isArray(r)){const i={recommendedIds:r.join(",")},{listings:n}=await ls.getAllListings(i),s=Object.values(n);s.sort((o,c)=>{const l=r.indexOf(o.id),h=r.indexOf(c.id);return l-h}),Ti.recomendedWallets=s}else{const{chains:t,isAuth:i}=Tt.state,n=t?.join(","),s=xe.isArray(e),o={page:1,sdks:i?"auth_v1":void 0,entries:xe.RECOMMENDED_WALLET_AMOUNT,chains:n,version:2,excludedIds:s?e.join(","):void 0},{listings:c}=wg?await ls.getMobileListings(o):await ls.getDesktopListings(o);Ti.recomendedWallets=Object.values(c)}return Ti.recomendedWallets},async getWallets(r){const e=w6({},r),{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:i}=jr.state,{recomendedWallets:n}=Ti;if(i==="ALL")return Ti.wallets;n.length?e.excludedIds=n.map(v=>v.id).join(","):xe.isArray(t)&&(e.excludedIds=t.join(",")),xe.isArray(i)&&(e.excludedIds=[e.excludedIds,i].filter(Boolean).join(",")),Tt.state.isAuth&&(e.sdks="auth_v1");const{page:s,search:o}=r,{listings:c,total:l}=wg?await ls.getMobileListings(e):await ls.getDesktopListings(e),h=Object.values(c),p=o?"search":"wallets";return Ti[p]={listings:[...Ti[p].listings,...h],total:l,page:s??1},{listings:h,total:l}},getWalletImageUrl(r){return ls.getWalletImageUrl(r)},getAssetImageUrl(r){return ls.getAssetImageUrl(r)},resetSearch(){Ti.search={listings:[],total:0,page:1}}},Zs=Nn({open:!1}),fs={state:Zs,subscribe(r){return cs(Zs,()=>r(Zs))},async open(r){return new Promise(e=>{const{isUiLoaded:t,isDataLoaded:i}=Tt.state;if(xe.removeWalletConnectDeepLink(),Tt.setWalletConnectUri(r?.uri),Tt.setChains(r?.chains),St.reset("ConnectWallet"),t&&i)Zs.open=!0,e();else{const n=setInterval(()=>{const s=Tt.state;s.isUiLoaded&&s.isDataLoaded&&(clearInterval(n),Zs.open=!0,e())},200)}})},close(){Zs.open=!1}};var y6=Object.defineProperty,yg=Object.getOwnPropertySymbols,E6=Object.prototype.hasOwnProperty,_6=Object.prototype.propertyIsEnumerable,Eg=(r,e,t)=>e in r?y6(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,A6=(r,e)=>{for(var t in e||(e={}))E6.call(e,t)&&Eg(r,t,e[t]);if(yg)for(var t of yg(e))_6.call(e,t)&&Eg(r,t,e[t]);return r};function S6(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const Xo=Nn({themeMode:S6()?"dark":"light"}),On={state:Xo,subscribe(r){return cs(Xo,()=>r(Xo))},setThemeConfig(r){const{themeMode:e,themeVariables:t}=r;e&&(Xo.themeMode=e),t&&(Xo.themeVariables=A6({},t))}},us=Nn({open:!1,message:"",variant:"success"}),Tn={state:us,subscribe(r){return cs(us,()=>r(us))},openToast(r,e){us.open=!0,us.message=r,us.variant=e},closeToast(){us.open=!1}};class C6{constructor(e){this.openModal=fs.open,this.closeModal=fs.close,this.subscribeModal=fs.subscribe,this.setTheme=On.setThemeConfig,On.setThemeConfig(e),jr.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await s6(()=>Promise.resolve().then(()=>KD),void 0,Ll&&Ll.tagName.toUpperCase()==="SCRIPT"&&Ll.src||new URL("bundle.js",document.baseURI).href);const e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),Tt.setIsUiLoaded(!0)}}}var qc={exports:{}},_g;function Ag(){if(_g)return qc.exports;_g=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(N,C,b){return Function.prototype.apply.call(N,C,b)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:t=function(N){return Object.getOwnPropertyNames(N)};function i(I){console&&console.warn&&console.warn(I)}var n=Number.isNaN||function(N){return N!==N};function s(){s.init.call(this)}qc.exports=s,qc.exports.once=B,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function c(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(I){if(typeof I!="number"||I<0||n(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");o=I}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||n(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function l(I){return I._maxListeners===void 0?s.defaultMaxListeners:I._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(N){for(var C=[],b=1;b<arguments.length;b++)C.push(arguments[b]);var D=N==="error",U=this._events;if(U!==void 0)D=D&&U.error===void 0;else if(!D)return!1;if(D){var j;if(C.length>0&&(j=C[0]),j instanceof Error)throw j;var q=new Error("Unhandled error."+(j?" ("+j.message+")":""));throw q.context=j,q}var F=U[N];if(F===void 0)return!1;if(typeof F=="function")e(F,this,C);else for(var w=F.length,a=P(F,w),b=0;b<w;++b)e(a[b],this,C);return!0};function h(I,N,C,b){var D,U,j;if(c(C),U=I._events,U===void 0?(U=I._events=Object.create(null),I._eventsCount=0):(U.newListener!==void 0&&(I.emit("newListener",N,C.listener?C.listener:C),U=I._events),j=U[N]),j===void 0)j=U[N]=C,++I._eventsCount;else if(typeof j=="function"?j=U[N]=b?[C,j]:[j,C]:b?j.unshift(C):j.push(C),D=l(I),D>0&&j.length>D&&!j.warned){j.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+j.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=I,q.type=N,q.count=j.length,i(q)}return I}s.prototype.addListener=function(N,C){return h(this,N,C,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(N,C){return h(this,N,C,!0)};function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(I,N,C){var b={fired:!1,wrapFn:void 0,target:I,type:N,listener:C},D=p.bind(b);return D.listener=C,b.wrapFn=D,D}s.prototype.once=function(N,C){return c(C),this.on(N,v(this,N,C)),this},s.prototype.prependOnceListener=function(N,C){return c(C),this.prependListener(N,v(this,N,C)),this},s.prototype.removeListener=function(N,C){var b,D,U,j,q;if(c(C),D=this._events,D===void 0)return this;if(b=D[N],b===void 0)return this;if(b===C||b.listener===C)--this._eventsCount===0?this._events=Object.create(null):(delete D[N],D.removeListener&&this.emit("removeListener",N,b.listener||C));else if(typeof b!="function"){for(U=-1,j=b.length-1;j>=0;j--)if(b[j]===C||b[j].listener===C){q=b[j].listener,U=j;break}if(U<0)return this;U===0?b.shift():S(b,U),b.length===1&&(D[N]=b[0]),D.removeListener!==void 0&&this.emit("removeListener",N,q||C)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(N){var C,b,D;if(b=this._events,b===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete b[N]),this;if(arguments.length===0){var U=Object.keys(b),j;for(D=0;D<U.length;++D)j=U[D],j!=="removeListener"&&this.removeAllListeners(j);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(C=b[N],typeof C=="function")this.removeListener(N,C);else if(C!==void 0)for(D=C.length-1;D>=0;D--)this.removeListener(N,C[D]);return this};function _(I,N,C){var b=I._events;if(b===void 0)return[];var D=b[N];return D===void 0?[]:typeof D=="function"?C?[D.listener||D]:[D]:C?R(D):P(D,D.length)}s.prototype.listeners=function(N){return _(this,N,!0)},s.prototype.rawListeners=function(N){return _(this,N,!1)},s.listenerCount=function(I,N){return typeof I.listenerCount=="function"?I.listenerCount(N):A.call(I,N)},s.prototype.listenerCount=A;function A(I){var N=this._events;if(N!==void 0){var C=N[I];if(typeof C=="function")return 1;if(C!==void 0)return C.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function P(I,N){for(var C=new Array(N),b=0;b<N;++b)C[b]=I[b];return C}function S(I,N){for(;N+1<I.length;N++)I[N]=I[N+1];I.pop()}function R(I){for(var N=new Array(I.length),C=0;C<N.length;++C)N[C]=I[C].listener||I[C];return N}function B(I,N){return new Promise(function(C,b){function D(j){I.removeListener(N,U),b(j)}function U(){typeof I.removeListener=="function"&&I.removeListener("error",D),C([].slice.call(arguments))}k(I,N,U,{once:!0}),N!=="error"&&T(I,D,{once:!0})})}function T(I,N,C){typeof I.on=="function"&&k(I,"error",N,C)}function k(I,N,C,b){if(typeof I.on=="function")b.once?I.once(N,C):I.on(N,C);else if(typeof I.addEventListener=="function")I.addEventListener(N,function D(U){b.once&&I.removeEventListener(N,D),C(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}return qc.exports}var ki=Ag();const Sg=ui(ki),M6=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,I6=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,P6=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function R6(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){D6(r);return}return e}function D6(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function jc(r,e={}){if(typeof r!="string")return r;if(r[0]==='"'&&r[r.length-1]==='"'&&r.indexOf("\\")===-1)return r.slice(1,-1);const t=r.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!P6.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(M6.test(r)||I6.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,R6)}return JSON.parse(r)}catch(i){if(e.strict)throw i;return r}}function N6(r){return!r||typeof r.then!="function"?Promise.resolve(r):r}function Kt(r,...e){try{return N6(r(...e))}catch(t){return Promise.reject(t)}}function O6(r){const e=typeof r;return r===null||e!=="object"&&e!=="function"}function T6(r){const e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}function zc(r){if(O6(r))return String(r);if(T6(r)||Array.isArray(r))return JSON.stringify(r);if(typeof r.toJSON=="function")return zc(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const pf="base64:";function k6(r){return typeof r=="string"?r:pf+L6(r)}function B6(r){return typeof r!="string"||!r.startsWith(pf)?r:$6(r.slice(pf.length))}function $6(r){return globalThis.Buffer?Buffer.from(r,"base64"):Uint8Array.from(globalThis.atob(r),e=>e.codePointAt(0))}function L6(r){return globalThis.Buffer?Buffer.from(r).toString("base64"):globalThis.btoa(String.fromCodePoint(...r))}function Cr(r){return r&&r.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function U6(...r){return Cr(r.join(":"))}function Hc(r){return r=Cr(r),r?r+":":""}function F6(r,e){if(e===void 0)return!0;let t=0,i=r.indexOf(":");for(;i>-1;)t++,i=r.indexOf(":",i+1);return t<=e}function q6(r,e){return e?r.startsWith(e)&&r[r.length-1]!=="$":r[r.length-1]!=="$"}function wN(r){return r}const j6="memory",z6=()=>{const r=new Map;return{name:j6,getInstance:()=>r,hasItem(e){return r.has(e)},getItem(e){return r.get(e)??null},getItemRaw(e){return r.get(e)??null},setItem(e,t){r.set(e,t)},setItemRaw(e,t){r.set(e,t)},removeItem(e){r.delete(e)},getKeys(){return[...r.keys()]},clear(){r.clear()},dispose(){r.clear()}}};function H6(r={}){const e={mounts:{"":r.driver||z6()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=h=>{for(const p of e.mountpoints)if(h.startsWith(p))return{base:p,relativeKey:h.slice(p.length),driver:e.mounts[p]};return{base:"",relativeKey:h,driver:e.mounts[""]}},i=(h,p)=>e.mountpoints.filter(v=>v.startsWith(h)||p&&h.startsWith(v)).map(v=>({relativeBase:h.length>v.length?h.slice(v.length):void 0,mountpoint:v,driver:e.mounts[v]})),n=(h,p)=>{if(e.watching){p=Cr(p);for(const v of e.watchListeners)v(h,p)}},s=async()=>{if(!e.watching){e.watching=!0;for(const h in e.mounts)e.unwatch[h]=await Cg(e.mounts[h],n,h)}},o=async()=>{if(e.watching){for(const h in e.unwatch)await e.unwatch[h]();e.unwatch={},e.watching=!1}},c=(h,p,v)=>{const _=new Map,A=P=>{let S=_.get(P.base);return S||(S={driver:P.driver,base:P.base,items:[]},_.set(P.base,S)),S};for(const P of h){const S=typeof P=="string",R=Cr(S?P:P.key),B=S?void 0:P.value,T=S||!P.options?p:{...p,...P.options},k=t(R);A(k).items.push({key:R,value:B,relativeKey:k.relativeKey,options:T})}return Promise.all([..._.values()].map(P=>v(P))).then(P=>P.flat())},l={hasItem(h,p={}){h=Cr(h);const{relativeKey:v,driver:_}=t(h);return Kt(_.hasItem,v,p)},getItem(h,p={}){h=Cr(h);const{relativeKey:v,driver:_}=t(h);return Kt(_.getItem,v,p).then(A=>jc(A))},getItems(h,p={}){return c(h,p,v=>v.driver.getItems?Kt(v.driver.getItems,v.items.map(_=>({key:_.relativeKey,options:_.options})),p).then(_=>_.map(A=>({key:U6(v.base,A.key),value:jc(A.value)}))):Promise.all(v.items.map(_=>Kt(v.driver.getItem,_.relativeKey,_.options).then(A=>({key:_.key,value:jc(A)})))))},getItemRaw(h,p={}){h=Cr(h);const{relativeKey:v,driver:_}=t(h);return _.getItemRaw?Kt(_.getItemRaw,v,p):Kt(_.getItem,v,p).then(A=>B6(A))},async setItem(h,p,v={}){if(p===void 0)return l.removeItem(h);h=Cr(h);const{relativeKey:_,driver:A}=t(h);A.setItem&&(await Kt(A.setItem,_,zc(p),v),A.watch||n("update",h))},async setItems(h,p){await c(h,p,async v=>{if(v.driver.setItems)return Kt(v.driver.setItems,v.items.map(_=>({key:_.relativeKey,value:zc(_.value),options:_.options})),p);v.driver.setItem&&await Promise.all(v.items.map(_=>Kt(v.driver.setItem,_.relativeKey,zc(_.value),_.options)))})},async setItemRaw(h,p,v={}){if(p===void 0)return l.removeItem(h,v);h=Cr(h);const{relativeKey:_,driver:A}=t(h);if(A.setItemRaw)await Kt(A.setItemRaw,_,p,v);else if(A.setItem)await Kt(A.setItem,_,k6(p),v);else return;A.watch||n("update",h)},async removeItem(h,p={}){typeof p=="boolean"&&(p={removeMeta:p}),h=Cr(h);const{relativeKey:v,driver:_}=t(h);_.removeItem&&(await Kt(_.removeItem,v,p),(p.removeMeta||p.removeMata)&&await Kt(_.removeItem,v+"$",p),_.watch||n("remove",h))},async getMeta(h,p={}){typeof p=="boolean"&&(p={nativeOnly:p}),h=Cr(h);const{relativeKey:v,driver:_}=t(h),A=Object.create(null);if(_.getMeta&&Object.assign(A,await Kt(_.getMeta,v,p)),!p.nativeOnly){const P=await Kt(_.getItem,v+"$",p).then(S=>jc(S));P&&typeof P=="object"&&(typeof P.atime=="string"&&(P.atime=new Date(P.atime)),typeof P.mtime=="string"&&(P.mtime=new Date(P.mtime)),Object.assign(A,P))}return A},setMeta(h,p,v={}){return this.setItem(h+"$",p,v)},removeMeta(h,p={}){return this.removeItem(h+"$",p)},async getKeys(h,p={}){h=Hc(h);const v=i(h,!0);let _=[];const A=[];let P=!0;for(const R of v){R.driver.flags?.maxDepth||(P=!1);const B=await Kt(R.driver.getKeys,R.relativeBase,p);for(const T of B){const k=R.mountpoint+Cr(T);_.some(I=>k.startsWith(I))||A.push(k)}_=[R.mountpoint,..._.filter(T=>!T.startsWith(R.mountpoint))]}const S=p.maxDepth!==void 0&&!P;return A.filter(R=>(!S||F6(R,p.maxDepth))&&q6(R,h))},async clear(h,p={}){h=Hc(h),await Promise.all(i(h,!1).map(async v=>{if(v.driver.clear)return Kt(v.driver.clear,v.relativeBase,p);if(v.driver.removeItem){const _=await v.driver.getKeys(v.relativeBase||"",p);return Promise.all(_.map(A=>v.driver.removeItem(A,p)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(h=>Mg(h)))},async watch(h){return await s(),e.watchListeners.push(h),async()=>{e.watchListeners=e.watchListeners.filter(p=>p!==h),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(h,p){if(h=Hc(h),h&&e.mounts[h])throw new Error(`already mounted at ${h}`);return h&&(e.mountpoints.push(h),e.mountpoints.sort((v,_)=>_.length-v.length)),e.mounts[h]=p,e.watching&&Promise.resolve(Cg(p,n,h)).then(v=>{e.unwatch[h]=v}).catch(console.error),l},async unmount(h,p=!0){h=Hc(h),!(!h||!e.mounts[h])&&(e.watching&&h in e.unwatch&&(e.unwatch[h]?.(),delete e.unwatch[h]),p&&await Mg(e.mounts[h]),e.mountpoints=e.mountpoints.filter(v=>v!==h),delete e.mounts[h])},getMount(h=""){h=Cr(h)+":";const p=t(h);return{driver:p.driver,base:p.base}},getMounts(h="",p={}){return h=Cr(h),i(h,p.parents).map(_=>({driver:_.driver,base:_.mountpoint}))},keys:(h,p={})=>l.getKeys(h,p),get:(h,p={})=>l.getItem(h,p),set:(h,p,v={})=>l.setItem(h,p,v),has:(h,p={})=>l.hasItem(h,p),del:(h,p={})=>l.removeItem(h,p),remove:(h,p={})=>l.removeItem(h,p)};return l}function Cg(r,e,t){return r.watch?r.watch((i,n)=>e(i,t+n)):()=>{}}async function Mg(r){typeof r.dispose=="function"&&await Kt(r.dispose)}function hs(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function Ig(r,e){let t;const i=()=>{if(t)return t;const n=indexedDB.open(r);return n.onupgradeneeded=()=>n.result.createObjectStore(e),t=hs(n),t.then(s=>{s.onclose=()=>t=void 0},()=>{}),t};return(n,s)=>i().then(o=>s(o.transaction(e,n).objectStore(e)))}let gf;function ea(){return gf||(gf=Ig("keyval-store","keyval")),gf}function Pg(r,e=ea()){return e("readonly",t=>hs(t.get(r)))}function W6(r,e,t=ea()){return t("readwrite",i=>(i.put(e,r),hs(i.transaction)))}function K6(r,e=ea()){return e("readwrite",t=>(t.delete(r),hs(t.transaction)))}function V6(r=ea()){return r("readwrite",e=>(e.clear(),hs(e.transaction)))}function G6(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},hs(r.transaction)}function J6(r=ea()){return r("readonly",e=>{if(e.getAllKeys)return hs(e.getAllKeys());const t=[];return G6(e,i=>t.push(i.key)).then(()=>t)})}const Q6=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),Y6=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(i,n)=>typeof n=="string"&&n.match(/^\d+n$/)?BigInt(n.substring(0,n.length-1)):n)};function mf(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return Y6(r)}catch{return r}}function bf(r){return typeof r=="string"?r:Q6(r)||""}const Z6="idb-keyval";var X6=(r={})=>{const e=r.base&&r.base.length>0?`${r.base}:`:"",t=n=>e+n;let i;return r.dbName&&r.storeName&&(i=Ig(r.dbName,r.storeName)),{name:Z6,options:r,async hasItem(n){return!(typeof await Pg(t(n),i)>"u")},async getItem(n){return await Pg(t(n),i)??null},setItem(n,s){return W6(t(n),s,i)},removeItem(n){return K6(t(n),i)},getKeys(){return J6(i)},clear(){return V6(i)}}};const e4="WALLET_CONNECT_V2_INDEXED_DB",t4="keyvaluestorage";let r4=class{constructor(){this.indexedDb=H6({driver:X6({dbName:e4,storeName:t4})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,bf(t))}async removeItem(e){await this.indexedDb.removeItem(e)}};var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wc={exports:{}};(function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,i){this[t]=String(i)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(i){t[i]=void 0,delete t[i]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof xf<"u"&&xf.localStorage?Wc.exports=xf.localStorage:typeof window<"u"&&window.localStorage?Wc.exports=window.localStorage:Wc.exports=new e})();function i4(r){var e;return[r[0],mf((e=r[1])!=null?e:"")]}let n4=class{constructor(){this.localStorage=Wc.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(i4)}async getItem(e){const t=this.localStorage.getItem(e);if(t!==null)return mf(t)}async setItem(e,t){this.localStorage.setItem(e,bf(t))}async removeItem(e){this.localStorage.removeItem(e)}};const s4="wc_storage_version",Rg=1,o4=async(r,e,t)=>{const i=s4,n=await e.getItem(i);if(n&&n>=Rg){t(e);return}const s=await r.getKeys();if(!s.length){t(e);return}const o=[];for(;s.length;){const c=s.shift();if(!c)continue;const l=c.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const h=await r.getItem(c);await e.setItem(c,h),o.push(c)}}await e.setItem(i,Rg),t(e),a4(r,o)},a4=async(r,e)=>{e.length&&e.forEach(async t=>{await r.removeItem(t)})};let c4=class{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new n4;this.storage=e;try{const t=new r4;o4(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}};var vf={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var wf=function(r,e){return wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},wf(r,e)};function l4(r,e){wf(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var yf=function(){return yf=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},yf.apply(this,arguments)};function f4(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function u4(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}function h4(r,e){return function(t,i){e(t,i,r)}}function d4(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function p4(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function c(p){try{h(i.next(p))}catch(v){o(v)}}function l(p){try{h(i.throw(p))}catch(v){o(v)}}function h(p){p.done?s(p.value):n(p.value).then(c,l)}h((i=i.apply(r,e||[])).next())})}function g4(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(h){return function(p){return l([h,p])}}function l(h){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(s=h[0]&2?n.return:h[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,h[1])).done)return s;switch(n=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,n=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){t.label=h[1];break}if(h[0]===6&&t.label<s[1]){t.label=s[1],s=h;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(h);break}s[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(p){h=[6,p],n=0}finally{i=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function m4(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}function b4(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function Ef(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Dg(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(c){o={error:c}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s}function x4(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Dg(arguments[e]));return r}function v4(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var s=arguments[e],o=0,c=s.length;o<c;o++,n++)i[n]=s[o];return i}function ta(r){return this instanceof ta?(this.v=r,this):new ta(r)}function w4(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),n,s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(_){i[_]&&(n[_]=function(A){return new Promise(function(P,S){s.push([_,A,P,S])>1||c(_,A)})})}function c(_,A){try{l(i[_](A))}catch(P){v(s[0][3],P)}}function l(_){_.value instanceof ta?Promise.resolve(_.value.v).then(h,p):v(s[0][2],_)}function h(_){c("next",_)}function p(_){c("throw",_)}function v(_,A){_(A),s.shift(),s.length&&c(s[0][0],s[0][1])}}function y4(r){var e,t;return e={},i("next"),i("throw",function(n){throw n}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(n,s){e[n]=r[n]?function(o){return(t=!t)?{value:ta(r[n](o)),done:n==="return"}:s?s(o):o}:s}}function E4(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Ef=="function"?Ef(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=r[s]&&function(o){return new Promise(function(c,l){o=r[s](o),n(c,l,o.done,o.value)})}}function n(s,o,c,l){Promise.resolve(l).then(function(h){s({value:h,done:c})},o)}}function _4(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function A4(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function S4(r){return r&&r.__esModule?r:{default:r}}function C4(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function M4(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const Gi=Ul(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return yf},__asyncDelegator:y4,__asyncGenerator:w4,__asyncValues:E4,__await:ta,__awaiter:p4,__classPrivateFieldGet:C4,__classPrivateFieldSet:M4,__createBinding:m4,__decorate:u4,__exportStar:b4,__extends:l4,__generator:g4,__importDefault:S4,__importStar:A4,__makeTemplateObject:_4,__metadata:d4,__param:h4,__read:Dg,__rest:f4,__spread:x4,__spreadArrays:v4,__values:Ef},Symbol.toStringTag,{value:"Module"})));var ra={},_f={},Af={},ia={},Ng;function I4(){if(Ng)return ia;Ng=1,Object.defineProperty(ia,"__esModule",{value:!0}),ia.delay=void 0;function r(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return ia.delay=r,ia}var ds={},Sf={},ps={},Og;function P4(){return Og||(Og=1,Object.defineProperty(ps,"__esModule",{value:!0}),ps.ONE_THOUSAND=ps.ONE_HUNDRED=void 0,ps.ONE_HUNDRED=100,ps.ONE_THOUSAND=1e3),ps}var Cf={},Tg;function R4(){return Tg||(Tg=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365})(Cf)),Cf}var kg;function Bg(){return kg||(kg=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Gi;e.__exportStar(P4(),r),e.__exportStar(R4(),r)})(Sf)),Sf}var $g;function D4(){if($g)return ds;$g=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.fromMiliseconds=ds.toMiliseconds=void 0;const r=Bg();function e(i){return i*r.ONE_THOUSAND}ds.toMiliseconds=e;function t(i){return Math.floor(i/r.ONE_THOUSAND)}return ds.fromMiliseconds=t,ds}var Lg;function N4(){return Lg||(Lg=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Gi;e.__exportStar(I4(),r),e.__exportStar(D4(),r)})(Af)),Af}var Xs={},Ug;function O4(){if(Ug)return Xs;Ug=1,Object.defineProperty(Xs,"__esModule",{value:!0}),Xs.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const i=this.get(t);if(typeof i.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const n=Date.now()-i.started;this.timestamps.set(t,{started:i.started,elapsed:n})}get(t){const i=this.timestamps.get(t);if(typeof i>"u")throw new Error(`No timestamp found for label: ${t}`);return i}elapsed(t){const i=this.get(t);return i.elapsed||Date.now()-i.started}}return Xs.Watch=r,Xs.default=r,Xs}var Mf={},na={},Fg;function T4(){if(Fg)return na;Fg=1,Object.defineProperty(na,"__esModule",{value:!0}),na.IWatch=void 0;class r{}return na.IWatch=r,na}var qg;function k4(){return qg||(qg=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Gi.__exportStar(T4(),r)})(Mf)),Mf}var jg;function If(){return jg||(jg=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Gi;e.__exportStar(N4(),r),e.__exportStar(O4(),r),e.__exportStar(k4(),r),e.__exportStar(Bg(),r)})(_f)),_f}var Pf={},sa={};class gs{}const B4=Ul(Object.freeze(Object.defineProperty({__proto__:null,IEvents:gs},Symbol.toStringTag,{value:"Module"})));var zg;function $4(){if(zg)return sa;zg=1,Object.defineProperty(sa,"__esModule",{value:!0}),sa.IHeartBeat=void 0;const r=B4;class e extends r.IEvents{constructor(i){super()}}return sa.IHeartBeat=e,sa}var Hg;function Wg(){return Hg||(Hg=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Gi.__exportStar($4(),r)})(Pf)),Pf}var Rf={},ms={},Kg;function L4(){if(Kg)return ms;Kg=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.HEARTBEAT_EVENTS=ms.HEARTBEAT_INTERVAL=void 0;const r=If();return ms.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,ms.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},ms}var Vg;function Gg(){return Vg||(Vg=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Gi.__exportStar(L4(),r)})(Rf)),Rf}var Jg;function U4(){if(Jg)return ra;Jg=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.HeartBeat=void 0;const r=Gi,e=Ag(),t=If(),i=Wg(),n=Gg();class s extends i.IHeartBeat{constructor(c){super(c),this.events=new e.EventEmitter,this.interval=n.HEARTBEAT_INTERVAL,this.interval=c?.interval||n.HEARTBEAT_INTERVAL}static init(c){return r.__awaiter(this,void 0,void 0,function*(){const l=new s(c);return yield l.init(),l})}init(){return r.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(c,l){this.events.on(c,l)}once(c,l){this.events.once(c,l)}off(c,l){this.events.off(c,l)}removeListener(c,l){this.events.removeListener(c,l)}initialize(){return r.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),t.toMiliseconds(this.interval))})}pulse(){this.events.emit(n.HEARTBEAT_EVENTS.pulse)}}return ra.HeartBeat=s,ra}var Qg;function F4(){return Qg||(Qg=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Gi;e.__exportStar(U4(),r),e.__exportStar(Wg(),r),e.__exportStar(Gg(),r)})(vf)),vf}var oa=F4(),Df,Yg;function q4(){if(Yg)return Df;Yg=1;function r(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}Df=e;function e(t,i,n){var s=n&&n.stringify||r,o=1;if(typeof t=="object"&&t!==null){var c=i.length+o;if(c===1)return t;var l=new Array(c);l[0]=s(t);for(var h=1;h<c;h++)l[h]=s(i[h]);return l.join(" ")}if(typeof t!="string")return t;var p=i.length;if(p===0)return t;for(var v="",_=1-o,A=-1,P=t&&t.length||0,S=0;S<P;){if(t.charCodeAt(S)===37&&S+1<P){switch(A=A>-1?A:0,t.charCodeAt(S+1)){case 100:case 102:if(_>=p||i[_]==null)break;A<S&&(v+=t.slice(A,S)),v+=Number(i[_]),A=S+2,S++;break;case 105:if(_>=p||i[_]==null)break;A<S&&(v+=t.slice(A,S)),v+=Math.floor(Number(i[_])),A=S+2,S++;break;case 79:case 111:case 106:if(_>=p||i[_]===void 0)break;A<S&&(v+=t.slice(A,S));var R=typeof i[_];if(R==="string"){v+="'"+i[_]+"'",A=S+2,S++;break}if(R==="function"){v+=i[_].name||"<anonymous>",A=S+2,S++;break}v+=s(i[_]),A=S+2,S++;break;case 115:if(_>=p)break;A<S&&(v+=t.slice(A,S)),v+=String(i[_]),A=S+2,S++;break;case 37:A<S&&(v+=t.slice(A,S)),v+="%",A=S+2,S++,_--;break}++_}++S}return A===-1?t:(A<P&&(v+=t.slice(A)),v)}return Df}var Nf,Zg;function j4(){if(Zg)return Nf;Zg=1;const r=q4();Nf=n;const e=N().console||{},t={mapHttpRequest:P,mapHttpResponse:P,wrapRequestSerializer:S,wrapResponseSerializer:S,wrapErrorSerializer:S,req:P,res:P,err:_};function i(C,b){return Array.isArray(C)?C.filter(function(U){return U!=="!stdSerializers.err"}):C===!0?Object.keys(b):!1}function n(C){C=C||{},C.browser=C.browser||{};const b=C.browser.transmit;if(b&&typeof b.send!="function")throw Error("pino: transmit option must have a send function");const D=C.browser.write||e;C.browser.write&&(C.browser.asObject=!0);const U=C.serializers||{},j=i(C.browser.serialize,U);let q=C.browser.serialize;Array.isArray(C.browser.serialize)&&C.browser.serialize.indexOf("!stdSerializers.err")>-1&&(q=!1);const F=["error","fatal","warn","info","debug","trace"];typeof D=="function"&&(D.error=D.fatal=D.warn=D.info=D.debug=D.trace=D),C.enabled===!1&&(C.level="silent");const w=C.level||"info",a=Object.create(D);a.log||(a.log=R),Object.defineProperty(a,"levelVal",{get:d}),Object.defineProperty(a,"level",{get:g,set:E});const u={transmit:b,serialize:j,asObject:C.browser.asObject,levels:F,timestamp:A(C)};a.levels=n.levels,a.level=w,a.setMaxListeners=a.getMaxListeners=a.emit=a.addListener=a.on=a.prependListener=a.once=a.prependOnceListener=a.removeListener=a.removeAllListeners=a.listeners=a.listenerCount=a.eventNames=a.write=a.flush=R,a.serializers=U,a._serialize=j,a._stdErrSerialize=q,a.child=M,b&&(a._logEvent=v());function d(){return this.level==="silent"?1/0:this.levels.values[this.level]}function g(){return this._level}function E(O){if(O!=="silent"&&!this.levels.values[O])throw Error("unknown level "+O);this._level=O,s(u,a,"error","log"),s(u,a,"fatal","error"),s(u,a,"warn","error"),s(u,a,"info","log"),s(u,a,"debug","log"),s(u,a,"trace","log")}function M(O,m){if(!O)throw new Error("missing bindings for child Pino");m=m||{},j&&O.serializers&&(m.serializers=O.serializers);const f=m.serializers;if(j&&f){var x=Object.assign({},U,f),$=C.browser.serialize===!0?Object.keys(x):j;delete O.serializers,l([O],$,x,this._stdErrSerialize)}function y(L){this._childLevel=(L._childLevel|0)+1,this.error=h(L,O,"error"),this.fatal=h(L,O,"fatal"),this.warn=h(L,O,"warn"),this.info=h(L,O,"info"),this.debug=h(L,O,"debug"),this.trace=h(L,O,"trace"),x&&(this.serializers=x,this._serialize=$),b&&(this._logEvent=v([].concat(L._logEvent.bindings,O)))}return y.prototype=this,new y(this)}return a}n.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},n.stdSerializers=t,n.stdTimeFunctions=Object.assign({},{nullTime:B,epochTime:T,unixTime:k,isoTime:I});function s(C,b,D,U){const j=Object.getPrototypeOf(b);b[D]=b.levelVal>b.levels.values[D]?R:j[D]?j[D]:e[D]||e[U]||R,o(C,b,D)}function o(C,b,D){!C.transmit&&b[D]===R||(b[D]=(function(U){return function(){const q=C.timestamp(),F=new Array(arguments.length),w=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var a=0;a<F.length;a++)F[a]=arguments[a];if(C.serialize&&!C.asObject&&l(F,this._serialize,this.serializers,this._stdErrSerialize),C.asObject?U.call(w,c(this,D,F,q)):U.apply(w,F),C.transmit){const u=C.transmit.level||b.level,d=n.levels.values[u],g=n.levels.values[D];if(g<d)return;p(this,{ts:q,methodLevel:D,methodValue:g,transmitValue:n.levels.values[C.transmit.level||b.level],send:C.transmit.send,val:b.levelVal},F)}}})(b[D]))}function c(C,b,D,U){C._serialize&&l(D,C._serialize,C.serializers,C._stdErrSerialize);const j=D.slice();let q=j[0];const F={};U&&(F.time=U),F.level=n.levels.values[b];let w=(C._childLevel|0)+1;if(w<1&&(w=1),q!==null&&typeof q=="object"){for(;w--&&typeof j[0]=="object";)Object.assign(F,j.shift());q=j.length?r(j.shift(),j):void 0}else typeof q=="string"&&(q=r(j.shift(),j));return q!==void 0&&(F.msg=q),F}function l(C,b,D,U){for(const j in C)if(U&&C[j]instanceof Error)C[j]=n.stdSerializers.err(C[j]);else if(typeof C[j]=="object"&&!Array.isArray(C[j]))for(const q in C[j])b&&b.indexOf(q)>-1&&q in D&&(C[j][q]=D[q](C[j][q]))}function h(C,b,D){return function(){const U=new Array(1+arguments.length);U[0]=b;for(var j=1;j<U.length;j++)U[j]=arguments[j-1];return C[D].apply(this,U)}}function p(C,b,D){const U=b.send,j=b.ts,q=b.methodLevel,F=b.methodValue,w=b.val,a=C._logEvent.bindings;l(D,C._serialize||Object.keys(C.serializers),C.serializers,C._stdErrSerialize===void 0?!0:C._stdErrSerialize),C._logEvent.ts=j,C._logEvent.messages=D.filter(function(u){return a.indexOf(u)===-1}),C._logEvent.level.label=q,C._logEvent.level.value=F,U(q,C._logEvent,w),C._logEvent=v(a)}function v(C){return{ts:0,messages:[],bindings:C||[],level:{label:"",value:0}}}function _(C){const b={type:C.constructor.name,msg:C.message,stack:C.stack};for(const D in C)b[D]===void 0&&(b[D]=C[D]);return b}function A(C){return typeof C.timestamp=="function"?C.timestamp:C.timestamp===!1?B:T}function P(){return{}}function S(C){return C}function R(){}function B(){return!1}function T(){return Date.now()}function k(){return Math.round(Date.now()/1e3)}function I(){return new Date(Date.now()).toISOString()}function N(){function C(b){return typeof b<"u"&&b}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return C(self)||C(window)||C(this)||{}}}return Nf}var Xg=j4();const em=ui(Xg),z4=jv({__proto__:null,default:em},[Xg]),H4={level:"info"},aa="custom_context";var W4=Object.defineProperty,K4=Object.defineProperties,V4=Object.getOwnPropertyDescriptors,tm=Object.getOwnPropertySymbols,G4=Object.prototype.hasOwnProperty,J4=Object.prototype.propertyIsEnumerable,rm=(r,e,t)=>e in r?W4(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Q4=(r,e)=>{for(var t in e||(e={}))G4.call(e,t)&&rm(r,t,e[t]);if(tm)for(var t of tm(e))J4.call(e,t)&&rm(r,t,e[t]);return r},Y4=(r,e)=>K4(r,V4(e));function Of(r){return Y4(Q4({},r),{level:r?.level||H4.level})}function Z4(r,e=aa){return r[e]||""}function X4(r,e,t=aa){return r[t]=e,r}function Mr(r,e=aa){let t="";return typeof r.bindings>"u"?t=Z4(r,e):t=r.bindings().context||"",t}function e8(r,e,t=aa){const i=Mr(r,t);return i.trim()?`${i}/${e}`:e}function zr(r,e,t=aa){const i=e8(r,e,t),n=r.child({context:i});return X4(n,i,t)}var im;const Tf=(im=em)!=null?im:z4;let t8=class extends gs{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},r8=class extends gs{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},i8=class{constructor(e,t){this.logger=e,this.core=t}},n8=class extends gs{constructor(e,t){super(),this.relayer=e,this.logger=t}},s8=class extends gs{constructor(e){super()}},o8=class{constructor(e,t,i,n){this.core=e,this.logger=t,this.name=i}},a8=class extends gs{constructor(e,t){super(),this.relayer=e,this.logger=t}},c8=class extends gs{constructor(e,t){super(),this.core=e,this.logger=t}},l8=class{constructor(e,t){this.projectId=e,this.logger=t}},f8=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},u8=class{constructor(e){this.client=e}};var Ae=If();const h8=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t);function d8(r){return typeof r=="string"?r:h8(r)||""}function p8(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function nm(r,...e){if(!p8(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function sm(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function g8(r,e){nm(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const eo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kf=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);function m8(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function om(r){return typeof r=="string"&&(r=m8(r)),nm(r),r}let b8=class{clone(){return this._cloneInto()}};function x8(r){const e=i=>r().update(om(i)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function am(r=32){if(eo&&typeof eo.getRandomValues=="function")return eo.getRandomValues(new Uint8Array(r));if(eo&&typeof eo.randomBytes=="function")return eo.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function v8(r,e,t,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(t>>n&s),c=Number(t&s),l=i?4:0,h=i?0:4;r.setUint32(e+l,o,i),r.setUint32(e+h,c,i)}class w8 extends b8{constructor(e,t,i,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=kf(this.buffer)}update(e){sm(this);const{view:t,buffer:i,blockLen:n}=this;e=om(e);const s=e.length;for(let o=0;o<s;){const c=Math.min(n-this.pos,s-o);if(c===n){const l=kf(e);for(;n<=s-o;o+=n)this.process(l,o);continue}i.set(e.subarray(o,o+c),this.pos),this.pos+=c,o+=c,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sm(this),g8(e,this),this.finished=!0;const{buffer:t,view:i,blockLen:n,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(i,0),o=0);for(let v=o;v<n;v++)t[v]=0;v8(i,n-8,BigInt(this.length*8),s),this.process(i,0);const c=kf(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=l/4,p=this.get();if(h>p.length)throw new Error("_sha2: outputLen bigger than state");for(let v=0;v<h;v++)c.setUint32(4*v,p[v],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:i,length:n,finished:s,destroyed:o,pos:c}=this;return e.length=n,e.pos=c,e.finished=s,e.destroyed=o,n%t&&e.buffer.set(i),e}}const Kc=BigInt(2**32-1),Bf=BigInt(32);function cm(r,e=!1){return e?{h:Number(r&Kc),l:Number(r>>Bf&Kc)}:{h:Number(r>>Bf&Kc)|0,l:Number(r&Kc)|0}}function y8(r,e=!1){let t=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let n=0;n<r.length;n++){const{h:s,l:o}=cm(r[n],e);[t[n],i[n]]=[s,o]}return[t,i]}const E8=(r,e)=>BigInt(r>>>0)<<Bf|BigInt(e>>>0),_8=(r,e,t)=>r>>>t,A8=(r,e,t)=>r<<32-t|e>>>t,S8=(r,e,t)=>r>>>t|e<<32-t,C8=(r,e,t)=>r<<32-t|e>>>t,M8=(r,e,t)=>r<<64-t|e>>>t-32,I8=(r,e,t)=>r>>>t-32|e<<64-t,P8=(r,e)=>e,R8=(r,e)=>r,D8=(r,e,t)=>r<<t|e>>>32-t,N8=(r,e,t)=>e<<t|r>>>32-t,O8=(r,e,t)=>e<<t-32|r>>>64-t,T8=(r,e,t)=>r<<t-32|e>>>64-t;function k8(r,e,t,i){const n=(e>>>0)+(i>>>0);return{h:r+t+(n/2**32|0)|0,l:n|0}}const B8=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),$8=(r,e,t,i)=>e+t+i+(r/2**32|0)|0,L8=(r,e,t,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(i>>>0),U8=(r,e,t,i,n)=>e+t+i+n+(r/2**32|0)|0,F8=(r,e,t,i,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(i>>>0)+(n>>>0),q8=(r,e,t,i,n,s)=>e+t+i+n+s+(r/2**32|0)|0,Qe={fromBig:cm,split:y8,toBig:E8,shrSH:_8,shrSL:A8,rotrSH:S8,rotrSL:C8,rotrBH:M8,rotrBL:I8,rotr32H:P8,rotr32L:R8,rotlSH:D8,rotlSL:N8,rotlBH:O8,rotlBL:T8,add:k8,add3L:B8,add3H:$8,add4L:L8,add4H:U8,add5H:q8,add5L:F8},[j8,z8]=Qe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),kn=new Uint32Array(80),Bn=new Uint32Array(80);let H8=class extends w8{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:i,Bl:n,Ch:s,Cl:o,Dh:c,Dl:l,Eh:h,El:p,Fh:v,Fl:_,Gh:A,Gl:P,Hh:S,Hl:R}=this;return[e,t,i,n,s,o,c,l,h,p,v,_,A,P,S,R]}set(e,t,i,n,s,o,c,l,h,p,v,_,A,P,S,R){this.Ah=e|0,this.Al=t|0,this.Bh=i|0,this.Bl=n|0,this.Ch=s|0,this.Cl=o|0,this.Dh=c|0,this.Dl=l|0,this.Eh=h|0,this.El=p|0,this.Fh=v|0,this.Fl=_|0,this.Gh=A|0,this.Gl=P|0,this.Hh=S|0,this.Hl=R|0}process(e,t){for(let k=0;k<16;k++,t+=4)kn[k]=e.getUint32(t),Bn[k]=e.getUint32(t+=4);for(let k=16;k<80;k++){const I=kn[k-15]|0,N=Bn[k-15]|0,C=Qe.rotrSH(I,N,1)^Qe.rotrSH(I,N,8)^Qe.shrSH(I,N,7),b=Qe.rotrSL(I,N,1)^Qe.rotrSL(I,N,8)^Qe.shrSL(I,N,7),D=kn[k-2]|0,U=Bn[k-2]|0,j=Qe.rotrSH(D,U,19)^Qe.rotrBH(D,U,61)^Qe.shrSH(D,U,6),q=Qe.rotrSL(D,U,19)^Qe.rotrBL(D,U,61)^Qe.shrSL(D,U,6),F=Qe.add4L(b,q,Bn[k-7],Bn[k-16]),w=Qe.add4H(F,C,j,kn[k-7],kn[k-16]);kn[k]=w|0,Bn[k]=F|0}let{Ah:i,Al:n,Bh:s,Bl:o,Ch:c,Cl:l,Dh:h,Dl:p,Eh:v,El:_,Fh:A,Fl:P,Gh:S,Gl:R,Hh:B,Hl:T}=this;for(let k=0;k<80;k++){const I=Qe.rotrSH(v,_,14)^Qe.rotrSH(v,_,18)^Qe.rotrBH(v,_,41),N=Qe.rotrSL(v,_,14)^Qe.rotrSL(v,_,18)^Qe.rotrBL(v,_,41),C=v&A^~v&S,b=_&P^~_&R,D=Qe.add5L(T,N,b,z8[k],Bn[k]),U=Qe.add5H(D,B,I,C,j8[k],kn[k]),j=D|0,q=Qe.rotrSH(i,n,28)^Qe.rotrBH(i,n,34)^Qe.rotrBH(i,n,39),F=Qe.rotrSL(i,n,28)^Qe.rotrBL(i,n,34)^Qe.rotrBL(i,n,39),w=i&s^i&c^s&c,a=n&o^n&l^o&l;B=S|0,T=R|0,S=A|0,R=P|0,A=v|0,P=_|0,{h:v,l:_}=Qe.add(h|0,p|0,U|0,j|0),h=c|0,p=l|0,c=s|0,l=o|0,s=i|0,o=n|0;const u=Qe.add3L(j,F,a);i=Qe.add3H(u,U,q,w),n=u|0}({h:i,l:n}=Qe.add(this.Ah|0,this.Al|0,i|0,n|0)),{h:s,l:o}=Qe.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:c,l}=Qe.add(this.Ch|0,this.Cl|0,c|0,l|0),{h,l:p}=Qe.add(this.Dh|0,this.Dl|0,h|0,p|0),{h:v,l:_}=Qe.add(this.Eh|0,this.El|0,v|0,_|0),{h:A,l:P}=Qe.add(this.Fh|0,this.Fl|0,A|0,P|0),{h:S,l:R}=Qe.add(this.Gh|0,this.Gl|0,S|0,R|0),{h:B,l:T}=Qe.add(this.Hh|0,this.Hl|0,B|0,T|0),this.set(i,n,s,o,c,l,h,p,v,_,A,P,S,R,B,T)}roundClean(){kn.fill(0),Bn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const W8=x8(()=>new H8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $f=BigInt(0),lm=BigInt(1),K8=BigInt(2);function Lf(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Uf(r){if(!Lf(r))throw new Error("Uint8Array expected")}function Ff(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}const V8=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function qf(r){Uf(r);let e="";for(let t=0;t<r.length;t++)e+=V8[r[t]];return e}function fm(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?$f:BigInt("0x"+r)}const Ji={_0:48,_9:57,A:65,F:70,a:97,f:102};function um(r){if(r>=Ji._0&&r<=Ji._9)return r-Ji._0;if(r>=Ji.A&&r<=Ji.F)return r-(Ji.A-10);if(r>=Ji.a&&r<=Ji.f)return r-(Ji.a-10)}function hm(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(t);for(let n=0,s=0;n<t;n++,s+=2){const o=um(r.charCodeAt(s)),c=um(r.charCodeAt(s+1));if(o===void 0||c===void 0){const l=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}i[n]=o*16+c}return i}function G8(r){return fm(qf(r))}function Vc(r){return Uf(r),fm(qf(Uint8Array.from(r).reverse()))}function dm(r,e){return hm(r.toString(16).padStart(e*2,"0"))}function jf(r,e){return dm(r,e).reverse()}function Qi(r,e,t){let i;if(typeof e=="string")try{i=hm(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(Lf(e))i=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const n=i.length;if(typeof t=="number"&&n!==t)throw new Error(r+" of length "+t+" expected, got "+n);return i}function pm(...r){let e=0;for(let i=0;i<r.length;i++){const n=r[i];Uf(n),e+=n.length}const t=new Uint8Array(e);for(let i=0,n=0;i<r.length;i++){const s=r[i];t.set(s,n),n+=s.length}return t}const zf=r=>typeof r=="bigint"&&$f<=r;function J8(r,e,t){return zf(r)&&zf(e)&&zf(t)&&e<=r&&r<t}function ca(r,e,t,i){if(!J8(e,t,i))throw new Error("expected valid "+r+": "+t+" <= n < "+i+", got "+e)}function Q8(r){let e;for(e=0;r>$f;r>>=lm,e+=1);return e}const Y8=r=>(K8<<BigInt(r-1))-lm,Z8={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||Lf(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Hf(r,e,t={}){const i=(n,s,o)=>{const c=Z8[s];if(typeof c!="function")throw new Error("invalid validator function");const l=r[n];if(!(o&&l===void 0)&&!c(l,r))throw new Error("param "+String(n)+" is invalid. Expected "+s+", got "+l)};for(const[n,s]of Object.entries(e))i(n,s,!1);for(const[n,s]of Object.entries(t))i(n,s,!0);return r}function gm(r){const e=new WeakMap;return(t,...i)=>{const n=e.get(t);if(n!==void 0)return n;const s=r(t,...i);return e.set(t,s),s}}const Vt=BigInt(0),kt=BigInt(1),bs=BigInt(2),X8=BigInt(3),Wf=BigInt(4),mm=BigInt(5),bm=BigInt(8);function qt(r,e){const t=r%e;return t>=Vt?t:e+t}function e7(r,e,t){if(e<Vt)throw new Error("invalid exponent, negatives unsupported");if(t<=Vt)throw new Error("invalid modulus");if(t===kt)return Vt;let i=kt;for(;e>Vt;)e&kt&&(i=i*r%t),r=r*r%t,e>>=kt;return i}function Bi(r,e,t){let i=r;for(;e-- >Vt;)i*=i,i%=t;return i}function xm(r,e){if(r===Vt)throw new Error("invert: expected non-zero number");if(e<=Vt)throw new Error("invert: expected positive modulus, got "+e);let t=qt(r,e),i=e,n=Vt,s=kt;for(;t!==Vt;){const o=i/t,c=i%t,l=n-s*o;i=t,t=c,n=s,s=l}if(i!==kt)throw new Error("invert: does not exist");return qt(n,e)}function t7(r){const e=(r-kt)/bs;let t,i,n;for(t=r-kt,i=0;t%bs===Vt;t/=bs,i++);for(n=bs;n<r&&e7(n,e,r)!==r-kt;n++)if(n>1e3)throw new Error("Cannot find square root: likely non-prime P");if(i===1){const o=(r+kt)/Wf;return function(c,l){const h=c.pow(l,o);if(!c.eql(c.sqr(h),l))throw new Error("Cannot find square root");return h}}const s=(t+kt)/bs;return function(o,c){if(o.pow(c,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let l=i,h=o.pow(o.mul(o.ONE,n),t),p=o.pow(c,s),v=o.pow(c,t);for(;!o.eql(v,o.ONE);){if(o.eql(v,o.ZERO))return o.ZERO;let _=1;for(let P=o.sqr(v);_<l&&!o.eql(P,o.ONE);_++)P=o.sqr(P);const A=o.pow(h,kt<<BigInt(l-_-1));h=o.sqr(A),p=o.mul(p,A),v=o.mul(v,h),l=_}return p}}function r7(r){if(r%Wf===X8){const e=(r+kt)/Wf;return function(t,i){const n=t.pow(i,e);if(!t.eql(t.sqr(n),i))throw new Error("Cannot find square root");return n}}if(r%bm===mm){const e=(r-mm)/bm;return function(t,i){const n=t.mul(i,bs),s=t.pow(n,e),o=t.mul(i,s),c=t.mul(t.mul(o,bs),s),l=t.mul(o,t.sub(c,t.ONE));if(!t.eql(t.sqr(l),i))throw new Error("Cannot find square root");return l}}return t7(r)}const i7=(r,e)=>(qt(r,e)&kt)===kt,n7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function s7(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=n7.reduce((i,n)=>(i[n]="function",i),e);return Hf(r,t)}function o7(r,e,t){if(t<Vt)throw new Error("invalid exponent, negatives unsupported");if(t===Vt)return r.ONE;if(t===kt)return e;let i=r.ONE,n=e;for(;t>Vt;)t&kt&&(i=r.mul(i,n)),n=r.sqr(n),t>>=kt;return i}function a7(r,e){const t=new Array(e.length),i=e.reduce((s,o,c)=>r.is0(o)?s:(t[c]=s,r.mul(s,o)),r.ONE),n=r.inv(i);return e.reduceRight((s,o,c)=>r.is0(o)?s:(t[c]=r.mul(s,t[c]),r.mul(s,o)),n),t}function vm(r,e){const t=e!==void 0?e:r.toString(2).length,i=Math.ceil(t/8);return{nBitLength:t,nByteLength:i}}function wm(r,e,t=!1,i={}){if(r<=Vt)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:n,nByteLength:s}=vm(r,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const c=Object.freeze({ORDER:r,isLE:t,BITS:n,BYTES:s,MASK:Y8(n),ZERO:Vt,ONE:kt,create:l=>qt(l,r),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Vt<=l&&l<r},is0:l=>l===Vt,isOdd:l=>(l&kt)===kt,neg:l=>qt(-l,r),eql:(l,h)=>l===h,sqr:l=>qt(l*l,r),add:(l,h)=>qt(l+h,r),sub:(l,h)=>qt(l-h,r),mul:(l,h)=>qt(l*h,r),pow:(l,h)=>o7(c,l,h),div:(l,h)=>qt(l*xm(h,r),r),sqrN:l=>l*l,addN:(l,h)=>l+h,subN:(l,h)=>l-h,mulN:(l,h)=>l*h,inv:l=>xm(l,r),sqrt:i.sqrt||(l=>(o||(o=r7(r)),o(c,l))),invertBatch:l=>a7(c,l),cmov:(l,h,p)=>p?h:l,toBytes:l=>t?jf(l,s):dm(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return t?Vc(l):G8(l)}});return Object.freeze(c)}const ym=BigInt(0),Gc=BigInt(1);function Kf(r,e){const t=e.negate();return r?t:e}function Em(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function Vf(r,e){Em(r,e);const t=Math.ceil(e/r)+1,i=2**(r-1);return{windows:t,windowSize:i}}function c7(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,i)=>{if(!(t instanceof e))throw new Error("invalid point at index "+i)})}function l7(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,i)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+i)})}const Gf=new WeakMap,_m=new WeakMap;function Jf(r){return _m.get(r)||1}function f7(r,e){return{constTimeNegate:Kf,hasPrecomputes(t){return Jf(t)!==1},unsafeLadder(t,i,n=r.ZERO){let s=t;for(;i>ym;)i&Gc&&(n=n.add(s)),s=s.double(),i>>=Gc;return n},precomputeWindow(t,i){const{windows:n,windowSize:s}=Vf(i,e),o=[];let c=t,l=c;for(let h=0;h<n;h++){l=c,o.push(l);for(let p=1;p<s;p++)l=l.add(c),o.push(l);c=l.double()}return o},wNAF(t,i,n){const{windows:s,windowSize:o}=Vf(t,e);let c=r.ZERO,l=r.BASE;const h=BigInt(2**t-1),p=2**t,v=BigInt(t);for(let _=0;_<s;_++){const A=_*o;let P=Number(n&h);n>>=v,P>o&&(P-=p,n+=Gc);const S=A,R=A+Math.abs(P)-1,B=_%2!==0,T=P<0;P===0?l=l.add(Kf(B,i[S])):c=c.add(Kf(T,i[R]))}return{p:c,f:l}},wNAFUnsafe(t,i,n,s=r.ZERO){const{windows:o,windowSize:c}=Vf(t,e),l=BigInt(2**t-1),h=2**t,p=BigInt(t);for(let v=0;v<o;v++){const _=v*c;if(n===ym)break;let A=Number(n&l);if(n>>=p,A>c&&(A-=h,n+=Gc),A===0)continue;let P=i[_+Math.abs(A)-1];A<0&&(P=P.negate()),s=s.add(P)}return s},getPrecomputes(t,i,n){let s=Gf.get(i);return s||(s=this.precomputeWindow(i,t),t!==1&&Gf.set(i,n(s))),s},wNAFCached(t,i,n){const s=Jf(t);return this.wNAF(s,this.getPrecomputes(s,t,n),i)},wNAFCachedUnsafe(t,i,n,s){const o=Jf(t);return o===1?this.unsafeLadder(t,i,s):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),i,s)},setWindowSize(t,i){Em(i,e),_m.set(t,i),Gf.delete(t)}}}function u7(r,e,t,i){if(c7(t,r),l7(i,e),t.length!==i.length)throw new Error("arrays of points and scalars must have equal length");const n=r.ZERO,s=Q8(BigInt(t.length)),o=s>12?s-3:s>4?s-2:s?2:1,c=(1<<o)-1,l=new Array(c+1).fill(n),h=Math.floor((e.BITS-1)/o)*o;let p=n;for(let v=h;v>=0;v-=o){l.fill(n);for(let A=0;A<i.length;A++){const P=i[A],S=Number(P>>BigInt(v)&BigInt(c));l[S]=l[S].add(t[A])}let _=n;for(let A=l.length-1,P=n;A>0;A--)P=P.add(l[A]),_=_.add(P);if(p=p.add(_),v!==0)for(let A=0;A<o;A++)p=p.double()}return p}function h7(r){return s7(r.Fp),Hf(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...vm(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const bi=BigInt(0),Ir=BigInt(1),Jc=BigInt(2),d7=BigInt(8),p7={zip215:!0};function g7(r){const e=h7(r);return Hf(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function m7(r){const e=g7(r),{Fp:t,n:i,prehash:n,hash:s,randomBytes:o,nByteLength:c,h:l}=e,h=Jc<<BigInt(c*8)-Ir,p=t.create,v=wm(e.n,e.nBitLength),_=e.uvRatio||((u,d)=>{try{return{isValid:!0,value:t.sqrt(u*t.inv(d))}}catch{return{isValid:!1,value:bi}}}),A=e.adjustScalarBytes||(u=>u),P=e.domain||((u,d,g)=>{if(Ff("phflag",g),d.length||g)throw new Error("Contexts/pre-hash are not supported");return u});function S(u,d){ca("coordinate "+u,d,bi,h)}function R(u){if(!(u instanceof k))throw new Error("ExtendedPoint expected")}const B=gm((u,d)=>{const{ex:g,ey:E,ez:M}=u,O=u.is0();d==null&&(d=O?d7:t.inv(M));const m=p(g*d),f=p(E*d),x=p(M*d);if(O)return{x:bi,y:Ir};if(x!==Ir)throw new Error("invZ was invalid");return{x:m,y:f}}),T=gm(u=>{const{a:d,d:g}=e;if(u.is0())throw new Error("bad point: ZERO");const{ex:E,ey:M,ez:O,et:m}=u,f=p(E*E),x=p(M*M),$=p(O*O),y=p($*$),L=p(f*d),K=p($*p(L+x)),H=p(y+p(g*p(f*x)));if(K!==H)throw new Error("bad point: equation left != right (1)");const V=p(E*M),Z=p(O*m);if(V!==Z)throw new Error("bad point: equation left != right (2)");return!0});class k{constructor(d,g,E,M){this.ex=d,this.ey=g,this.ez=E,this.et=M,S("x",d),S("y",g),S("z",E),S("t",M),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(d){if(d instanceof k)throw new Error("extended point not allowed");const{x:g,y:E}=d||{};return S("x",g),S("y",E),new k(g,E,Ir,p(g*E))}static normalizeZ(d){const g=t.invertBatch(d.map(E=>E.ez));return d.map((E,M)=>E.toAffine(g[M])).map(k.fromAffine)}static msm(d,g){return u7(k,v,d,g)}_setWindowSize(d){C.setWindowSize(this,d)}assertValidity(){T(this)}equals(d){R(d);const{ex:g,ey:E,ez:M}=this,{ex:O,ey:m,ez:f}=d,x=p(g*f),$=p(O*M),y=p(E*f),L=p(m*M);return x===$&&y===L}is0(){return this.equals(k.ZERO)}negate(){return new k(p(-this.ex),this.ey,this.ez,p(-this.et))}double(){const{a:d}=e,{ex:g,ey:E,ez:M}=this,O=p(g*g),m=p(E*E),f=p(Jc*p(M*M)),x=p(d*O),$=g+E,y=p(p($*$)-O-m),L=x+m,K=L-f,H=x-m,V=p(y*K),Z=p(L*H),J=p(y*H),Y=p(K*L);return new k(V,Z,Y,J)}add(d){R(d);const{a:g,d:E}=e,{ex:M,ey:O,ez:m,et:f}=this,{ex:x,ey:$,ez:y,et:L}=d;if(g===BigInt(-1)){const Bt=p((O-M)*($+x)),ue=p((O+M)*($-x)),fe=p(ue-Bt);if(fe===bi)return this.double();const nt=p(m*Jc*L),he=p(f*Jc*y),ce=he+nt,et=ue+Bt,de=he-nt,le=p(ce*fe),at=p(et*de),pe=p(ce*de),oe=p(fe*et);return new k(le,at,oe,pe)}const K=p(M*x),H=p(O*$),V=p(f*E*L),Z=p(m*y),J=p((M+O)*(x+$)-K-H),Y=Z-V,ye=Z+V,X=p(H-g*K),ne=p(J*Y),wt=p(ye*X),Ee=p(J*X),_e=p(Y*ye);return new k(ne,wt,_e,Ee)}subtract(d){return this.add(d.negate())}wNAF(d){return C.wNAFCached(this,d,k.normalizeZ)}multiply(d){const g=d;ca("scalar",g,Ir,i);const{p:E,f:M}=this.wNAF(g);return k.normalizeZ([E,M])[0]}multiplyUnsafe(d,g=k.ZERO){const E=d;return ca("scalar",E,bi,i),E===bi?N:this.is0()||E===Ir?this:C.wNAFCachedUnsafe(this,E,k.normalizeZ,g)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return C.unsafeLadder(this,i).is0()}toAffine(d){return B(this,d)}clearCofactor(){const{h:d}=e;return d===Ir?this:this.multiplyUnsafe(d)}static fromHex(d,g=!1){const{d:E,a:M}=e,O=t.BYTES;d=Qi("pointHex",d,O),Ff("zip215",g);const m=d.slice(),f=d[O-1];m[O-1]=f&-129;const x=Vc(m),$=g?h:t.ORDER;ca("pointHex.y",x,bi,$);const y=p(x*x),L=p(y-Ir),K=p(E*y-M);let{isValid:H,value:V}=_(L,K);if(!H)throw new Error("Point.fromHex: invalid y coordinate");const Z=(V&Ir)===Ir,J=(f&128)!==0;if(!g&&V===bi&&J)throw new Error("Point.fromHex: x=0 and x_0=1");return J!==Z&&(V=p(-V)),k.fromAffine({x:V,y:x})}static fromPrivateKey(d){return U(d).point}toRawBytes(){const{x:d,y:g}=this.toAffine(),E=jf(g,t.BYTES);return E[E.length-1]|=d&Ir?128:0,E}toHex(){return qf(this.toRawBytes())}}k.BASE=new k(e.Gx,e.Gy,Ir,p(e.Gx*e.Gy)),k.ZERO=new k(bi,Ir,Ir,bi);const{BASE:I,ZERO:N}=k,C=f7(k,c*8);function b(u){return qt(u,i)}function D(u){return b(Vc(u))}function U(u){const d=t.BYTES;u=Qi("private key",u,d);const g=Qi("hashed private key",s(u),2*d),E=A(g.slice(0,d)),M=g.slice(d,2*d),O=D(E),m=I.multiply(O),f=m.toRawBytes();return{head:E,prefix:M,scalar:O,point:m,pointBytes:f}}function j(u){return U(u).pointBytes}function q(u=new Uint8Array,...d){const g=pm(...d);return D(s(P(g,Qi("context",u),!!n)))}function F(u,d,g={}){u=Qi("message",u),n&&(u=n(u));const{prefix:E,scalar:M,pointBytes:O}=U(d),m=q(g.context,E,u),f=I.multiply(m).toRawBytes(),x=q(g.context,f,O,u),$=b(m+x*M);ca("signature.s",$,bi,i);const y=pm(f,jf($,t.BYTES));return Qi("result",y,t.BYTES*2)}const w=p7;function a(u,d,g,E=w){const{context:M,zip215:O}=E,m=t.BYTES;u=Qi("signature",u,2*m),d=Qi("message",d),g=Qi("publicKey",g,m),O!==void 0&&Ff("zip215",O),n&&(d=n(d));const f=Vc(u.slice(m,2*m));let x,$,y;try{x=k.fromHex(g,O),$=k.fromHex(u.slice(0,m),O),y=I.multiplyUnsafe(f)}catch{return!1}if(!O&&x.isSmallOrder())return!1;const L=q(M,$.toRawBytes(),x.toRawBytes(),d);return $.add(x.multiplyUnsafe(L)).subtract(y).clearCofactor().equals(k.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:j,sign:F,verify:a,ExtendedPoint:k,utils:{getExtendedPublicKey:U,randomPrivateKey:()=>o(t.BYTES),precompute(u=8,d=k.BASE){return d._setWindowSize(u),d.multiply(BigInt(3)),d}}}}BigInt(0),BigInt(1);const Qf=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Am=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const b7=BigInt(1),Sm=BigInt(2);BigInt(3);const x7=BigInt(5),v7=BigInt(8);function w7(r){const e=BigInt(10),t=BigInt(20),i=BigInt(40),n=BigInt(80),s=Qf,o=r*r%s*r%s,c=Bi(o,Sm,s)*o%s,l=Bi(c,b7,s)*r%s,h=Bi(l,x7,s)*l%s,p=Bi(h,e,s)*h%s,v=Bi(p,t,s)*p%s,_=Bi(v,i,s)*v%s,A=Bi(_,n,s)*_%s,P=Bi(A,n,s)*_%s,S=Bi(P,e,s)*h%s;return{pow_p_5_8:Bi(S,Sm,s)*r%s,b2:o}}function y7(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function E7(r,e){const t=Qf,i=qt(e*e*e,t),n=qt(i*i*e,t),s=w7(r*n).pow_p_5_8;let o=qt(r*i*s,t);const c=qt(e*o*o,t),l=o,h=qt(o*Am,t),p=c===r,v=c===qt(-r,t),_=c===qt(-r*Am,t);return p&&(o=l),(v||_)&&(o=h),i7(o,t)&&(o=qt(-o,t)),{isValid:p||v,value:o}}const _7=wm(Qf,void 0,!0),A7={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:_7,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:v7,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:W8,randomBytes:am,adjustScalarBytes:y7,uvRatio:E7},Cm=m7(A7),S7="EdDSA",C7="JWT",Mm=".",Im="base64url",M7="utf8",I7="utf8",P7=":",R7="did",D7="key",Pm="base58btc",N7="z",O7="K36",T7=32;function Yf(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Rm(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Yf(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function Dm(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));const t=Rm(e);let i=0;for(const n of r)t.set(n,i),i+=n.length;return Yf(t)}function k7(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var c=r.length,l=r.charAt(0),h=Math.log(c)/Math.log(256),p=Math.log(256)/Math.log(c);function v(P){if(P instanceof Uint8Array||(ArrayBuffer.isView(P)?P=new Uint8Array(P.buffer,P.byteOffset,P.byteLength):Array.isArray(P)&&(P=Uint8Array.from(P))),!(P instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(P.length===0)return"";for(var S=0,R=0,B=0,T=P.length;B!==T&&P[B]===0;)B++,S++;for(var k=(T-B)*p+1>>>0,I=new Uint8Array(k);B!==T;){for(var N=P[B],C=0,b=k-1;(N!==0||C<R)&&b!==-1;b--,C++)N+=256*I[b]>>>0,I[b]=N%c>>>0,N=N/c>>>0;if(N!==0)throw new Error("Non-zero carry");R=C,B++}for(var D=k-R;D!==k&&I[D]===0;)D++;for(var U=l.repeat(S);D<k;++D)U+=r.charAt(I[D]);return U}function _(P){if(typeof P!="string")throw new TypeError("Expected String");if(P.length===0)return new Uint8Array;var S=0;if(P[S]!==" "){for(var R=0,B=0;P[S]===l;)R++,S++;for(var T=(P.length-S)*h+1>>>0,k=new Uint8Array(T);P[S];){var I=t[P.charCodeAt(S)];if(I===255)return;for(var N=0,C=T-1;(I!==0||N<B)&&C!==-1;C--,N++)I+=c*k[C]>>>0,k[C]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");B=N,S++}if(P[S]!==" "){for(var b=T-B;b!==T&&k[b]===0;)b++;for(var D=new Uint8Array(R+(T-b)),U=R;b!==T;)D[U++]=k[b++];return D}}}function A(P){var S=_(P);if(S)return S;throw new Error(`Non-${e} character`)}return{encode:v,decodeUnsafe:_,decode:A}}var B7=k7,$7=B7;const Nm=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},L7=r=>new TextEncoder().encode(r),U7=r=>new TextDecoder().decode(r);class F7{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}let q7=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Om(this,e)}};class j7{constructor(e){this.decoders=e}or(e){return Om(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Om=(r,e)=>new j7({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class z7{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new F7(e,t,i),this.decoder=new q7(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Qc=({name:r,prefix:e,encode:t,decode:i})=>new z7(r,e,t,i),la=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:n}=$7(t,e);return Qc({prefix:r,name:e,encode:i,decode:s=>Nm(n(s))})},H7=(r,e,t,i)=>{const n={};for(let p=0;p<e.length;++p)n[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*t/8|0);let c=0,l=0,h=0;for(let p=0;p<s;++p){const v=n[r[p]];if(v===void 0)throw new SyntaxError(`Non-${i} character`);l=l<<t|v,c+=t,c>=8&&(c-=8,o[h++]=255&l>>c)}if(c>=t||255&l<<8-c)throw new SyntaxError("Unexpected end of data");return o},W7=(r,e,t)=>{const i=e[e.length-1]==="=",n=(1<<t)-1;let s="",o=0,c=0;for(let l=0;l<r.length;++l)for(c=c<<8|r[l],o+=8;o>t;)o-=t,s+=e[n&c>>o];if(o&&(s+=e[n&c<<t-o]),i)for(;s.length*t&7;)s+="=";return s},tr=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>Qc({prefix:e,name:r,encode(n){return W7(n,i,t)},decode(n){return H7(n,i,t,r)}}),K7=Qc({prefix:"\0",name:"identity",encode:r=>U7(r),decode:r=>L7(r)});var V7=Object.freeze({__proto__:null,identity:K7});const G7=tr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var J7=Object.freeze({__proto__:null,base2:G7});const Q7=tr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Y7=Object.freeze({__proto__:null,base8:Q7});const Z7=la({prefix:"9",name:"base10",alphabet:"0123456789"});var X7=Object.freeze({__proto__:null,base10:Z7});const eE=tr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),tE=tr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var rE=Object.freeze({__proto__:null,base16:eE,base16upper:tE});const iE=tr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),nE=tr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),sE=tr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oE=tr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),aE=tr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),cE=tr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),lE=tr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),fE=tr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),uE=tr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var hE=Object.freeze({__proto__:null,base32:iE,base32upper:nE,base32pad:sE,base32padupper:oE,base32hex:aE,base32hexupper:cE,base32hexpad:lE,base32hexpadupper:fE,base32z:uE});const dE=la({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),pE=la({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var gE=Object.freeze({__proto__:null,base36:dE,base36upper:pE});const mE=la({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),bE=la({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var xE=Object.freeze({__proto__:null,base58btc:mE,base58flickr:bE});const vE=tr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wE=tr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yE=tr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),EE=tr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var _E=Object.freeze({__proto__:null,base64:vE,base64pad:wE,base64url:yE,base64urlpad:EE});const Tm=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),AE=Tm.reduce((r,e,t)=>(r[t]=e,r),[]),SE=Tm.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function CE(r){return r.reduce((e,t)=>(e+=AE[t],e),"")}function ME(r){const e=[];for(const t of r){const i=SE[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const IE=Qc({prefix:"🚀",name:"base256emoji",encode:CE,decode:ME});var PE=Object.freeze({__proto__:null,base256emoji:IE}),RE=Bm,km=128,DE=-128,NE=Math.pow(2,31);function Bm(r,e,t){e=e||[],t=t||0;for(var i=t;r>=NE;)e[t++]=r&255|km,r/=128;for(;r&DE;)e[t++]=r&255|km,r>>>=7;return e[t]=r|0,Bm.bytes=t-i+1,e}var OE=Zf,TE=128,$m=127;function Zf(r,i){var t=0,i=i||0,n=0,s=i,o,c=r.length;do{if(s>=c)throw Zf.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&$m)<<n:(o&$m)*Math.pow(2,n),n+=7}while(o>=TE);return Zf.bytes=s-i,t}var kE=Math.pow(2,7),BE=Math.pow(2,14),$E=Math.pow(2,21),LE=Math.pow(2,28),UE=Math.pow(2,35),FE=Math.pow(2,42),qE=Math.pow(2,49),jE=Math.pow(2,56),zE=Math.pow(2,63),HE=function(r){return r<kE?1:r<BE?2:r<$E?3:r<LE?4:r<UE?5:r<FE?6:r<qE?7:r<jE?8:r<zE?9:10},WE={encode:RE,decode:OE,encodingLength:HE},Lm=WE;const Um=(r,e,t=0)=>(Lm.encode(r,e,t),e),Fm=r=>Lm.encodingLength(r),Xf=(r,e)=>{const t=e.byteLength,i=Fm(r),n=i+Fm(t),s=new Uint8Array(n+t);return Um(r,s,0),Um(t,s,i),s.set(e,n),new KE(r,t,e,s)};class KE{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}}const qm=({name:r,code:e,encode:t})=>new VE(r,e,t);class VE{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Xf(this.code,t):t.then(i=>Xf(this.code,i))}else throw Error("Unknown type, must be binary type")}}const jm=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),GE=qm({name:"sha2-256",code:18,encode:jm("SHA-256")}),JE=qm({name:"sha2-512",code:19,encode:jm("SHA-512")});var QE=Object.freeze({__proto__:null,sha256:GE,sha512:JE});const zm=0,YE="identity",Hm=Nm;var ZE=Object.freeze({__proto__:null,identity:{code:zm,name:YE,encode:Hm,digest:r=>Xf(zm,Hm(r))}});new TextEncoder,new TextDecoder;const Wm={...V7,...J7,...Y7,...X7,...rE,...hE,...gE,...xE,..._E,...PE};({...QE,...ZE});function Km(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const Vm=Km("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),eu=Km("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Rm(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Gm={utf8:Vm,"utf-8":Vm,hex:Wm.base16,latin1:eu,ascii:eu,binary:eu,...Wm};function tu(r,e="utf8"){const t=Gm[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}function ru(r,e="utf8"){const t=Gm[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Yf(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function Yc(r){return tu(ru(d8(r),M7),Im)}function Jm(r){const e=ru(O7,Pm),t=N7+tu(Dm([e,r]),Pm);return[R7,D7,t].join(P7)}function XE(r){return tu(r,Im)}function e9(r){return ru([Yc(r.header),Yc(r.payload)].join(Mm),I7)}function t9(r){return[Yc(r.header),Yc(r.payload),XE(r.signature)].join(Mm)}function Qm(r=am(T7)){const e=Cm.getPublicKey(r);return{secretKey:Dm([r,e]),publicKey:e}}async function r9(r,e,t,i,n=Ae.fromMiliseconds(Date.now())){const s={alg:S7,typ:C7},o=Jm(i.publicKey),c=n+t,l={iss:o,sub:r,aud:e,iat:n,exp:c},h=e9({header:s,payload:l}),p=Cm.sign(h,i.secretKey.slice(0,32));return t9({header:s,payload:l,signature:p})}var iu={},fa={},Ye={},nu={},Ym;function i9(){return Ym||(Ym=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});function e(c,l){var h=c>>>16&65535,p=c&65535,v=l>>>16&65535,_=l&65535;return p*_+(h*_+p*v<<16>>>0)|0}r.mul=Math.imul||e;function t(c,l){return c+l|0}r.add=t;function i(c,l){return c-l|0}r.sub=i;function n(c,l){return c<<l|c>>>32-l}r.rotl=n;function s(c,l){return c<<32-l|c>>>l}r.rotr=s;function o(c){return typeof c=="number"&&isFinite(c)&&Math.floor(c)===c}r.isInteger=Number.isInteger||o,r.MAX_SAFE_INTEGER=9007199254740991,r.isSafeInteger=function(c){return r.isInteger(c)&&c>=-r.MAX_SAFE_INTEGER&&c<=r.MAX_SAFE_INTEGER}})(nu)),nu}var Zm;function Zc(){if(Zm)return Ye;Zm=1,Object.defineProperty(Ye,"__esModule",{value:!0});var r=i9();function e(u,d){return d===void 0&&(d=0),(u[d+0]<<8|u[d+1])<<16>>16}Ye.readInt16BE=e;function t(u,d){return d===void 0&&(d=0),(u[d+0]<<8|u[d+1])>>>0}Ye.readUint16BE=t;function i(u,d){return d===void 0&&(d=0),(u[d+1]<<8|u[d])<<16>>16}Ye.readInt16LE=i;function n(u,d){return d===void 0&&(d=0),(u[d+1]<<8|u[d])>>>0}Ye.readUint16LE=n;function s(u,d,g){return d===void 0&&(d=new Uint8Array(2)),g===void 0&&(g=0),d[g+0]=u>>>8,d[g+1]=u>>>0,d}Ye.writeUint16BE=s,Ye.writeInt16BE=s;function o(u,d,g){return d===void 0&&(d=new Uint8Array(2)),g===void 0&&(g=0),d[g+0]=u>>>0,d[g+1]=u>>>8,d}Ye.writeUint16LE=o,Ye.writeInt16LE=o;function c(u,d){return d===void 0&&(d=0),u[d]<<24|u[d+1]<<16|u[d+2]<<8|u[d+3]}Ye.readInt32BE=c;function l(u,d){return d===void 0&&(d=0),(u[d]<<24|u[d+1]<<16|u[d+2]<<8|u[d+3])>>>0}Ye.readUint32BE=l;function h(u,d){return d===void 0&&(d=0),u[d+3]<<24|u[d+2]<<16|u[d+1]<<8|u[d]}Ye.readInt32LE=h;function p(u,d){return d===void 0&&(d=0),(u[d+3]<<24|u[d+2]<<16|u[d+1]<<8|u[d])>>>0}Ye.readUint32LE=p;function v(u,d,g){return d===void 0&&(d=new Uint8Array(4)),g===void 0&&(g=0),d[g+0]=u>>>24,d[g+1]=u>>>16,d[g+2]=u>>>8,d[g+3]=u>>>0,d}Ye.writeUint32BE=v,Ye.writeInt32BE=v;function _(u,d,g){return d===void 0&&(d=new Uint8Array(4)),g===void 0&&(g=0),d[g+0]=u>>>0,d[g+1]=u>>>8,d[g+2]=u>>>16,d[g+3]=u>>>24,d}Ye.writeUint32LE=_,Ye.writeInt32LE=_;function A(u,d){d===void 0&&(d=0);var g=c(u,d),E=c(u,d+4);return g*4294967296+E-(E>>31)*4294967296}Ye.readInt64BE=A;function P(u,d){d===void 0&&(d=0);var g=l(u,d),E=l(u,d+4);return g*4294967296+E}Ye.readUint64BE=P;function S(u,d){d===void 0&&(d=0);var g=h(u,d),E=h(u,d+4);return E*4294967296+g-(g>>31)*4294967296}Ye.readInt64LE=S;function R(u,d){d===void 0&&(d=0);var g=p(u,d),E=p(u,d+4);return E*4294967296+g}Ye.readUint64LE=R;function B(u,d,g){return d===void 0&&(d=new Uint8Array(8)),g===void 0&&(g=0),v(u/4294967296>>>0,d,g),v(u>>>0,d,g+4),d}Ye.writeUint64BE=B,Ye.writeInt64BE=B;function T(u,d,g){return d===void 0&&(d=new Uint8Array(8)),g===void 0&&(g=0),_(u>>>0,d,g),_(u/4294967296>>>0,d,g+4),d}Ye.writeUint64LE=T,Ye.writeInt64LE=T;function k(u,d,g){if(g===void 0&&(g=0),u%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(u/8>d.length-g)throw new Error("readUintBE: array is too short for the given bitLength");for(var E=0,M=1,O=u/8+g-1;O>=g;O--)E+=d[O]*M,M*=256;return E}Ye.readUintBE=k;function I(u,d,g){if(g===void 0&&(g=0),u%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(u/8>d.length-g)throw new Error("readUintLE: array is too short for the given bitLength");for(var E=0,M=1,O=g;O<g+u/8;O++)E+=d[O]*M,M*=256;return E}Ye.readUintLE=I;function N(u,d,g,E){if(g===void 0&&(g=new Uint8Array(u/8)),E===void 0&&(E=0),u%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(d))throw new Error("writeUintBE value must be an integer");for(var M=1,O=u/8+E-1;O>=E;O--)g[O]=d/M&255,M*=256;return g}Ye.writeUintBE=N;function C(u,d,g,E){if(g===void 0&&(g=new Uint8Array(u/8)),E===void 0&&(E=0),u%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(d))throw new Error("writeUintLE value must be an integer");for(var M=1,O=E;O<E+u/8;O++)g[O]=d/M&255,M*=256;return g}Ye.writeUintLE=C;function b(u,d){d===void 0&&(d=0);var g=new DataView(u.buffer,u.byteOffset,u.byteLength);return g.getFloat32(d)}Ye.readFloat32BE=b;function D(u,d){d===void 0&&(d=0);var g=new DataView(u.buffer,u.byteOffset,u.byteLength);return g.getFloat32(d,!0)}Ye.readFloat32LE=D;function U(u,d){d===void 0&&(d=0);var g=new DataView(u.buffer,u.byteOffset,u.byteLength);return g.getFloat64(d)}Ye.readFloat64BE=U;function j(u,d){d===void 0&&(d=0);var g=new DataView(u.buffer,u.byteOffset,u.byteLength);return g.getFloat64(d,!0)}Ye.readFloat64LE=j;function q(u,d,g){d===void 0&&(d=new Uint8Array(4)),g===void 0&&(g=0);var E=new DataView(d.buffer,d.byteOffset,d.byteLength);return E.setFloat32(g,u),d}Ye.writeFloat32BE=q;function F(u,d,g){d===void 0&&(d=new Uint8Array(4)),g===void 0&&(g=0);var E=new DataView(d.buffer,d.byteOffset,d.byteLength);return E.setFloat32(g,u,!0),d}Ye.writeFloat32LE=F;function w(u,d,g){d===void 0&&(d=new Uint8Array(8)),g===void 0&&(g=0);var E=new DataView(d.buffer,d.byteOffset,d.byteLength);return E.setFloat64(g,u),d}Ye.writeFloat64BE=w;function a(u,d,g){d===void 0&&(d=new Uint8Array(8)),g===void 0&&(g=0);var E=new DataView(d.buffer,d.byteOffset,d.byteLength);return E.setFloat64(g,u,!0),d}return Ye.writeFloat64LE=a,Ye}var Xc={},Xm;function Yi(){if(Xm)return Xc;Xm=1,Object.defineProperty(Xc,"__esModule",{value:!0});function r(e){for(var t=0;t<e.length;t++)e[t]=0;return e}return Xc.wipe=r,Xc}var eb;function n9(){if(eb)return fa;eb=1,Object.defineProperty(fa,"__esModule",{value:!0});var r=Zc(),e=Yi(),t=20;function i(c,l,h){for(var p=1634760805,v=857760878,_=2036477234,A=1797285236,P=h[3]<<24|h[2]<<16|h[1]<<8|h[0],S=h[7]<<24|h[6]<<16|h[5]<<8|h[4],R=h[11]<<24|h[10]<<16|h[9]<<8|h[8],B=h[15]<<24|h[14]<<16|h[13]<<8|h[12],T=h[19]<<24|h[18]<<16|h[17]<<8|h[16],k=h[23]<<24|h[22]<<16|h[21]<<8|h[20],I=h[27]<<24|h[26]<<16|h[25]<<8|h[24],N=h[31]<<24|h[30]<<16|h[29]<<8|h[28],C=l[3]<<24|l[2]<<16|l[1]<<8|l[0],b=l[7]<<24|l[6]<<16|l[5]<<8|l[4],D=l[11]<<24|l[10]<<16|l[9]<<8|l[8],U=l[15]<<24|l[14]<<16|l[13]<<8|l[12],j=p,q=v,F=_,w=A,a=P,u=S,d=R,g=B,E=T,M=k,O=I,m=N,f=C,x=b,$=D,y=U,L=0;L<t;L+=2)j=j+a|0,f^=j,f=f>>>16|f<<16,E=E+f|0,a^=E,a=a>>>20|a<<12,q=q+u|0,x^=q,x=x>>>16|x<<16,M=M+x|0,u^=M,u=u>>>20|u<<12,F=F+d|0,$^=F,$=$>>>16|$<<16,O=O+$|0,d^=O,d=d>>>20|d<<12,w=w+g|0,y^=w,y=y>>>16|y<<16,m=m+y|0,g^=m,g=g>>>20|g<<12,F=F+d|0,$^=F,$=$>>>24|$<<8,O=O+$|0,d^=O,d=d>>>25|d<<7,w=w+g|0,y^=w,y=y>>>24|y<<8,m=m+y|0,g^=m,g=g>>>25|g<<7,q=q+u|0,x^=q,x=x>>>24|x<<8,M=M+x|0,u^=M,u=u>>>25|u<<7,j=j+a|0,f^=j,f=f>>>24|f<<8,E=E+f|0,a^=E,a=a>>>25|a<<7,j=j+u|0,y^=j,y=y>>>16|y<<16,O=O+y|0,u^=O,u=u>>>20|u<<12,q=q+d|0,f^=q,f=f>>>16|f<<16,m=m+f|0,d^=m,d=d>>>20|d<<12,F=F+g|0,x^=F,x=x>>>16|x<<16,E=E+x|0,g^=E,g=g>>>20|g<<12,w=w+a|0,$^=w,$=$>>>16|$<<16,M=M+$|0,a^=M,a=a>>>20|a<<12,F=F+g|0,x^=F,x=x>>>24|x<<8,E=E+x|0,g^=E,g=g>>>25|g<<7,w=w+a|0,$^=w,$=$>>>24|$<<8,M=M+$|0,a^=M,a=a>>>25|a<<7,q=q+d|0,f^=q,f=f>>>24|f<<8,m=m+f|0,d^=m,d=d>>>25|d<<7,j=j+u|0,y^=j,y=y>>>24|y<<8,O=O+y|0,u^=O,u=u>>>25|u<<7;r.writeUint32LE(j+p|0,c,0),r.writeUint32LE(q+v|0,c,4),r.writeUint32LE(F+_|0,c,8),r.writeUint32LE(w+A|0,c,12),r.writeUint32LE(a+P|0,c,16),r.writeUint32LE(u+S|0,c,20),r.writeUint32LE(d+R|0,c,24),r.writeUint32LE(g+B|0,c,28),r.writeUint32LE(E+T|0,c,32),r.writeUint32LE(M+k|0,c,36),r.writeUint32LE(O+I|0,c,40),r.writeUint32LE(m+N|0,c,44),r.writeUint32LE(f+C|0,c,48),r.writeUint32LE(x+b|0,c,52),r.writeUint32LE($+D|0,c,56),r.writeUint32LE(y+U|0,c,60)}function n(c,l,h,p,v){if(v===void 0&&(v=0),c.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(p.length<h.length)throw new Error("ChaCha: destination is shorter than source");var _,A;if(v===0){if(l.length!==8&&l.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");_=new Uint8Array(16),A=_.length-l.length,_.set(l,A)}else{if(l.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");_=l,A=v}for(var P=new Uint8Array(64),S=0;S<h.length;S+=64){i(P,_,c);for(var R=S;R<S+64&&R<h.length;R++)p[R]=h[R]^P[R-S];o(_,0,A)}return e.wipe(P),v===0&&e.wipe(_),p}fa.streamXOR=n;function s(c,l,h,p){return p===void 0&&(p=0),e.wipe(h),n(c,l,h,h,p)}fa.stream=s;function o(c,l,h){for(var p=1;h--;)p=p+(c[l]&255)|0,c[l]=p&255,p>>>=8,l++;if(p>0)throw new Error("ChaCha: counter overflow")}return fa}var su={},xs={},tb;function ou(){if(tb)return xs;tb=1,Object.defineProperty(xs,"__esModule",{value:!0});function r(n,s,o){return~(n-1)&s|n-1&o}xs.select=r;function e(n,s){return(n|0)-(s|0)-1>>>31&1}xs.lessOrEqual=e;function t(n,s){if(n.length!==s.length)return 0;for(var o=0,c=0;c<n.length;c++)o|=n[c]^s[c];return 1&o-1>>>8}xs.compare=t;function i(n,s){return n.length===0||s.length===0?!1:t(n,s)!==0}return xs.equal=i,xs}var rb;function s9(){return rb||(rb=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=ou(),t=Yi();r.DIGEST_LENGTH=16;var i=(function(){function o(c){this.digestLength=r.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var l=c[0]|c[1]<<8;this._r[0]=l&8191;var h=c[2]|c[3]<<8;this._r[1]=(l>>>13|h<<3)&8191;var p=c[4]|c[5]<<8;this._r[2]=(h>>>10|p<<6)&7939;var v=c[6]|c[7]<<8;this._r[3]=(p>>>7|v<<9)&8191;var _=c[8]|c[9]<<8;this._r[4]=(v>>>4|_<<12)&255,this._r[5]=_>>>1&8190;var A=c[10]|c[11]<<8;this._r[6]=(_>>>14|A<<2)&8191;var P=c[12]|c[13]<<8;this._r[7]=(A>>>11|P<<5)&8065;var S=c[14]|c[15]<<8;this._r[8]=(P>>>8|S<<8)&8191,this._r[9]=S>>>5&127,this._pad[0]=c[16]|c[17]<<8,this._pad[1]=c[18]|c[19]<<8,this._pad[2]=c[20]|c[21]<<8,this._pad[3]=c[22]|c[23]<<8,this._pad[4]=c[24]|c[25]<<8,this._pad[5]=c[26]|c[27]<<8,this._pad[6]=c[28]|c[29]<<8,this._pad[7]=c[30]|c[31]<<8}return o.prototype._blocks=function(c,l,h){for(var p=this._fin?0:2048,v=this._h[0],_=this._h[1],A=this._h[2],P=this._h[3],S=this._h[4],R=this._h[5],B=this._h[6],T=this._h[7],k=this._h[8],I=this._h[9],N=this._r[0],C=this._r[1],b=this._r[2],D=this._r[3],U=this._r[4],j=this._r[5],q=this._r[6],F=this._r[7],w=this._r[8],a=this._r[9];h>=16;){var u=c[l+0]|c[l+1]<<8;v+=u&8191;var d=c[l+2]|c[l+3]<<8;_+=(u>>>13|d<<3)&8191;var g=c[l+4]|c[l+5]<<8;A+=(d>>>10|g<<6)&8191;var E=c[l+6]|c[l+7]<<8;P+=(g>>>7|E<<9)&8191;var M=c[l+8]|c[l+9]<<8;S+=(E>>>4|M<<12)&8191,R+=M>>>1&8191;var O=c[l+10]|c[l+11]<<8;B+=(M>>>14|O<<2)&8191;var m=c[l+12]|c[l+13]<<8;T+=(O>>>11|m<<5)&8191;var f=c[l+14]|c[l+15]<<8;k+=(m>>>8|f<<8)&8191,I+=f>>>5|p;var x=0,$=x;$+=v*N,$+=_*(5*a),$+=A*(5*w),$+=P*(5*F),$+=S*(5*q),x=$>>>13,$&=8191,$+=R*(5*j),$+=B*(5*U),$+=T*(5*D),$+=k*(5*b),$+=I*(5*C),x+=$>>>13,$&=8191;var y=x;y+=v*C,y+=_*N,y+=A*(5*a),y+=P*(5*w),y+=S*(5*F),x=y>>>13,y&=8191,y+=R*(5*q),y+=B*(5*j),y+=T*(5*U),y+=k*(5*D),y+=I*(5*b),x+=y>>>13,y&=8191;var L=x;L+=v*b,L+=_*C,L+=A*N,L+=P*(5*a),L+=S*(5*w),x=L>>>13,L&=8191,L+=R*(5*F),L+=B*(5*q),L+=T*(5*j),L+=k*(5*U),L+=I*(5*D),x+=L>>>13,L&=8191;var K=x;K+=v*D,K+=_*b,K+=A*C,K+=P*N,K+=S*(5*a),x=K>>>13,K&=8191,K+=R*(5*w),K+=B*(5*F),K+=T*(5*q),K+=k*(5*j),K+=I*(5*U),x+=K>>>13,K&=8191;var H=x;H+=v*U,H+=_*D,H+=A*b,H+=P*C,H+=S*N,x=H>>>13,H&=8191,H+=R*(5*a),H+=B*(5*w),H+=T*(5*F),H+=k*(5*q),H+=I*(5*j),x+=H>>>13,H&=8191;var V=x;V+=v*j,V+=_*U,V+=A*D,V+=P*b,V+=S*C,x=V>>>13,V&=8191,V+=R*N,V+=B*(5*a),V+=T*(5*w),V+=k*(5*F),V+=I*(5*q),x+=V>>>13,V&=8191;var Z=x;Z+=v*q,Z+=_*j,Z+=A*U,Z+=P*D,Z+=S*b,x=Z>>>13,Z&=8191,Z+=R*C,Z+=B*N,Z+=T*(5*a),Z+=k*(5*w),Z+=I*(5*F),x+=Z>>>13,Z&=8191;var J=x;J+=v*F,J+=_*q,J+=A*j,J+=P*U,J+=S*D,x=J>>>13,J&=8191,J+=R*b,J+=B*C,J+=T*N,J+=k*(5*a),J+=I*(5*w),x+=J>>>13,J&=8191;var Y=x;Y+=v*w,Y+=_*F,Y+=A*q,Y+=P*j,Y+=S*U,x=Y>>>13,Y&=8191,Y+=R*D,Y+=B*b,Y+=T*C,Y+=k*N,Y+=I*(5*a),x+=Y>>>13,Y&=8191;var ye=x;ye+=v*a,ye+=_*w,ye+=A*F,ye+=P*q,ye+=S*j,x=ye>>>13,ye&=8191,ye+=R*U,ye+=B*D,ye+=T*b,ye+=k*C,ye+=I*N,x+=ye>>>13,ye&=8191,x=(x<<2)+x|0,x=x+$|0,$=x&8191,x=x>>>13,y+=x,v=$,_=y,A=L,P=K,S=H,R=V,B=Z,T=J,k=Y,I=ye,l+=16,h-=16}this._h[0]=v,this._h[1]=_,this._h[2]=A,this._h[3]=P,this._h[4]=S,this._h[5]=R,this._h[6]=B,this._h[7]=T,this._h[8]=k,this._h[9]=I},o.prototype.finish=function(c,l){l===void 0&&(l=0);var h=new Uint16Array(10),p,v,_,A;if(this._leftover){for(A=this._leftover,this._buffer[A++]=1;A<16;A++)this._buffer[A]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(p=this._h[1]>>>13,this._h[1]&=8191,A=2;A<10;A++)this._h[A]+=p,p=this._h[A]>>>13,this._h[A]&=8191;for(this._h[0]+=p*5,p=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=p,p=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=p,h[0]=this._h[0]+5,p=h[0]>>>13,h[0]&=8191,A=1;A<10;A++)h[A]=this._h[A]+p,p=h[A]>>>13,h[A]&=8191;for(h[9]-=8192,v=(p^1)-1,A=0;A<10;A++)h[A]&=v;for(v=~v,A=0;A<10;A++)this._h[A]=this._h[A]&v|h[A];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,_=this._h[0]+this._pad[0],this._h[0]=_&65535,A=1;A<8;A++)_=(this._h[A]+this._pad[A]|0)+(_>>>16)|0,this._h[A]=_&65535;return c[l+0]=this._h[0]>>>0,c[l+1]=this._h[0]>>>8,c[l+2]=this._h[1]>>>0,c[l+3]=this._h[1]>>>8,c[l+4]=this._h[2]>>>0,c[l+5]=this._h[2]>>>8,c[l+6]=this._h[3]>>>0,c[l+7]=this._h[3]>>>8,c[l+8]=this._h[4]>>>0,c[l+9]=this._h[4]>>>8,c[l+10]=this._h[5]>>>0,c[l+11]=this._h[5]>>>8,c[l+12]=this._h[6]>>>0,c[l+13]=this._h[6]>>>8,c[l+14]=this._h[7]>>>0,c[l+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(c){var l=0,h=c.length,p;if(this._leftover){p=16-this._leftover,p>h&&(p=h);for(var v=0;v<p;v++)this._buffer[this._leftover+v]=c[l+v];if(h-=p,l+=p,this._leftover+=p,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(h>=16&&(p=h-h%16,this._blocks(c,l,p),l+=p,h-=p),h){for(var v=0;v<h;v++)this._buffer[this._leftover+v]=c[l+v];this._leftover+=h}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var c=new Uint8Array(16);return this.finish(c),c},o.prototype.clean=function(){return t.wipe(this._buffer),t.wipe(this._r),t.wipe(this._h),t.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o})();r.Poly1305=i;function n(o,c){var l=new i(o);l.update(c);var h=l.digest();return l.clean(),h}r.oneTimeAuth=n;function s(o,c){return o.length!==r.DIGEST_LENGTH||c.length!==r.DIGEST_LENGTH?!1:e.equal(o,c)}r.equal=s})(su)),su}var ib;function o9(){return ib||(ib=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=n9(),t=s9(),i=Yi(),n=Zc(),s=ou();r.KEY_LENGTH=32,r.NONCE_LENGTH=12,r.TAG_LENGTH=16;var o=new Uint8Array(16),c=(function(){function l(h){if(this.nonceLength=r.NONCE_LENGTH,this.tagLength=r.TAG_LENGTH,h.length!==r.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(h)}return l.prototype.seal=function(h,p,v,_){if(h.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var A=new Uint8Array(16);A.set(h,A.length-h.length);var P=new Uint8Array(32);e.stream(this._key,A,P,4);var S=p.length+this.tagLength,R;if(_){if(_.length!==S)throw new Error("ChaCha20Poly1305: incorrect destination length");R=_}else R=new Uint8Array(S);return e.streamXOR(this._key,A,p,R,4),this._authenticate(R.subarray(R.length-this.tagLength,R.length),P,R.subarray(0,R.length-this.tagLength),v),i.wipe(A),R},l.prototype.open=function(h,p,v,_){if(h.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(p.length<this.tagLength)return null;var A=new Uint8Array(16);A.set(h,A.length-h.length);var P=new Uint8Array(32);e.stream(this._key,A,P,4);var S=new Uint8Array(this.tagLength);if(this._authenticate(S,P,p.subarray(0,p.length-this.tagLength),v),!s.equal(S,p.subarray(p.length-this.tagLength,p.length)))return null;var R=p.length-this.tagLength,B;if(_){if(_.length!==R)throw new Error("ChaCha20Poly1305: incorrect destination length");B=_}else B=new Uint8Array(R);return e.streamXOR(this._key,A,p.subarray(0,p.length-this.tagLength),B,4),i.wipe(A),B},l.prototype.clean=function(){return i.wipe(this._key),this},l.prototype._authenticate=function(h,p,v,_){var A=new t.Poly1305(p);_&&(A.update(_),_.length%16>0&&A.update(o.subarray(_.length%16))),A.update(v),v.length%16>0&&A.update(o.subarray(v.length%16));var P=new Uint8Array(8);_&&n.writeUint64LE(_.length,P),A.update(P),n.writeUint64LE(v.length,P),A.update(P);for(var S=A.digest(),R=0;R<S.length;R++)h[R]=S[R];A.clean(),i.wipe(S),i.wipe(P)},l})();r.ChaCha20Poly1305=c})(iu)),iu}var nb=o9(),el={},to={},tl={},sb;function a9(){if(sb)return tl;sb=1,Object.defineProperty(tl,"__esModule",{value:!0});function r(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}return tl.isSerializableHash=r,tl}var ob;function c9(){if(ob)return to;ob=1,Object.defineProperty(to,"__esModule",{value:!0});var r=a9(),e=ou(),t=Yi(),i=(function(){function s(o,c){this._finished=!1,this._inner=new o,this._outer=new o,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var l=new Uint8Array(this.blockSize);c.length>this.blockSize?this._inner.update(c).finish(l).clean():l.set(c);for(var h=0;h<l.length;h++)l[h]^=54;this._inner.update(l);for(var h=0;h<l.length;h++)l[h]^=106;this._outer.update(l),r.isSerializableHash(this._inner)&&r.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),t.wipe(l)}return s.prototype.reset=function(){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},s.prototype.clean=function(){r.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),r.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},s.prototype.update=function(o){return this._inner.update(o),this},s.prototype.finish=function(o){return this._finished?(this._outer.finish(o),this):(this._inner.finish(o),this._outer.update(o.subarray(0,this.digestLength)).finish(o),this._finished=!0,this)},s.prototype.digest=function(){var o=new Uint8Array(this.digestLength);return this.finish(o),o},s.prototype.saveState=function(){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},s.prototype.restoreState=function(o){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(o),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},s.prototype.cleanSavedState=function(o){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(o)},s})();to.HMAC=i;function n(s,o,c){var l=new i(s,o);l.update(c);var h=l.digest();return l.clean(),h}return to.hmac=n,to.equal=e.equal,to}var ab;function l9(){if(ab)return el;ab=1,Object.defineProperty(el,"__esModule",{value:!0});var r=c9(),e=Yi(),t=(function(){function i(n,s,o,c){o===void 0&&(o=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=n,this._info=c;var l=r.hmac(this._hash,o,s);this._hmac=new r.HMAC(n,l),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return i.prototype._fillBuffer=function(){this._counter[0]++;var n=this._counter[0];if(n===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),n>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},i.prototype.expand=function(n){for(var s=new Uint8Array(n),o=0;o<s.length;o++)this._bufpos===this._buffer.length&&this._fillBuffer(),s[o]=this._buffer[this._bufpos++];return s},i.prototype.clean=function(){this._hmac.clean(),e.wipe(this._buffer),e.wipe(this._counter),this._bufpos=0},i})();return el.HKDF=t,el}var f9=l9(),au={},ua={},ha={},cb;function u9(){if(cb)return ha;cb=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.BrowserRandomSource=void 0;const r=65536;class e{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const i=typeof self<"u"?self.crypto||self.msCrypto:null;i&&i.getRandomValues!==void 0&&(this._crypto=i,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(i){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const n=new Uint8Array(i);for(let s=0;s<n.length;s+=r)this._crypto.getRandomValues(n.subarray(s,s+Math.min(n.length-s,r)));return n}}return ha.BrowserRandomSource=e,ha}function h9(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var da={},lb;function d9(){if(lb)return da;lb=1,Object.defineProperty(da,"__esModule",{value:!0}),da.NodeRandomSource=void 0;const r=Yi();class e{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof h9<"u"){const i=Fl;i&&i.randomBytes&&(this._crypto=i,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(i){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let n=this._crypto.randomBytes(i);if(n.length!==i)throw new Error("NodeRandomSource: got fewer bytes than requested");const s=new Uint8Array(i);for(let o=0;o<s.length;o++)s[o]=n[o];return(0,r.wipe)(n),s}}return da.NodeRandomSource=e,da}var fb;function p9(){if(fb)return ua;fb=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.SystemRandomSource=void 0;const r=u9(),e=d9();class t{constructor(){if(this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new e.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(n){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(n)}}return ua.SystemRandomSource=t,ua}var ub;function hb(){return ub||(ub=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomStringForEntropy=r.randomString=r.randomUint32=r.randomBytes=r.defaultRandomSource=void 0;const e=p9(),t=Zc(),i=Yi();r.defaultRandomSource=new e.SystemRandomSource;function n(h,p=r.defaultRandomSource){return p.randomBytes(h)}r.randomBytes=n;function s(h=r.defaultRandomSource){const p=n(4,h),v=(0,t.readUint32LE)(p);return(0,i.wipe)(p),v}r.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function c(h,p=o,v=r.defaultRandomSource){if(p.length<2)throw new Error("randomString charset is too short");if(p.length>256)throw new Error("randomString charset is too long");let _="";const A=p.length,P=256-256%A;for(;h>0;){const S=n(Math.ceil(h*256/P),v);for(let R=0;R<S.length&&h>0;R++){const B=S[R];B<P&&(_+=p.charAt(B%A),h--)}(0,i.wipe)(S)}return _}r.randomString=c;function l(h,p=o,v=r.defaultRandomSource){const _=Math.ceil(h/(Math.log(p.length)/Math.LN2));return c(_,p,v)}r.randomStringForEntropy=l})(au)),au}var db=hb(),cu={},pb;function g9(){return pb||(pb=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Zc(),t=Yi();r.DIGEST_LENGTH=32,r.BLOCK_SIZE=64;var i=(function(){function c(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return c.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},c.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},c.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},c.prototype.update=function(l,h){if(h===void 0&&(h=l.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var p=0;if(this._bytesHashed+=h,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&h>0;)this._buffer[this._bufferLength++]=l[p++],h--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(h>=this.blockSize&&(p=s(this._temp,this._state,l,p,h),h%=this.blockSize);h>0;)this._buffer[this._bufferLength++]=l[p++],h--;return this},c.prototype.finish=function(l){if(!this._finished){var h=this._bytesHashed,p=this._bufferLength,v=h/536870912|0,_=h<<3,A=h%64<56?64:128;this._buffer[p]=128;for(var P=p+1;P<A-8;P++)this._buffer[P]=0;e.writeUint32BE(v,this._buffer,A-8),e.writeUint32BE(_,this._buffer,A-4),s(this._temp,this._state,this._buffer,0,A),this._finished=!0}for(var P=0;P<this.digestLength/4;P++)e.writeUint32BE(this._state[P],l,P*4);return this},c.prototype.digest=function(){var l=new Uint8Array(this.digestLength);return this.finish(l),l},c.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},c.prototype.restoreState=function(l){return this._state.set(l.state),this._bufferLength=l.bufferLength,l.buffer&&this._buffer.set(l.buffer),this._bytesHashed=l.bytesHashed,this._finished=!1,this},c.prototype.cleanSavedState=function(l){t.wipe(l.state),l.buffer&&t.wipe(l.buffer),l.bufferLength=0,l.bytesHashed=0},c})();r.SHA256=i;var n=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(c,l,h,p,v){for(;v>=64;){for(var _=l[0],A=l[1],P=l[2],S=l[3],R=l[4],B=l[5],T=l[6],k=l[7],I=0;I<16;I++){var N=p+I*4;c[I]=e.readUint32BE(h,N)}for(var I=16;I<64;I++){var C=c[I-2],b=(C>>>17|C<<15)^(C>>>19|C<<13)^C>>>10;C=c[I-15];var D=(C>>>7|C<<25)^(C>>>18|C<<14)^C>>>3;c[I]=(b+c[I-7]|0)+(D+c[I-16]|0)}for(var I=0;I<64;I++){var b=(((R>>>6|R<<26)^(R>>>11|R<<21)^(R>>>25|R<<7))+(R&B^~R&T)|0)+(k+(n[I]+c[I]|0)|0)|0,D=((_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10))+(_&A^_&P^A&P)|0;k=T,T=B,B=R,R=S+b|0,S=P,P=A,A=_,_=b+D|0}l[0]+=_,l[1]+=A,l[2]+=P,l[3]+=S,l[4]+=R,l[5]+=B,l[6]+=T,l[7]+=k,p+=64,v-=64}return p}function o(c){var l=new i;l.update(c);var h=l.digest();return l.clean(),h}r.hash=o})(cu)),cu}var lu=g9(),fu={},gb;function m9(){return gb||(gb=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.sharedKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.scalarMultBase=r.scalarMult=r.SHARED_KEY_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=void 0;const e=hb(),t=Yi();r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=32,r.SHARED_KEY_LENGTH=32;function i(I){const N=new Float64Array(16);if(I)for(let C=0;C<I.length;C++)N[C]=I[C];return N}const n=new Uint8Array(32);n[0]=9;const s=i([56129,1]);function o(I){let N=1;for(let C=0;C<16;C++){let b=I[C]+N+65535;N=Math.floor(b/65536),I[C]=b-N*65536}I[0]+=N-1+37*(N-1)}function c(I,N,C){const b=~(C-1);for(let D=0;D<16;D++){const U=b&(I[D]^N[D]);I[D]^=U,N[D]^=U}}function l(I,N){const C=i(),b=i();for(let D=0;D<16;D++)b[D]=N[D];o(b),o(b),o(b);for(let D=0;D<2;D++){C[0]=b[0]-65517;for(let j=1;j<15;j++)C[j]=b[j]-65535-(C[j-1]>>16&1),C[j-1]&=65535;C[15]=b[15]-32767-(C[14]>>16&1);const U=C[15]>>16&1;C[14]&=65535,c(b,C,1-U)}for(let D=0;D<16;D++)I[2*D]=b[D]&255,I[2*D+1]=b[D]>>8}function h(I,N){for(let C=0;C<16;C++)I[C]=N[2*C]+(N[2*C+1]<<8);I[15]&=32767}function p(I,N,C){for(let b=0;b<16;b++)I[b]=N[b]+C[b]}function v(I,N,C){for(let b=0;b<16;b++)I[b]=N[b]-C[b]}function _(I,N,C){let b,D,U=0,j=0,q=0,F=0,w=0,a=0,u=0,d=0,g=0,E=0,M=0,O=0,m=0,f=0,x=0,$=0,y=0,L=0,K=0,H=0,V=0,Z=0,J=0,Y=0,ye=0,X=0,ne=0,wt=0,Ee=0,_e=0,Bt=0,ue=C[0],fe=C[1],nt=C[2],he=C[3],ce=C[4],et=C[5],de=C[6],le=C[7],at=C[8],pe=C[9],oe=C[10],ft=C[11],me=C[12],ve=C[13],ut=C[14],ge=C[15];b=N[0],U+=b*ue,j+=b*fe,q+=b*nt,F+=b*he,w+=b*ce,a+=b*et,u+=b*de,d+=b*le,g+=b*at,E+=b*pe,M+=b*oe,O+=b*ft,m+=b*me,f+=b*ve,x+=b*ut,$+=b*ge,b=N[1],j+=b*ue,q+=b*fe,F+=b*nt,w+=b*he,a+=b*ce,u+=b*et,d+=b*de,g+=b*le,E+=b*at,M+=b*pe,O+=b*oe,m+=b*ft,f+=b*me,x+=b*ve,$+=b*ut,y+=b*ge,b=N[2],q+=b*ue,F+=b*fe,w+=b*nt,a+=b*he,u+=b*ce,d+=b*et,g+=b*de,E+=b*le,M+=b*at,O+=b*pe,m+=b*oe,f+=b*ft,x+=b*me,$+=b*ve,y+=b*ut,L+=b*ge,b=N[3],F+=b*ue,w+=b*fe,a+=b*nt,u+=b*he,d+=b*ce,g+=b*et,E+=b*de,M+=b*le,O+=b*at,m+=b*pe,f+=b*oe,x+=b*ft,$+=b*me,y+=b*ve,L+=b*ut,K+=b*ge,b=N[4],w+=b*ue,a+=b*fe,u+=b*nt,d+=b*he,g+=b*ce,E+=b*et,M+=b*de,O+=b*le,m+=b*at,f+=b*pe,x+=b*oe,$+=b*ft,y+=b*me,L+=b*ve,K+=b*ut,H+=b*ge,b=N[5],a+=b*ue,u+=b*fe,d+=b*nt,g+=b*he,E+=b*ce,M+=b*et,O+=b*de,m+=b*le,f+=b*at,x+=b*pe,$+=b*oe,y+=b*ft,L+=b*me,K+=b*ve,H+=b*ut,V+=b*ge,b=N[6],u+=b*ue,d+=b*fe,g+=b*nt,E+=b*he,M+=b*ce,O+=b*et,m+=b*de,f+=b*le,x+=b*at,$+=b*pe,y+=b*oe,L+=b*ft,K+=b*me,H+=b*ve,V+=b*ut,Z+=b*ge,b=N[7],d+=b*ue,g+=b*fe,E+=b*nt,M+=b*he,O+=b*ce,m+=b*et,f+=b*de,x+=b*le,$+=b*at,y+=b*pe,L+=b*oe,K+=b*ft,H+=b*me,V+=b*ve,Z+=b*ut,J+=b*ge,b=N[8],g+=b*ue,E+=b*fe,M+=b*nt,O+=b*he,m+=b*ce,f+=b*et,x+=b*de,$+=b*le,y+=b*at,L+=b*pe,K+=b*oe,H+=b*ft,V+=b*me,Z+=b*ve,J+=b*ut,Y+=b*ge,b=N[9],E+=b*ue,M+=b*fe,O+=b*nt,m+=b*he,f+=b*ce,x+=b*et,$+=b*de,y+=b*le,L+=b*at,K+=b*pe,H+=b*oe,V+=b*ft,Z+=b*me,J+=b*ve,Y+=b*ut,ye+=b*ge,b=N[10],M+=b*ue,O+=b*fe,m+=b*nt,f+=b*he,x+=b*ce,$+=b*et,y+=b*de,L+=b*le,K+=b*at,H+=b*pe,V+=b*oe,Z+=b*ft,J+=b*me,Y+=b*ve,ye+=b*ut,X+=b*ge,b=N[11],O+=b*ue,m+=b*fe,f+=b*nt,x+=b*he,$+=b*ce,y+=b*et,L+=b*de,K+=b*le,H+=b*at,V+=b*pe,Z+=b*oe,J+=b*ft,Y+=b*me,ye+=b*ve,X+=b*ut,ne+=b*ge,b=N[12],m+=b*ue,f+=b*fe,x+=b*nt,$+=b*he,y+=b*ce,L+=b*et,K+=b*de,H+=b*le,V+=b*at,Z+=b*pe,J+=b*oe,Y+=b*ft,ye+=b*me,X+=b*ve,ne+=b*ut,wt+=b*ge,b=N[13],f+=b*ue,x+=b*fe,$+=b*nt,y+=b*he,L+=b*ce,K+=b*et,H+=b*de,V+=b*le,Z+=b*at,J+=b*pe,Y+=b*oe,ye+=b*ft,X+=b*me,ne+=b*ve,wt+=b*ut,Ee+=b*ge,b=N[14],x+=b*ue,$+=b*fe,y+=b*nt,L+=b*he,K+=b*ce,H+=b*et,V+=b*de,Z+=b*le,J+=b*at,Y+=b*pe,ye+=b*oe,X+=b*ft,ne+=b*me,wt+=b*ve,Ee+=b*ut,_e+=b*ge,b=N[15],$+=b*ue,y+=b*fe,L+=b*nt,K+=b*he,H+=b*ce,V+=b*et,Z+=b*de,J+=b*le,Y+=b*at,ye+=b*pe,X+=b*oe,ne+=b*ft,wt+=b*me,Ee+=b*ve,_e+=b*ut,Bt+=b*ge,U+=38*y,j+=38*L,q+=38*K,F+=38*H,w+=38*V,a+=38*Z,u+=38*J,d+=38*Y,g+=38*ye,E+=38*X,M+=38*ne,O+=38*wt,m+=38*Ee,f+=38*_e,x+=38*Bt,D=1,b=U+D+65535,D=Math.floor(b/65536),U=b-D*65536,b=j+D+65535,D=Math.floor(b/65536),j=b-D*65536,b=q+D+65535,D=Math.floor(b/65536),q=b-D*65536,b=F+D+65535,D=Math.floor(b/65536),F=b-D*65536,b=w+D+65535,D=Math.floor(b/65536),w=b-D*65536,b=a+D+65535,D=Math.floor(b/65536),a=b-D*65536,b=u+D+65535,D=Math.floor(b/65536),u=b-D*65536,b=d+D+65535,D=Math.floor(b/65536),d=b-D*65536,b=g+D+65535,D=Math.floor(b/65536),g=b-D*65536,b=E+D+65535,D=Math.floor(b/65536),E=b-D*65536,b=M+D+65535,D=Math.floor(b/65536),M=b-D*65536,b=O+D+65535,D=Math.floor(b/65536),O=b-D*65536,b=m+D+65535,D=Math.floor(b/65536),m=b-D*65536,b=f+D+65535,D=Math.floor(b/65536),f=b-D*65536,b=x+D+65535,D=Math.floor(b/65536),x=b-D*65536,b=$+D+65535,D=Math.floor(b/65536),$=b-D*65536,U+=D-1+37*(D-1),D=1,b=U+D+65535,D=Math.floor(b/65536),U=b-D*65536,b=j+D+65535,D=Math.floor(b/65536),j=b-D*65536,b=q+D+65535,D=Math.floor(b/65536),q=b-D*65536,b=F+D+65535,D=Math.floor(b/65536),F=b-D*65536,b=w+D+65535,D=Math.floor(b/65536),w=b-D*65536,b=a+D+65535,D=Math.floor(b/65536),a=b-D*65536,b=u+D+65535,D=Math.floor(b/65536),u=b-D*65536,b=d+D+65535,D=Math.floor(b/65536),d=b-D*65536,b=g+D+65535,D=Math.floor(b/65536),g=b-D*65536,b=E+D+65535,D=Math.floor(b/65536),E=b-D*65536,b=M+D+65535,D=Math.floor(b/65536),M=b-D*65536,b=O+D+65535,D=Math.floor(b/65536),O=b-D*65536,b=m+D+65535,D=Math.floor(b/65536),m=b-D*65536,b=f+D+65535,D=Math.floor(b/65536),f=b-D*65536,b=x+D+65535,D=Math.floor(b/65536),x=b-D*65536,b=$+D+65535,D=Math.floor(b/65536),$=b-D*65536,U+=D-1+37*(D-1),I[0]=U,I[1]=j,I[2]=q,I[3]=F,I[4]=w,I[5]=a,I[6]=u,I[7]=d,I[8]=g,I[9]=E,I[10]=M,I[11]=O,I[12]=m,I[13]=f,I[14]=x,I[15]=$}function A(I,N){_(I,N,N)}function P(I,N){const C=i();for(let b=0;b<16;b++)C[b]=N[b];for(let b=253;b>=0;b--)A(C,C),b!==2&&b!==4&&_(C,C,N);for(let b=0;b<16;b++)I[b]=C[b]}function S(I,N){const C=new Uint8Array(32),b=new Float64Array(80),D=i(),U=i(),j=i(),q=i(),F=i(),w=i();for(let g=0;g<31;g++)C[g]=I[g];C[31]=I[31]&127|64,C[0]&=248,h(b,N);for(let g=0;g<16;g++)U[g]=b[g];D[0]=q[0]=1;for(let g=254;g>=0;--g){const E=C[g>>>3]>>>(g&7)&1;c(D,U,E),c(j,q,E),p(F,D,j),v(D,D,j),p(j,U,q),v(U,U,q),A(q,F),A(w,D),_(D,j,D),_(j,U,F),p(F,D,j),v(D,D,j),A(U,D),v(j,q,w),_(D,j,s),p(D,D,q),_(j,j,D),_(D,q,w),_(q,U,b),A(U,F),c(D,U,E),c(j,q,E)}for(let g=0;g<16;g++)b[g+16]=D[g],b[g+32]=j[g],b[g+48]=U[g],b[g+64]=q[g];const a=b.subarray(32),u=b.subarray(16);P(a,a),_(u,u,a);const d=new Uint8Array(32);return l(d,u),d}r.scalarMult=S;function R(I){return S(I,n)}r.scalarMultBase=R;function B(I){if(I.length!==r.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`);const N=new Uint8Array(I);return{publicKey:R(N),secretKey:N}}r.generateKeyPairFromSeed=B;function T(I){const N=(0,e.randomBytes)(32,I),C=B(N);return(0,t.wipe)(N),C}r.generateKeyPair=T;function k(I,N,C=!1){if(I.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(N.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const b=S(I,N);if(C){let D=0;for(let U=0;U<b.length;U++)D|=b[U];if(D===0)throw new Error("X25519: invalid shared key")}return b}r.sharedKey=k})(fu)),fu}var mb=m9();function uu(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function bb(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?uu(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function xb(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));const t=bb(e);let i=0;for(const n of r)t.set(n,i),i+=n.length;return uu(t)}function b9(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var c=r.length,l=r.charAt(0),h=Math.log(c)/Math.log(256),p=Math.log(256)/Math.log(c);function v(P){if(P instanceof Uint8Array||(ArrayBuffer.isView(P)?P=new Uint8Array(P.buffer,P.byteOffset,P.byteLength):Array.isArray(P)&&(P=Uint8Array.from(P))),!(P instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(P.length===0)return"";for(var S=0,R=0,B=0,T=P.length;B!==T&&P[B]===0;)B++,S++;for(var k=(T-B)*p+1>>>0,I=new Uint8Array(k);B!==T;){for(var N=P[B],C=0,b=k-1;(N!==0||C<R)&&b!==-1;b--,C++)N+=256*I[b]>>>0,I[b]=N%c>>>0,N=N/c>>>0;if(N!==0)throw new Error("Non-zero carry");R=C,B++}for(var D=k-R;D!==k&&I[D]===0;)D++;for(var U=l.repeat(S);D<k;++D)U+=r.charAt(I[D]);return U}function _(P){if(typeof P!="string")throw new TypeError("Expected String");if(P.length===0)return new Uint8Array;var S=0;if(P[S]!==" "){for(var R=0,B=0;P[S]===l;)R++,S++;for(var T=(P.length-S)*h+1>>>0,k=new Uint8Array(T);P[S];){var I=t[P.charCodeAt(S)];if(I===255)return;for(var N=0,C=T-1;(I!==0||N<B)&&C!==-1;C--,N++)I+=c*k[C]>>>0,k[C]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");B=N,S++}if(P[S]!==" "){for(var b=T-B;b!==T&&k[b]===0;)b++;for(var D=new Uint8Array(R+(T-b)),U=R;b!==T;)D[U++]=k[b++];return D}}}function A(P){var S=_(P);if(S)return S;throw new Error(`Non-${e} character`)}return{encode:v,decodeUnsafe:_,decode:A}}var x9=b9,v9=x9;const w9=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},y9=r=>new TextEncoder().encode(r),E9=r=>new TextDecoder().decode(r);class _9{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class A9{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return vb(this,e)}}class S9{constructor(e){this.decoders=e}or(e){return vb(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const vb=(r,e)=>new S9({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class C9{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new _9(e,t,i),this.decoder=new A9(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const rl=({name:r,prefix:e,encode:t,decode:i})=>new C9(r,e,t,i),pa=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:n}=v9(t,e);return rl({prefix:r,name:e,encode:i,decode:s=>w9(n(s))})},M9=(r,e,t,i)=>{const n={};for(let p=0;p<e.length;++p)n[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*t/8|0);let c=0,l=0,h=0;for(let p=0;p<s;++p){const v=n[r[p]];if(v===void 0)throw new SyntaxError(`Non-${i} character`);l=l<<t|v,c+=t,c>=8&&(c-=8,o[h++]=255&l>>c)}if(c>=t||255&l<<8-c)throw new SyntaxError("Unexpected end of data");return o},I9=(r,e,t)=>{const i=e[e.length-1]==="=",n=(1<<t)-1;let s="",o=0,c=0;for(let l=0;l<r.length;++l)for(c=c<<8|r[l],o+=8;o>t;)o-=t,s+=e[n&c>>o];if(o&&(s+=e[n&c<<t-o]),i)for(;s.length*t&7;)s+="=";return s},rr=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>rl({prefix:e,name:r,encode(n){return I9(n,i,t)},decode(n){return M9(n,i,t,r)}}),P9=rl({prefix:"\0",name:"identity",encode:r=>E9(r),decode:r=>y9(r)}),R9=Object.freeze(Object.defineProperty({__proto__:null,identity:P9},Symbol.toStringTag,{value:"Module"})),D9=rr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),N9=Object.freeze(Object.defineProperty({__proto__:null,base2:D9},Symbol.toStringTag,{value:"Module"})),O9=rr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),T9=Object.freeze(Object.defineProperty({__proto__:null,base8:O9},Symbol.toStringTag,{value:"Module"})),k9=pa({prefix:"9",name:"base10",alphabet:"0123456789"}),B9=Object.freeze(Object.defineProperty({__proto__:null,base10:k9},Symbol.toStringTag,{value:"Module"})),$9=rr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),L9=rr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),U9=Object.freeze(Object.defineProperty({__proto__:null,base16:$9,base16upper:L9},Symbol.toStringTag,{value:"Module"})),F9=rr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),q9=rr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),j9=rr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),z9=rr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),H9=rr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),W9=rr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),K9=rr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),V9=rr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),G9=rr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),J9=Object.freeze(Object.defineProperty({__proto__:null,base32:F9,base32hex:H9,base32hexpad:K9,base32hexpadupper:V9,base32hexupper:W9,base32pad:j9,base32padupper:z9,base32upper:q9,base32z:G9},Symbol.toStringTag,{value:"Module"})),Q9=pa({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Y9=pa({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Z9=Object.freeze(Object.defineProperty({__proto__:null,base36:Q9,base36upper:Y9},Symbol.toStringTag,{value:"Module"})),X9=pa({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),e_=pa({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),t_=Object.freeze(Object.defineProperty({__proto__:null,base58btc:X9,base58flickr:e_},Symbol.toStringTag,{value:"Module"})),r_=rr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),i_=rr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),n_=rr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),s_=rr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),o_=Object.freeze(Object.defineProperty({__proto__:null,base64:r_,base64pad:i_,base64url:n_,base64urlpad:s_},Symbol.toStringTag,{value:"Module"})),wb=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),a_=wb.reduce((r,e,t)=>(r[t]=e,r),[]),c_=wb.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function l_(r){return r.reduce((e,t)=>(e+=a_[t],e),"")}function f_(r){const e=[];for(const t of r){const i=c_[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const u_=rl({prefix:"🚀",name:"base256emoji",encode:l_,decode:f_}),h_=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:u_},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;const yb={...R9,...N9,...T9,...B9,...U9,...J9,...Z9,...t_,...o_,...h_};function Eb(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const _b=Eb("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),hu=Eb("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=bb(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Ab={utf8:_b,"utf-8":_b,hex:yb.base16,latin1:hu,ascii:hu,binary:hu,...yb};function xi(r,e="utf8"){const t=Ab[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?uu(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function ei(r,e="utf8"){const t=Ab[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var Sb=function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return r.concat(s||Array.prototype.slice.call(e))},d_=(function(){function r(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return r})(),p_=(function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r})(),g_=(function(){function r(e,t,i,n){this.name=e,this.version=t,this.os=i,this.bot=n,this.type="bot-device"}return r})(),m_=(function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r})(),b_=(function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r})(),x_=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,v_=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Cb=3,w_=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",x_]],Mb=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function y_(r){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new b_:typeof navigator<"u"?__(navigator.userAgent):S_()}function E_(r){return r!==""&&w_.reduce(function(e,t){var i=t[0],n=t[1];if(e)return e;var s=n.exec(r);return!!s&&[i,s]},!1)}function __(r){var e=E_(r);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new m_;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<Cb&&(n=Sb(Sb([],n,!0),C_(Cb-n.length),!0)):n=[];var s=n.join("."),o=A_(r),c=v_.exec(r);return c&&c[1]?new g_(t,s,o,c[1]):new d_(t,s,o)}function A_(r){for(var e=0,t=Mb.length;e<t;e++){var i=Mb[e],n=i[0],s=i[1],o=s.exec(r);if(o)return n}return null}function S_(){var r=typeof process<"u"&&process.version;return r?new p_(process.version.slice(1)):null}function C_(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var xt={},Ib;function Pb(){if(Ib)return xt;Ib=1,Object.defineProperty(xt,"__esModule",{value:!0}),xt.getLocalStorage=xt.getLocalStorageOrThrow=xt.getCrypto=xt.getCryptoOrThrow=xt.getLocation=xt.getLocationOrThrow=xt.getNavigator=xt.getNavigatorOrThrow=xt.getDocument=xt.getDocumentOrThrow=xt.getFromWindowOrThrow=xt.getFromWindow=void 0;function r(_){let A;return typeof window<"u"&&typeof window[_]<"u"&&(A=window[_]),A}xt.getFromWindow=r;function e(_){const A=r(_);if(!A)throw new Error(`${_} is not defined in Window`);return A}xt.getFromWindowOrThrow=e;function t(){return e("document")}xt.getDocumentOrThrow=t;function i(){return r("document")}xt.getDocument=i;function n(){return e("navigator")}xt.getNavigatorOrThrow=n;function s(){return r("navigator")}xt.getNavigator=s;function o(){return e("location")}xt.getLocationOrThrow=o;function c(){return r("location")}xt.getLocation=c;function l(){return e("crypto")}xt.getCryptoOrThrow=l;function h(){return r("crypto")}xt.getCrypto=h;function p(){return e("localStorage")}xt.getLocalStorageOrThrow=p;function v(){return r("localStorage")}return xt.getLocalStorage=v,xt}var il=Pb(),ga={},Rb;function M_(){if(Rb)return ga;Rb=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.getWindowMetadata=void 0;const r=Pb();function e(){let t,i;try{t=r.getDocumentOrThrow(),i=r.getLocationOrThrow()}catch{return null}function n(){const A=t.getElementsByTagName("link"),P=[];for(let S=0;S<A.length;S++){const R=A[S],B=R.getAttribute("rel");if(B&&B.toLowerCase().indexOf("icon")>-1){const T=R.getAttribute("href");if(T)if(T.toLowerCase().indexOf("https:")===-1&&T.toLowerCase().indexOf("http:")===-1&&T.indexOf("//")!==0){let k=i.protocol+"//"+i.host;if(T.indexOf("/")===0)k+=T;else{const I=i.pathname.split("/");I.pop();const N=I.join("/");k+=N+"/"+T}P.push(k)}else if(T.indexOf("//")===0){const k=i.protocol+T;P.push(k)}else P.push(T)}}return P}function s(...A){const P=t.getElementsByTagName("meta");for(let S=0;S<P.length;S++){const R=P[S],B=["itemprop","property","name"].map(T=>R.getAttribute(T)).filter(T=>T?A.includes(T):!1);if(B.length&&B){const T=R.getAttribute("content");if(T)return T}}return""}function o(){let A=s("name","og:site_name","og:title","twitter:title");return A||(A=t.title),A}function c(){return s("description","og:description","twitter:description","keywords")}const l=o(),h=c(),p=i.origin,v=n();return{description:h,url:p,icons:v,name:l}}return ga.getWindowMetadata=e,ga}var I_=M_(),du={},pu,Db;function P_(){return Db||(Db=1,pu=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),pu}var gu,Nb;function R_(){if(Nb)return gu;Nb=1;var r="%[a-f0-9]{2}",e=new RegExp("("+r+")|([^%]+?)","gi"),t=new RegExp("("+r+")+","gi");function i(o,c){try{return[decodeURIComponent(o.join(""))]}catch{}if(o.length===1)return o;c=c||1;var l=o.slice(0,c),h=o.slice(c);return Array.prototype.concat.call([],i(l),i(h))}function n(o){try{return decodeURIComponent(o)}catch{for(var c=o.match(e)||[],l=1;l<c.length;l++)o=i(c,l).join(""),c=o.match(e)||[];return o}}function s(o){for(var c={"%FE%FF":"��","%FF%FE":"��"},l=t.exec(o);l;){try{c[l[0]]=decodeURIComponent(l[0])}catch{var h=n(l[0]);h!==l[0]&&(c[l[0]]=h)}l=t.exec(o)}c["%C2"]="�";for(var p=Object.keys(c),v=0;v<p.length;v++){var _=p[v];o=o.replace(new RegExp(_,"g"),c[_])}return o}return gu=function(o){if(typeof o!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof o+"`");try{return o=o.replace(/\+/g," "),decodeURIComponent(o)}catch{return s(o)}},gu}var mu,Ob;function D_(){return Ob||(Ob=1,mu=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];const t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]}),mu}var bu,Tb;function N_(){return Tb||(Tb=1,bu=function(r,e){for(var t={},i=Object.keys(r),n=Array.isArray(e),s=0;s<i.length;s++){var o=i[s],c=r[o];(n?e.indexOf(o)!==-1:e(o,c,r))&&(t[o]=c)}return t}),bu}var kb;function O_(){return kb||(kb=1,(function(r){const e=P_(),t=R_(),i=D_(),n=N_(),s=T=>T==null,o=Symbol("encodeFragmentIdentifier");function c(T){switch(T.arrayFormat){case"index":return k=>(I,N)=>{const C=I.length;return N===void 0||T.skipNull&&N===null||T.skipEmptyString&&N===""?I:N===null?[...I,[p(k,T),"[",C,"]"].join("")]:[...I,[p(k,T),"[",p(C,T),"]=",p(N,T)].join("")]};case"bracket":return k=>(I,N)=>N===void 0||T.skipNull&&N===null||T.skipEmptyString&&N===""?I:N===null?[...I,[p(k,T),"[]"].join("")]:[...I,[p(k,T),"[]=",p(N,T)].join("")];case"colon-list-separator":return k=>(I,N)=>N===void 0||T.skipNull&&N===null||T.skipEmptyString&&N===""?I:N===null?[...I,[p(k,T),":list="].join("")]:[...I,[p(k,T),":list=",p(N,T)].join("")];case"comma":case"separator":case"bracket-separator":{const k=T.arrayFormat==="bracket-separator"?"[]=":"=";return I=>(N,C)=>C===void 0||T.skipNull&&C===null||T.skipEmptyString&&C===""?N:(C=C===null?"":C,N.length===0?[[p(I,T),k,p(C,T)].join("")]:[[N,p(C,T)].join(T.arrayFormatSeparator)])}default:return k=>(I,N)=>N===void 0||T.skipNull&&N===null||T.skipEmptyString&&N===""?I:N===null?[...I,p(k,T)]:[...I,[p(k,T),"=",p(N,T)].join("")]}}function l(T){let k;switch(T.arrayFormat){case"index":return(I,N,C)=>{if(k=/\[(\d*)\]$/.exec(I),I=I.replace(/\[\d*\]$/,""),!k){C[I]=N;return}C[I]===void 0&&(C[I]={}),C[I][k[1]]=N};case"bracket":return(I,N,C)=>{if(k=/(\[\])$/.exec(I),I=I.replace(/\[\]$/,""),!k){C[I]=N;return}if(C[I]===void 0){C[I]=[N];return}C[I]=[].concat(C[I],N)};case"colon-list-separator":return(I,N,C)=>{if(k=/(:list)$/.exec(I),I=I.replace(/:list$/,""),!k){C[I]=N;return}if(C[I]===void 0){C[I]=[N];return}C[I]=[].concat(C[I],N)};case"comma":case"separator":return(I,N,C)=>{const b=typeof N=="string"&&N.includes(T.arrayFormatSeparator),D=typeof N=="string"&&!b&&v(N,T).includes(T.arrayFormatSeparator);N=D?v(N,T):N;const U=b||D?N.split(T.arrayFormatSeparator).map(j=>v(j,T)):N===null?N:v(N,T);C[I]=U};case"bracket-separator":return(I,N,C)=>{const b=/(\[\])$/.test(I);if(I=I.replace(/\[\]$/,""),!b){C[I]=N&&v(N,T);return}const D=N===null?[]:N.split(T.arrayFormatSeparator).map(U=>v(U,T));if(C[I]===void 0){C[I]=D;return}C[I]=[].concat(C[I],D)};default:return(I,N,C)=>{if(C[I]===void 0){C[I]=N;return}C[I]=[].concat(C[I],N)}}}function h(T){if(typeof T!="string"||T.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function p(T,k){return k.encode?k.strict?e(T):encodeURIComponent(T):T}function v(T,k){return k.decode?t(T):T}function _(T){return Array.isArray(T)?T.sort():typeof T=="object"?_(Object.keys(T)).sort((k,I)=>Number(k)-Number(I)).map(k=>T[k]):T}function A(T){const k=T.indexOf("#");return k!==-1&&(T=T.slice(0,k)),T}function P(T){let k="";const I=T.indexOf("#");return I!==-1&&(k=T.slice(I)),k}function S(T){T=A(T);const k=T.indexOf("?");return k===-1?"":T.slice(k+1)}function R(T,k){return k.parseNumbers&&!Number.isNaN(Number(T))&&typeof T=="string"&&T.trim()!==""?T=Number(T):k.parseBooleans&&T!==null&&(T.toLowerCase()==="true"||T.toLowerCase()==="false")&&(T=T.toLowerCase()==="true"),T}function B(T,k){k=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},k),h(k.arrayFormatSeparator);const I=l(k),N=Object.create(null);if(typeof T!="string"||(T=T.trim().replace(/^[?#&]/,""),!T))return N;for(const C of T.split("&")){if(C==="")continue;let[b,D]=i(k.decode?C.replace(/\+/g," "):C,"=");D=D===void 0?null:["comma","separator","bracket-separator"].includes(k.arrayFormat)?D:v(D,k),I(v(b,k),D,N)}for(const C of Object.keys(N)){const b=N[C];if(typeof b=="object"&&b!==null)for(const D of Object.keys(b))b[D]=R(b[D],k);else N[C]=R(b,k)}return k.sort===!1?N:(k.sort===!0?Object.keys(N).sort():Object.keys(N).sort(k.sort)).reduce((C,b)=>{const D=N[b];return D&&typeof D=="object"&&!Array.isArray(D)?C[b]=_(D):C[b]=D,C},Object.create(null))}r.extract=S,r.parse=B,r.stringify=(T,k)=>{if(!T)return"";k=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},k),h(k.arrayFormatSeparator);const I=D=>k.skipNull&&s(T[D])||k.skipEmptyString&&T[D]==="",N=c(k),C={};for(const D of Object.keys(T))I(D)||(C[D]=T[D]);const b=Object.keys(C);return k.sort!==!1&&b.sort(k.sort),b.map(D=>{const U=T[D];return U===void 0?"":U===null?p(D,k):Array.isArray(U)?U.length===0&&k.arrayFormat==="bracket-separator"?p(D,k)+"[]":U.reduce(N(D),[]).join("&"):p(D,k)+"="+p(U,k)}).filter(D=>D.length>0).join("&")},r.parseUrl=(T,k)=>{k=Object.assign({decode:!0},k);const[I,N]=i(T,"#");return Object.assign({url:I.split("?")[0]||"",query:B(S(T),k)},k&&k.parseFragmentIdentifier&&N?{fragmentIdentifier:v(N,k)}:{})},r.stringifyUrl=(T,k)=>{k=Object.assign({encode:!0,strict:!0,[o]:!0},k);const I=A(T.url).split("?")[0]||"",N=r.extract(T.url),C=r.parse(N,{sort:!1}),b=Object.assign(C,T.query);let D=r.stringify(b,k);D&&(D=`?${D}`);let U=P(T.url);return T.fragmentIdentifier&&(U=`#${k[o]?p(T.fragmentIdentifier,k):T.fragmentIdentifier}`),`${I}${D}${U}`},r.pick=(T,k,I)=>{I=Object.assign({parseFragmentIdentifier:!0,[o]:!1},I);const{url:N,query:C,fragmentIdentifier:b}=r.parseUrl(T,I);return r.stringifyUrl({url:N,query:n(C,k),fragmentIdentifier:b},I)},r.exclude=(T,k,I)=>{const N=Array.isArray(k)?C=>!k.includes(C):(C,b)=>!k(C,b);return r.pick(T,N,I)}})(du)),du}var nl=O_();const T_={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};function Bb(r,e){return r.includes(":")?[r]:e.chains||[]}const $b="base10",xr="base16",xu="base64pad",vu="utf8",Lb=0,vs=1,k_=0,Ub=1,wu=12,yu=32;function B_(){const r=mb.generateKeyPair();return{privateKey:ei(r.secretKey,xr),publicKey:ei(r.publicKey,xr)}}function Eu(){const r=db.randomBytes(yu);return ei(r,xr)}function $_(r,e){const t=mb.sharedKey(xi(r,xr),xi(e,xr)),i=new f9.HKDF(lu.SHA256,t).expand(yu);return ei(i,xr)}function L_(r){const e=lu.hash(xi(r,xr));return ei(e,xr)}function ro(r){const e=lu.hash(xi(r,vu));return ei(e,xr)}function U_(r){return xi(`${r}`,$b)}function ma(r){return Number(ei(r,$b))}function F_(r){const e=U_(typeof r.type<"u"?r.type:Lb);if(ma(e)===vs&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?xi(r.senderPublicKey,xr):void 0,i=typeof r.iv<"u"?xi(r.iv,xr):db.randomBytes(wu),n=new nb.ChaCha20Poly1305(xi(r.symKey,xr)).seal(i,xi(r.message,vu));return j_({type:e,sealed:n,iv:i,senderPublicKey:t})}function q_(r){const e=new nb.ChaCha20Poly1305(xi(r.symKey,xr)),{sealed:t,iv:i}=sl(r.encoded),n=e.open(i,t);if(n===null)throw new Error("Failed to decrypt");return ei(n,vu)}function j_(r){if(ma(r.type)===vs){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ei(xb([r.type,r.senderPublicKey,r.iv,r.sealed]),xu)}return ei(xb([r.type,r.iv,r.sealed]),xu)}function sl(r){const e=xi(r,xu),t=e.slice(k_,Ub),i=Ub;if(ma(t)===vs){const c=i+yu,l=c+wu,h=e.slice(i,c),p=e.slice(c,l),v=e.slice(l);return{type:t,sealed:v,iv:p,senderPublicKey:h}}const n=i+wu,s=e.slice(i,n),o=e.slice(n);return{type:t,sealed:o,iv:s}}function z_(r,e){const t=sl(r);return Fb({type:ma(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?ei(t.senderPublicKey,xr):void 0,receiverPublicKey:e?.receiverPublicKey})}function Fb(r){const e=r?.type||Lb;if(e===vs){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function qb(r){return r.type===vs&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var H_=Object.defineProperty,jb=Object.getOwnPropertySymbols,W_=Object.prototype.hasOwnProperty,K_=Object.prototype.propertyIsEnumerable,zb=(r,e,t)=>e in r?H_(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Hb=(r,e)=>{for(var t in e||(e={}))W_.call(e,t)&&zb(r,t,e[t]);if(jb)for(var t of jb(e))K_.call(e,t)&&zb(r,t,e[t]);return r};const V_="ReactNative",Hr={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},G_="js";function _u(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ol(){return!il.getDocument()&&!!il.getNavigator()&&navigator.product===V_}function ba(){return!_u()&&!!il.getNavigator()}function xa(){return ol()?Hr.reactNative:_u()?Hr.node:ba()?Hr.browser:Hr.unknown}function J_(r,e){let t=nl.parse(r);return t=Hb(Hb({},t),e),r=nl.stringify(t),r}function Q_(){return I_.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Y_(){if(xa()===Hr.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:i}=global.Platform;return[t,i].join("-")}const r=y_();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function Z_(){var r;const e=xa();return e===Hr.browser?[e,((r=il.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function X_(r,e,t){const i=Y_(),n=Z_();return[[r,e].join("-"),[G_,t].join("-"),i,n].join("/")}function eA({protocol:r,version:e,relayUrl:t,sdkVersion:i,auth:n,projectId:s,useOnCloseEvent:o}){const c=t.split("?"),l=X_(r,e,i),h={auth:n,ua:l,projectId:s,useOnCloseEvent:o},p=J_(c[1]||"",h);return c[0]+"?"+p}function ws(r,e){return r.filter(t=>e.includes(t)).length===r.length}function Wb(r){return Object.fromEntries(r.entries())}function Kb(r){return new Map(Object.entries(r))}function io(r=Ae.FIVE_MINUTES,e){const t=Ae.toMiliseconds(r||Ae.FIVE_MINUTES);let i,n,s;return{resolve:o=>{s&&i&&(clearTimeout(s),i(o))},reject:o=>{s&&n&&(clearTimeout(s),n(o))},done:()=>new Promise((o,c)=>{s=setTimeout(()=>{c(new Error(e))},t),i=o,n=c})}}function va(r,e,t){return new Promise(async(i,n)=>{const s=setTimeout(()=>n(new Error(t)),e);try{const o=await r;i(o)}catch(o){n(o)}clearTimeout(s)})}function Vb(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function tA(r){return Vb("topic",r)}function rA(r){return Vb("id",r)}function Gb(r){const[e,t]=r.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")i.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))i.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return i}function vi(r,e){return Ae.fromMiliseconds(Date.now()+Ae.toMiliseconds(r))}function $n(r){return Date.now()>=Ae.toMiliseconds(r)}function Lt(r,e){return`${r}${e?`:${e}`:""}`}async function iA({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;let n=(typeof t=="string"?JSON.parse(t):t)?.href;if(typeof n!="string")return;n.endsWith("/")&&(n=n.slice(0,-1));const s=`${n}/wc?requestId=${r}&sessionTopic=${e}`,o=xa();o===Hr.browser?s.startsWith("https://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):o===Hr.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(i){console.error(i)}}const nA="irn";function Au(r){return r?.relay||{protocol:nA}}function al(r){const e=T_[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var sA=Object.defineProperty,Jb=Object.getOwnPropertySymbols,oA=Object.prototype.hasOwnProperty,aA=Object.prototype.propertyIsEnumerable,Qb=(r,e,t)=>e in r?sA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,cA=(r,e)=>{for(var t in e||(e={}))oA.call(e,t)&&Qb(r,t,e[t]);if(Jb)for(var t of Jb(e))aA.call(e,t)&&Qb(r,t,e[t]);return r};function lA(r,e="-"){const t={},i="relay"+e;return Object.keys(r).forEach(n=>{if(n.startsWith(i)){const s=n.replace(i,""),o=r[n];t[s]=o}}),t}function fA(r){const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,i=r.substring(0,e),n=r.substring(e+1,t).split("@"),s=typeof t<"u"?r.substring(t):"",o=nl.parse(s);return{protocol:i,topic:uA(n[0]),version:parseInt(n[1],10),symKey:o.symKey,relay:lA(o)}}function uA(r){return r.startsWith("//")?r.substring(2):r}function hA(r,e="-"){const t="relay",i={};return Object.keys(r).forEach(n=>{const s=t+e+n;r[n]&&(i[s]=r[n])}),i}function dA(r){return`${r.protocol}:${r.topic}@${r.version}?`+nl.stringify(cA({symKey:r.symKey},hA(r.relay)))}function no(r){const e=[];return r.forEach(t=>{const[i,n]=t.split(":");e.push(`${i}:${n}`)}),e}function pA(r){const e=[];return Object.values(r).forEach(t=>{e.push(...no(t.accounts))}),e}function gA(r,e){const t=[];return Object.values(r).forEach(i=>{no(i.accounts).includes(e)&&t.push(...i.methods)}),t}function mA(r,e){const t=[];return Object.values(r).forEach(i=>{no(i.accounts).includes(e)&&t.push(...i.events)}),t}function bA(r,e){const t=ll(r,e);if(t)throw new Error(t.message);const i={};for(const[n,s]of Object.entries(r))i[n]={methods:s.methods,events:s.events,chains:s.accounts.map(o=>`${o.split(":")[0]}:${o.split(":")[1]}`)};return i}const xA={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},vA={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ae(r,e){const{message:t,code:i}=vA[r];return{message:e?`${t} ${e}`:t,code:i}}function Gt(r,e){const{message:t,code:i}=xA[r];return{message:e?`${t} ${e}`:t,code:i}}function wa(r,e){return!!Array.isArray(r)}function ya(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function vr(r){return typeof r>"u"}function Jt(r,e){return e&&vr(r)?!0:typeof r=="string"&&!!r.trim().length}function Su(r,e){return e&&vr(r)?!0:typeof r=="number"&&!isNaN(r)}function wA(r,e){const{requiredNamespaces:t}=e,i=Object.keys(r.namespaces),n=Object.keys(t);let s=!0;return ws(n,i)?(i.forEach(o=>{const{accounts:c,methods:l,events:h}=r.namespaces[o],p=no(c),v=t[o];(!ws(Bb(o,v),p)||!ws(v.methods,l)||!ws(v.events,h))&&(s=!1)}),s):!1}function cl(r){return Jt(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function yA(r){if(Jt(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&cl(t)}}return!1}function EA(r){if(Jt(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function _A(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function AA(r){return r?.topic}function SA(r,e){let t=null;return Jt(r?.publicKey,!1)||(t=ae("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function Yb(r){let e=!0;return wa(r)?r.length&&(e=r.every(t=>Jt(t,!1))):e=!1,e}function CA(r,e,t){let i=null;return wa(e)&&e.length?e.forEach(n=>{i||cl(n)||(i=Gt("UNSUPPORTED_CHAINS",`${t}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):cl(r)||(i=Gt("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function MA(r,e,t){let i=null;return Object.entries(r).forEach(([n,s])=>{if(i)return;const o=CA(n,Bb(n,s),`${e} ${t}`);o&&(i=o)}),i}function IA(r,e){let t=null;return wa(r)?r.forEach(i=>{t||yA(i)||(t=Gt("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):t=Gt("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function PA(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;const n=IA(i?.accounts,`${e} namespace`);n&&(t=n)}),t}function RA(r,e){let t=null;return Yb(r?.methods)?Yb(r?.events)||(t=Gt("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Gt("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function Zb(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;const n=RA(i,`${e}, namespace`);n&&(t=n)}),t}function DA(r,e,t){let i=null;if(r&&ya(r)){const n=Zb(r,e);n&&(i=n);const s=MA(r,e,t);s&&(i=s)}else i=ae("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return i}function ll(r,e){let t=null;if(r&&ya(r)){const i=Zb(r,e);i&&(t=i);const n=PA(r,e);n&&(t=n)}else t=ae("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function Xb(r){return Jt(r.protocol,!0)}function NA(r,e){let t=!1;return r?r&&wa(r)&&r.length&&r.forEach(i=>{t=Xb(i)}):t=!0,t}function OA(r){return typeof r=="number"}function Pr(r){return typeof r<"u"&&typeof r!==null}function TA(r){return!(!r||typeof r!="object"||!r.code||!Su(r.code,!1)||!r.message||!Jt(r.message,!1))}function kA(r){return!(vr(r)||!Jt(r.method,!1))}function BA(r){return!(vr(r)||vr(r.result)&&vr(r.error)||!Su(r.id,!1)||!Jt(r.jsonrpc,!1))}function $A(r){return!(vr(r)||!Jt(r.name,!1))}function e2(r,e){return!(!cl(e)||!pA(r).includes(e))}function LA(r,e,t){return Jt(t,!1)?gA(r,e).includes(t):!1}function UA(r,e,t){return Jt(t,!1)?mA(r,e).includes(t):!1}function t2(r,e,t){let i=null;const n=FA(r),s=qA(e),o=Object.keys(n),c=Object.keys(s),l=r2(Object.keys(r)),h=r2(Object.keys(e)),p=l.filter(v=>!h.includes(v));return p.length&&(i=ae("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${p.toString()}
      Received: ${Object.keys(e).toString()}`)),ws(o,c)||(i=ae("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${c.toString()}`)),Object.keys(e).forEach(v=>{if(!v.includes(":")||i)return;const _=no(e[v].accounts);_.includes(v)||(i=ae("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${v}
        Required: ${v}
        Approved: ${_.toString()}`))}),o.forEach(v=>{i||(ws(n[v].methods,s[v].methods)?ws(n[v].events,s[v].events)||(i=ae("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${v}`)):i=ae("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${v}`))}),i}function FA(r){const e={};return Object.keys(r).forEach(t=>{var i;t.includes(":")?e[t]=r[t]:(i=r[t].chains)==null||i.forEach(n=>{e[n]={methods:r[t].methods,events:r[t].events}})}),e}function r2(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function qA(r){const e={};return Object.keys(r).forEach(t=>{t.includes(":")?e[t]=r[t]:no(r[t].accounts)?.forEach(n=>{e[n]={accounts:r[t].accounts.filter(s=>s.includes(`${n}:`)),methods:r[t].methods,events:r[t].events}})}),e}function jA(r,e){return Su(r,!1)&&r<=e.max&&r>=e.min}function i2(){const r=xa();return new Promise(e=>{switch(r){case Hr.browser:e(zA());break;case Hr.reactNative:e(HA());break;case Hr.node:e(WA());break;default:e(!0)}})}function zA(){return ba()&&navigator?.onLine}async function HA(){return ol()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function WA(){return!0}function KA(r){switch(xa()){case Hr.browser:VA(r);break;case Hr.reactNative:GA(r);break}}function VA(r){ba()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function GA(r){ol()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>r(e?.isConnected))}const Cu={};let fl=class{static get(e){return Cu[e]}static set(e,t){Cu[e]=t}static delete(e){delete Cu[e]}};const JA="PARSE_ERROR",QA="INVALID_REQUEST",YA="METHOD_NOT_FOUND",ZA="INVALID_PARAMS",n2="INTERNAL_ERROR",Mu="SERVER_ERROR",XA=[-32700,-32600,-32601,-32602,-32603],Ea={[JA]:{code:-32700,message:"Parse error"},[QA]:{code:-32600,message:"Invalid Request"},[YA]:{code:-32601,message:"Method not found"},[ZA]:{code:-32602,message:"Invalid params"},[n2]:{code:-32603,message:"Internal error"},[Mu]:{code:-32e3,message:"Server error"}},s2=Mu;function eS(r){return XA.includes(r)}function o2(r){return Object.keys(Ea).includes(r)?Ea[r]:Ea[s2]}function tS(r){const e=Object.values(Ea).find(t=>t.code===r);return e||Ea[s2]}function rS(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var Iu={},Zi={},a2;function iS(){if(a2)return Zi;a2=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.isBrowserCryptoAvailable=Zi.getSubtleCrypto=Zi.getBrowerCrypto=void 0;function r(){return fi?.crypto||fi?.msCrypto||{}}Zi.getBrowerCrypto=r;function e(){const i=r();return i.subtle||i.webkitSubtle}Zi.getSubtleCrypto=e;function t(){return!!r()&&!!e()}return Zi.isBrowserCryptoAvailable=t,Zi}var Xi={},c2;function nS(){if(c2)return Xi;c2=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.isBrowser=Xi.isNode=Xi.isReactNative=void 0;function r(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Xi.isReactNative=r;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Xi.isNode=e;function t(){return!r()&&!e()}return Xi.isBrowser=t,Xi}var l2;function sS(){return l2||(l2=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Gi;e.__exportStar(iS(),r),e.__exportStar(nS(),r)})(Iu)),Iu}var oS=sS();function Pu(r=3){const e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function f2(r=6){return BigInt(Pu(r))}function _a(r,e,t){return{id:t||Pu(),jsonrpc:"2.0",method:r,params:e}}function Ru(r,e){return{id:r,jsonrpc:"2.0",result:e}}function Du(r,e,t){return{id:r,jsonrpc:"2.0",error:aS(e)}}function aS(r,e){return typeof r>"u"?o2(n2):(typeof r=="string"&&(r=Object.assign(Object.assign({},o2(Mu)),{message:r})),eS(r.code)&&(r=tS(r.code)),r)}let cS=class{},lS=class extends cS{constructor(){super()}},fS=class extends lS{constructor(e){super()}};const uS="^wss?:";function hS(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function dS(r,e){const t=hS(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function u2(r){return dS(r,uS)}function pS(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function h2(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function Nu(r){return h2(r)&&"method"in r}function ul(r){return h2(r)&&(en(r)||wi(r))}function en(r){return"result"in r}function wi(r){return"error"in r}class gS extends fS{constructor(e){super(e),this.events=new ki.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(_a(e.method,e.params||[],e.id||f2().toString()),t)}async requestStrict(e,t){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(s){n(s)}this.events.on(`${e.id}`,s=>{wi(s)?n(s.error):i(s.result)});try{await this.connection.send(e,t)}catch(s){n(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),ul(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const mS=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),bS=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(i,n)=>typeof n=="string"&&n.match(/^\d+n$/)?BigInt(n.substring(0,n.length-1)):n)};function xS(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return bS(r)}catch{return r}}function vS(r){return typeof r=="string"?r:mS(r)||""}const wS=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),yS=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",d2=r=>r.split("?")[0],p2=10,ES=wS();class _S{constructor(e){if(this.url=e,this.events=new ki.EventEmitter,this.registering=!1,!u2(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),e()},this.socket.close()})}async send(e,t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(vS(e))}catch(i){this.onError(e.id,i)}}register(e=this.url){if(!u2(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((i,n)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),n(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return n(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,i)=>{const n=oS.isReactNative()?void 0:{rejectUnauthorized:!pS(e)},s=new ES(e,[],n);yS()?s.onerror=o=>{const c=o;i(this.emitError(c.error))}:s.on("error",o=>{i(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),t(s)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?xS(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const i=this.parseError(t),n=i.message||i.toString(),s=Du(e,n);this.events.emit("payload",s)}parseError(e,t=this.url){return rS(e,d2(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>p2&&this.events.setMaxListeners(p2)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${d2(this.url)}`));return this.events.emit("register_error",t),t}}var Aa={exports:{}};Aa.exports;var g2;function AS(){return g2||(g2=1,(function(r,e){var t=200,i="__lodash_hash_undefined__",n=1,s=2,o=9007199254740991,c="[object Arguments]",l="[object Array]",h="[object AsyncFunction]",p="[object Boolean]",v="[object Date]",_="[object Error]",A="[object Function]",P="[object GeneratorFunction]",S="[object Map]",R="[object Number]",B="[object Null]",T="[object Object]",k="[object Promise]",I="[object Proxy]",N="[object RegExp]",C="[object Set]",b="[object String]",D="[object Symbol]",U="[object Undefined]",j="[object WeakMap]",q="[object ArrayBuffer]",F="[object DataView]",w="[object Float32Array]",a="[object Float64Array]",u="[object Int8Array]",d="[object Int16Array]",g="[object Int32Array]",E="[object Uint8Array]",M="[object Uint8ClampedArray]",O="[object Uint16Array]",m="[object Uint32Array]",f=/[\\^$.*+?()[\]{}|]/g,x=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,y={};y[w]=y[a]=y[u]=y[d]=y[g]=y[E]=y[M]=y[O]=y[m]=!0,y[c]=y[l]=y[q]=y[p]=y[F]=y[v]=y[_]=y[A]=y[S]=y[R]=y[T]=y[N]=y[C]=y[b]=y[j]=!1;var L=typeof fi=="object"&&fi&&fi.Object===Object&&fi,K=typeof self=="object"&&self&&self.Object===Object&&self,H=L||K||Function("return this")(),V=e&&!e.nodeType&&e,Z=V&&!0&&r&&!r.nodeType&&r,J=Z&&Z.exports===V,Y=J&&L.process,ye=(function(){try{return Y&&Y.binding&&Y.binding("util")}catch{}})(),X=ye&&ye.isTypedArray;function ne(z,G){for(var ee=-1,be=z==null?0:z.length,yt=0,Je=[];++ee<be;){var Rt=z[ee];G(Rt,ee,z)&&(Je[yt++]=Rt)}return Je}function wt(z,G){for(var ee=-1,be=G.length,yt=z.length;++ee<be;)z[yt+ee]=G[ee];return z}function Ee(z,G){for(var ee=-1,be=z==null?0:z.length;++ee<be;)if(G(z[ee],ee,z))return!0;return!1}function _e(z,G){for(var ee=-1,be=Array(z);++ee<z;)be[ee]=G(ee);return be}function Bt(z){return function(G){return z(G)}}function ue(z,G){return z.has(G)}function fe(z,G){return z?.[G]}function nt(z){var G=-1,ee=Array(z.size);return z.forEach(function(be,yt){ee[++G]=[yt,be]}),ee}function he(z,G){return function(ee){return z(G(ee))}}function ce(z){var G=-1,ee=Array(z.size);return z.forEach(function(be){ee[++G]=be}),ee}var et=Array.prototype,de=Function.prototype,le=Object.prototype,at=H["__core-js_shared__"],pe=de.toString,oe=le.hasOwnProperty,ft=(function(){var z=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||"");return z?"Symbol(src)_1."+z:""})(),me=le.toString,ve=RegExp("^"+pe.call(oe).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ut=J?H.Buffer:void 0,ge=H.Symbol,Ne=H.Uint8Array,Wr=le.propertyIsEnumerable,Te=et.splice,Ce=ge?ge.toStringTag:void 0,Kr=Object.getOwnPropertySymbols,ke=ut?ut.isBuffer:void 0,Be=he(Object.keys,Object),Nr=yo(H,"DataView"),Ie=yo(H,"Map"),Re=yo(H,"Promise"),Or=yo(H,"Set"),De=yo(H,"WeakMap"),Pe=yo(Object,"create"),ii=Os(Nr),$e=Os(Ie),Le=Os(Re),ni=Os(Or),Ue=Os(De),Oe=ge?ge.prototype:void 0,Tr=Oe?Oe.valueOf:void 0;function Me(z){var G=-1,ee=z==null?0:z.length;for(this.clear();++G<ee;){var be=z[G];this.set(be[0],be[1])}}function Fe(){this.__data__=Pe?Pe(null):{},this.size=0}function si(z){var G=this.has(z)&&delete this.__data__[z];return this.size-=G?1:0,G}function qe(z){var G=this.__data__;if(Pe){var ee=G[z];return ee===i?void 0:ee}return oe.call(G,z)?G[z]:void 0}function je(z){var G=this.__data__;return Pe?G[z]!==void 0:oe.call(G,z)}function oi(z,G){var ee=this.__data__;return this.size+=this.has(z)?0:1,ee[z]=Pe&&G===void 0?i:G,this}Me.prototype.clear=Fe,Me.prototype.delete=si,Me.prototype.get=qe,Me.prototype.has=je,Me.prototype.set=oi;function Se(z){var G=-1,ee=z==null?0:z.length;for(this.clear();++G<ee;){var be=z[G];this.set(be[0],be[1])}}function ze(){this.__data__=[],this.size=0}function kr(z){var G=this.__data__,ee=Ol(G,z);if(ee<0)return!1;var be=G.length-1;return ee==be?G.pop():Te.call(G,ee,1),--this.size,!0}function Br(z){var G=this.__data__,ee=Ol(G,z);return ee<0?void 0:G[ee][1]}function $r(z){return Ol(this.__data__,z)>-1}function Lr(z,G){var ee=this.__data__,be=Ol(ee,z);return be<0?(++this.size,ee.push([z,G])):ee[be][1]=G,this}Se.prototype.clear=ze,Se.prototype.delete=kr,Se.prototype.get=Br,Se.prototype.has=$r,Se.prototype.set=Lr;function Ut(z){var G=-1,ee=z==null?0:z.length;for(this.clear();++G<ee;){var be=z[G];this.set(be[0],be[1])}}function an(){this.size=0,this.__data__={hash:new Me,map:new(Ie||Se),string:new Me}}function cn(z){var G=Tl(this,z).delete(z);return this.size-=G?1:0,G}function ln(z){return Tl(this,z).get(z)}function fn(z){return Tl(this,z).has(z)}function un(z,G){var ee=Tl(this,z),be=ee.size;return ee.set(z,G),this.size+=ee.size==be?0:1,this}Ut.prototype.clear=an,Ut.prototype.delete=cn,Ut.prototype.get=ln,Ut.prototype.has=fn,Ut.prototype.set=un;function ai(z){var G=-1,ee=z==null?0:z.length;for(this.__data__=new Ut;++G<ee;)this.add(z[G])}function hn(z){return this.__data__.set(z,i),this}function dn(z){return this.__data__.has(z)}ai.prototype.add=ai.prototype.push=hn,ai.prototype.has=dn;function dr(z){var G=this.__data__=new Se(z);this.size=G.size}function pn(){this.__data__=new Se,this.size=0}function gn(z){var G=this.__data__,ee=G.delete(z);return this.size=G.size,ee}function mn(z){return this.__data__.get(z)}function bn(z){return this.__data__.has(z)}function xn(z,G){var ee=this.__data__;if(ee instanceof Se){var be=ee.__data__;if(!Ie||be.length<t-1)return be.push([z,G]),this.size=++ee.size,this;ee=this.__data__=new Ut(be)}return ee.set(z,G),this.size=ee.size,this}dr.prototype.clear=pn,dr.prototype.delete=gn,dr.prototype.get=mn,dr.prototype.has=bn,dr.prototype.set=xn;function VD(z,G){var ee=kl(z),be=!ee&&cN(z),yt=!ee&&!be&&nd(z),Je=!ee&&!be&&!yt&&Uv(z),Rt=ee||be||yt||Je,Yt=Rt?_e(z.length,String):[],nr=Yt.length;for(var Ct in z)oe.call(z,Ct)&&!(Rt&&(Ct=="length"||yt&&(Ct=="offset"||Ct=="parent")||Je&&(Ct=="buffer"||Ct=="byteLength"||Ct=="byteOffset")||iN(Ct,nr)))&&Yt.push(Ct);return Yt}function Ol(z,G){for(var ee=z.length;ee--;)if(kv(z[ee][0],G))return ee;return-1}function GD(z,G,ee){var be=G(z);return kl(z)?be:wt(be,ee(z))}function Ka(z){return z==null?z===void 0?U:B:Ce&&Ce in Object(z)?tN(z):aN(z)}function Dv(z){return Va(z)&&Ka(z)==c}function Nv(z,G,ee,be,yt){return z===G?!0:z==null||G==null||!Va(z)&&!Va(G)?z!==z&&G!==G:JD(z,G,ee,be,Nv,yt)}function JD(z,G,ee,be,yt,Je){var Rt=kl(z),Yt=kl(G),nr=Rt?l:Kn(z),Ct=Yt?l:Kn(G);nr=nr==c?T:nr,Ct=Ct==c?T:Ct;var Vr=nr==T,yi=Ct==T,pr=nr==Ct;if(pr&&nd(z)){if(!nd(G))return!1;Rt=!0,Vr=!1}if(pr&&!Vr)return Je||(Je=new dr),Rt||Uv(z)?Ov(z,G,ee,be,yt,Je):XD(z,G,nr,ee,be,yt,Je);if(!(ee&n)){var ci=Vr&&oe.call(z,"__wrapped__"),li=yi&&oe.call(G,"__wrapped__");if(ci||li){var Vn=ci?z.value():z,vn=li?G.value():G;return Je||(Je=new dr),yt(Vn,vn,ee,be,Je)}}return pr?(Je||(Je=new dr),eN(z,G,ee,be,yt,Je)):!1}function QD(z){if(!Lv(z)||sN(z))return!1;var G=Bv(z)?ve:x;return G.test(Os(z))}function YD(z){return Va(z)&&$v(z.length)&&!!y[Ka(z)]}function ZD(z){if(!oN(z))return Be(z);var G=[];for(var ee in Object(z))oe.call(z,ee)&&ee!="constructor"&&G.push(ee);return G}function Ov(z,G,ee,be,yt,Je){var Rt=ee&n,Yt=z.length,nr=G.length;if(Yt!=nr&&!(Rt&&nr>Yt))return!1;var Ct=Je.get(z);if(Ct&&Je.get(G))return Ct==G;var Vr=-1,yi=!0,pr=ee&s?new ai:void 0;for(Je.set(z,G),Je.set(G,z);++Vr<Yt;){var ci=z[Vr],li=G[Vr];if(be)var Vn=Rt?be(li,ci,Vr,G,z,Je):be(ci,li,Vr,z,G,Je);if(Vn!==void 0){if(Vn)continue;yi=!1;break}if(pr){if(!Ee(G,function(vn,Ts){if(!ue(pr,Ts)&&(ci===vn||yt(ci,vn,ee,be,Je)))return pr.push(Ts)})){yi=!1;break}}else if(!(ci===li||yt(ci,li,ee,be,Je))){yi=!1;break}}return Je.delete(z),Je.delete(G),yi}function XD(z,G,ee,be,yt,Je,Rt){switch(ee){case F:if(z.byteLength!=G.byteLength||z.byteOffset!=G.byteOffset)return!1;z=z.buffer,G=G.buffer;case q:return!(z.byteLength!=G.byteLength||!Je(new Ne(z),new Ne(G)));case p:case v:case R:return kv(+z,+G);case _:return z.name==G.name&&z.message==G.message;case N:case b:return z==G+"";case S:var Yt=nt;case C:var nr=be&n;if(Yt||(Yt=ce),z.size!=G.size&&!nr)return!1;var Ct=Rt.get(z);if(Ct)return Ct==G;be|=s,Rt.set(z,G);var Vr=Ov(Yt(z),Yt(G),be,yt,Je,Rt);return Rt.delete(z),Vr;case D:if(Tr)return Tr.call(z)==Tr.call(G)}return!1}function eN(z,G,ee,be,yt,Je){var Rt=ee&n,Yt=Tv(z),nr=Yt.length,Ct=Tv(G),Vr=Ct.length;if(nr!=Vr&&!Rt)return!1;for(var yi=nr;yi--;){var pr=Yt[yi];if(!(Rt?pr in G:oe.call(G,pr)))return!1}var ci=Je.get(z);if(ci&&Je.get(G))return ci==G;var li=!0;Je.set(z,G),Je.set(G,z);for(var Vn=Rt;++yi<nr;){pr=Yt[yi];var vn=z[pr],Ts=G[pr];if(be)var Fv=Rt?be(Ts,vn,pr,G,z,Je):be(vn,Ts,pr,z,G,Je);if(!(Fv===void 0?vn===Ts||yt(vn,Ts,ee,be,Je):Fv)){li=!1;break}Vn||(Vn=pr=="constructor")}if(li&&!Vn){var Bl=z.constructor,$l=G.constructor;Bl!=$l&&"constructor"in z&&"constructor"in G&&!(typeof Bl=="function"&&Bl instanceof Bl&&typeof $l=="function"&&$l instanceof $l)&&(li=!1)}return Je.delete(z),Je.delete(G),li}function Tv(z){return GD(z,uN,rN)}function Tl(z,G){var ee=z.__data__;return nN(G)?ee[typeof G=="string"?"string":"hash"]:ee.map}function yo(z,G){var ee=fe(z,G);return QD(ee)?ee:void 0}function tN(z){var G=oe.call(z,Ce),ee=z[Ce];try{z[Ce]=void 0;var be=!0}catch{}var yt=me.call(z);return be&&(G?z[Ce]=ee:delete z[Ce]),yt}var rN=Kr?function(z){return z==null?[]:(z=Object(z),ne(Kr(z),function(G){return Wr.call(z,G)}))}:hN,Kn=Ka;(Nr&&Kn(new Nr(new ArrayBuffer(1)))!=F||Ie&&Kn(new Ie)!=S||Re&&Kn(Re.resolve())!=k||Or&&Kn(new Or)!=C||De&&Kn(new De)!=j)&&(Kn=function(z){var G=Ka(z),ee=G==T?z.constructor:void 0,be=ee?Os(ee):"";if(be)switch(be){case ii:return F;case $e:return S;case Le:return k;case ni:return C;case Ue:return j}return G});function iN(z,G){return G=G??o,!!G&&(typeof z=="number"||$.test(z))&&z>-1&&z%1==0&&z<G}function nN(z){var G=typeof z;return G=="string"||G=="number"||G=="symbol"||G=="boolean"?z!=="__proto__":z===null}function sN(z){return!!ft&&ft in z}function oN(z){var G=z&&z.constructor,ee=typeof G=="function"&&G.prototype||le;return z===ee}function aN(z){return me.call(z)}function Os(z){if(z!=null){try{return pe.call(z)}catch{}try{return z+""}catch{}}return""}function kv(z,G){return z===G||z!==z&&G!==G}var cN=Dv((function(){return arguments})())?Dv:function(z){return Va(z)&&oe.call(z,"callee")&&!Wr.call(z,"callee")},kl=Array.isArray;function lN(z){return z!=null&&$v(z.length)&&!Bv(z)}var nd=ke||dN;function fN(z,G){return Nv(z,G)}function Bv(z){if(!Lv(z))return!1;var G=Ka(z);return G==A||G==P||G==h||G==I}function $v(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=o}function Lv(z){var G=typeof z;return z!=null&&(G=="object"||G=="function")}function Va(z){return z!=null&&typeof z=="object"}var Uv=X?Bt(X):YD;function uN(z){return lN(z)?VD(z):ZD(z)}function hN(){return[]}function dN(){return!1}r.exports=fN})(Aa,Aa.exports)),Aa.exports}var SS=AS();const CS=ui(SS);var MS={};function IS(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var c=r.length,l=r.charAt(0),h=Math.log(c)/Math.log(256),p=Math.log(256)/Math.log(c);function v(P){if(P instanceof Uint8Array||(ArrayBuffer.isView(P)?P=new Uint8Array(P.buffer,P.byteOffset,P.byteLength):Array.isArray(P)&&(P=Uint8Array.from(P))),!(P instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(P.length===0)return"";for(var S=0,R=0,B=0,T=P.length;B!==T&&P[B]===0;)B++,S++;for(var k=(T-B)*p+1>>>0,I=new Uint8Array(k);B!==T;){for(var N=P[B],C=0,b=k-1;(N!==0||C<R)&&b!==-1;b--,C++)N+=256*I[b]>>>0,I[b]=N%c>>>0,N=N/c>>>0;if(N!==0)throw new Error("Non-zero carry");R=C,B++}for(var D=k-R;D!==k&&I[D]===0;)D++;for(var U=l.repeat(S);D<k;++D)U+=r.charAt(I[D]);return U}function _(P){if(typeof P!="string")throw new TypeError("Expected String");if(P.length===0)return new Uint8Array;var S=0;if(P[S]!==" "){for(var R=0,B=0;P[S]===l;)R++,S++;for(var T=(P.length-S)*h+1>>>0,k=new Uint8Array(T);P[S];){var I=t[P.charCodeAt(S)];if(I===255)return;for(var N=0,C=T-1;(I!==0||N<B)&&C!==-1;C--,N++)I+=c*k[C]>>>0,k[C]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");B=N,S++}if(P[S]!==" "){for(var b=T-B;b!==T&&k[b]===0;)b++;for(var D=new Uint8Array(R+(T-b)),U=R;b!==T;)D[U++]=k[b++];return D}}}function A(P){var S=_(P);if(S)return S;throw new Error(`Non-${e} character`)}return{encode:v,decodeUnsafe:_,decode:A}}var PS=IS,RS=PS;const m2=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},DS=r=>new TextEncoder().encode(r),NS=r=>new TextDecoder().decode(r);class OS{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class TS{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return b2(this,e)}}class kS{constructor(e){this.decoders=e}or(e){return b2(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const b2=(r,e)=>new kS({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class BS{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new OS(e,t,i),this.decoder=new TS(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const hl=({name:r,prefix:e,encode:t,decode:i})=>new BS(r,e,t,i),Sa=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:n}=RS(t,e);return hl({prefix:r,name:e,encode:i,decode:s=>m2(n(s))})},$S=(r,e,t,i)=>{const n={};for(let p=0;p<e.length;++p)n[e[p]]=p;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*t/8|0);let c=0,l=0,h=0;for(let p=0;p<s;++p){const v=n[r[p]];if(v===void 0)throw new SyntaxError(`Non-${i} character`);l=l<<t|v,c+=t,c>=8&&(c-=8,o[h++]=255&l>>c)}if(c>=t||255&l<<8-c)throw new SyntaxError("Unexpected end of data");return o},LS=(r,e,t)=>{const i=e[e.length-1]==="=",n=(1<<t)-1;let s="",o=0,c=0;for(let l=0;l<r.length;++l)for(c=c<<8|r[l],o+=8;o>t;)o-=t,s+=e[n&c>>o];if(o&&(s+=e[n&c<<t-o]),i)for(;s.length*t&7;)s+="=";return s},ir=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>hl({prefix:e,name:r,encode(n){return LS(n,i,t)},decode(n){return $S(n,i,t,r)}}),US=hl({prefix:"\0",name:"identity",encode:r=>NS(r),decode:r=>DS(r)});var FS=Object.freeze({__proto__:null,identity:US});const qS=ir({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var jS=Object.freeze({__proto__:null,base2:qS});const zS=ir({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var HS=Object.freeze({__proto__:null,base8:zS});const WS=Sa({prefix:"9",name:"base10",alphabet:"0123456789"});var KS=Object.freeze({__proto__:null,base10:WS});const VS=ir({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),GS=ir({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var JS=Object.freeze({__proto__:null,base16:VS,base16upper:GS});const QS=ir({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),YS=ir({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ZS=ir({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),XS=ir({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),eC=ir({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),tC=ir({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rC=ir({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),iC=ir({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nC=ir({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var sC=Object.freeze({__proto__:null,base32:QS,base32upper:YS,base32pad:ZS,base32padupper:XS,base32hex:eC,base32hexupper:tC,base32hexpad:rC,base32hexpadupper:iC,base32z:nC});const oC=Sa({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),aC=Sa({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var cC=Object.freeze({__proto__:null,base36:oC,base36upper:aC});const lC=Sa({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),fC=Sa({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var uC=Object.freeze({__proto__:null,base58btc:lC,base58flickr:fC});const hC=ir({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dC=ir({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pC=ir({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),gC=ir({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var mC=Object.freeze({__proto__:null,base64:hC,base64pad:dC,base64url:pC,base64urlpad:gC});const x2=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),bC=x2.reduce((r,e,t)=>(r[t]=e,r),[]),xC=x2.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function vC(r){return r.reduce((e,t)=>(e+=bC[t],e),"")}function wC(r){const e=[];for(const t of r){const i=xC[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const yC=hl({prefix:"🚀",name:"base256emoji",encode:vC,decode:wC});var EC=Object.freeze({__proto__:null,base256emoji:yC}),_C=w2,v2=128,AC=-128,SC=Math.pow(2,31);function w2(r,e,t){e=e||[],t=t||0;for(var i=t;r>=SC;)e[t++]=r&255|v2,r/=128;for(;r&AC;)e[t++]=r&255|v2,r>>>=7;return e[t]=r|0,w2.bytes=t-i+1,e}var CC=Ou,MC=128,y2=127;function Ou(r,i){var t=0,i=i||0,n=0,s=i,o,c=r.length;do{if(s>=c)throw Ou.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&y2)<<n:(o&y2)*Math.pow(2,n),n+=7}while(o>=MC);return Ou.bytes=s-i,t}var IC=Math.pow(2,7),PC=Math.pow(2,14),RC=Math.pow(2,21),DC=Math.pow(2,28),NC=Math.pow(2,35),OC=Math.pow(2,42),TC=Math.pow(2,49),kC=Math.pow(2,56),BC=Math.pow(2,63),$C=function(r){return r<IC?1:r<PC?2:r<RC?3:r<DC?4:r<NC?5:r<OC?6:r<TC?7:r<kC?8:r<BC?9:10},LC={encode:_C,decode:CC,encodingLength:$C},E2=LC;const _2=(r,e,t=0)=>(E2.encode(r,e,t),e),A2=r=>E2.encodingLength(r),Tu=(r,e)=>{const t=e.byteLength,i=A2(r),n=i+A2(t),s=new Uint8Array(n+t);return _2(r,s,0),_2(t,s,i),s.set(e,n),new UC(r,t,e,s)};class UC{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}}const S2=({name:r,code:e,encode:t})=>new FC(r,e,t);class FC{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Tu(this.code,t):t.then(i=>Tu(this.code,i))}else throw Error("Unknown type, must be binary type")}}const C2=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),qC=S2({name:"sha2-256",code:18,encode:C2("SHA-256")}),jC=S2({name:"sha2-512",code:19,encode:C2("SHA-512")});var zC=Object.freeze({__proto__:null,sha256:qC,sha512:jC});const M2=0,HC="identity",I2=m2;var WC=Object.freeze({__proto__:null,identity:{code:M2,name:HC,encode:I2,digest:r=>Tu(M2,I2(r))}});new TextEncoder,new TextDecoder;const P2={...FS,...jS,...HS,...KS,...JS,...sC,...cC,...uC,...mC,...EC};({...zC,...WC});function R2(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function KC(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?R2(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function D2(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const N2=D2("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),ku=D2("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=KC(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),VC={utf8:N2,"utf-8":N2,hex:P2.base16,latin1:ku,ascii:ku,binary:ku,...P2};function GC(r,e="utf8"){const t=VC[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?R2(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}const O2="wc",JC=2,T2="core",Ln=`${O2}@2:${T2}:`,QC={logger:"error"},YC={database:":memory:"},ZC="crypto",k2="client_ed25519_seed",XC=Ae.ONE_DAY,eM="keychain",tM="0.3",rM="messages",iM="0.3",nM=Ae.SIX_HOURS,sM="publisher",B2="irn",oM="error",$2="wss://relay.walletconnect.com",L2="wss://relay.walletconnect.org",aM="relayer",fr={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},cM="_subscription",tn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},lM=Ae.ONE_SECOND,fM="2.10.0",uM=1e4,hM="0.3",dM="WALLETCONNECT_CLIENT_ID",$i={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},pM="subscription",gM="0.3",mM=Ae.FIVE_SECONDS*1e3,bM="pairing",xM="0.3",Ca={wc_pairingDelete:{req:{ttl:Ae.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ae.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ae.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ae.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ae.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ae.ONE_DAY,prompt:!1,tag:0}}},Li={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},vM="history",wM="0.3",yM="expirer",ti={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},EM="0.3",Bu="verify-api",dl="https://verify.walletconnect.com",U2="https://verify.walletconnect.org";class _M{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=eM,this.version=tM,this.initialized=!1,this.storagePrefix=Ln,this.init=async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();const n=this.keychain.get(i);if(typeof n>"u"){const{message:s}=ae("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(s)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=e,this.logger=zr(t,this.name)}get context(){return Mr(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,Wb(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Kb(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}class AM{constructor(e,t,i){this.core=e,this.logger=t,this.name=ZC,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();const n=await this.getClientSeed(),s=Qm(n);return Jm(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const n=B_();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();const s=await this.getClientSeed(),o=Qm(s),c=Eu();return await r9(c,n,XC,o)},this.generateSharedKey=(n,s,o)=>{this.isInitialized();const c=this.getPrivateKey(n),l=$_(c,s);return this.setSymKey(l,o)},this.setSymKey=async(n,s)=>{this.isInitialized();const o=s||L_(n);return await this.keychain.set(o,n),o},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,s,o)=>{this.isInitialized();const c=Fb(o),l=bf(s);if(qb(c)){const _=c.senderPublicKey,A=c.receiverPublicKey;n=await this.generateSharedKey(_,A)}const h=this.getSymKey(n),{type:p,senderPublicKey:v}=c;return F_({type:p,symKey:h,message:l,senderPublicKey:v})},this.decode=async(n,s,o)=>{this.isInitialized();const c=z_(s,o);if(qb(c)){const l=c.receiverPublicKey,h=c.senderPublicKey;n=await this.generateSharedKey(l,h)}try{const l=this.getSymKey(n),h=q_({symKey:l,encoded:s});return mf(h)}catch(l){this.logger.error(`Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}},this.getPayloadType=n=>{const s=sl(n);return ma(s.type)},this.getPayloadSenderPublicKey=n=>{const s=sl(n);return s.senderPublicKey?ei(s.senderPublicKey,xr):void 0},this.core=e,this.logger=zr(t,this.name),this.keychain=i||new _M(this.core,this.logger)}get context(){return Mr(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(k2)}catch{e=Eu(),await this.keychain.set(k2,e)}return GC(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}class SM extends i8{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=rM,this.version=iM,this.initialized=!1,this.storagePrefix=Ln,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();const s=ro(n);let o=this.messages.get(i);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=n,this.messages.set(i,o),await this.persist()),s},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();const s=this.get(i),o=ro(n);return typeof s[o]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=zr(e,this.name),this.core=t}get context(){return Mr(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,Wb(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?Kb(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}class CM extends n8{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new ki.EventEmitter,this.name=sM,this.queue=new Map,this.publishTimeout=Ae.toMiliseconds(Ae.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(i,n,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}});try{const c=s?.ttl||nM,l=Au(s),h=s?.prompt||!1,p=s?.tag||0,v=s?.id||f2().toString(),_={topic:i,message:n,opts:{ttl:c,relay:l,prompt:h,tag:p,id:v}},A=setTimeout(()=>this.queue.set(v,_),this.publishTimeout);try{await await va(this.rpcPublish(i,n,c,l,h,p,v),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(v),this.relayer.events.emit(fr.publish,_)}catch(P){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(o=s?.internal)!=null&&o.throwOnFailedPublish)throw this.removeRequestFromQueue(v),P;return}finally{clearTimeout(A)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}})}catch(c){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(c),c}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=e,this.logger=zr(t,this.name),this.registerEventListeners()}get context(){return Mr(this.logger)}rpcPublish(e,t,i,n,s,o,c){var l,h,p,v;const _={method:al(n.protocol).publish,params:{topic:e,message:t,ttl:i,prompt:s,tag:o},id:c};return vr((l=_.params)==null?void 0:l.prompt)&&((h=_.params)==null||delete h.prompt),vr((p=_.params)==null?void 0:p.tag)&&((v=_.params)==null||delete v.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:_}),this.relayer.request(_)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:t,message:i,opts:n}=e;await this.publish(t,i,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(oa.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(fr.connection_stalled);return}this.checkQueue()}),this.relayer.on(fr.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class MM{constructor(){this.map=new Map,this.set=(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const n=i.filter(s=>s!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var IM=Object.defineProperty,PM=Object.defineProperties,RM=Object.getOwnPropertyDescriptors,F2=Object.getOwnPropertySymbols,DM=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable,q2=(r,e,t)=>e in r?IM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ma=(r,e)=>{for(var t in e||(e={}))DM.call(e,t)&&q2(r,t,e[t]);if(F2)for(var t of F2(e))NM.call(e,t)&&q2(r,t,e[t]);return r},$u=(r,e)=>PM(r,RM(e));class OM extends a8{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new MM,this.events=new ki.EventEmitter,this.name=pM,this.version=gM,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Ln,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{const s=Au(n),o={topic:i,relay:s};this.pending.set(i,o);const c=await this.rpcSubscribe(i,s);return this.onSubscribe(c,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}}),c}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>this.topics.includes(i)?!0:await new Promise((n,s)=>{const o=new Ae.Watch;o.start(this.pendingSubscriptionWatchLabel);const c=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(c),o.stop(this.pendingSubscriptionWatchLabel),n(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=mM&&(clearInterval(c),o.stop(this.pendingSubscriptionWatchLabel),s(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=zr(t,this.name),this.clientId=""}get context(){return Mr(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{const n=Au(i);await this.rpcUnsubscribe(e,t,n);const s=Gt("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(e,t){const i={method:al(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await va(this.relayer.request(i),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(fr.connection_stalled)}return ro(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:al(t.protocol).batchSubscribe,params:{topics:e.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await va(this.relayer.request(i),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(fr.connection_stalled)}}rpcUnsubscribe(e,t,i){const n={method:al(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,$u(Ma({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,Ma({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,Ma({},t)),this.topicMap.set(t.topic,e),this.events.emit($i.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit($i.deleted,$u(Ma({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit($i.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const i=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit($i.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);wa(t)&&this.onBatchSubscribe(t.map((i,n)=>$u(Ma({},e[n]),{id:i})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(oa.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(fr.connect,async()=>{await this.onConnect()}),this.relayer.on(fr.disconnect,()=>{this.onDisconnect()}),this.events.on($i.created,async e=>{const t=$i.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on($i.deleted,async e=>{const t=$i.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var TM=Object.defineProperty,j2=Object.getOwnPropertySymbols,kM=Object.prototype.hasOwnProperty,BM=Object.prototype.propertyIsEnumerable,z2=(r,e,t)=>e in r?TM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$M=(r,e)=>{for(var t in e||(e={}))kM.call(e,t)&&z2(r,t,e[t]);if(j2)for(var t of j2(e))BM.call(e,t)&&z2(r,t,e[t]);return r};class LM extends s8{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new ki.EventEmitter,this.name=aM,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async t=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(t)}catch(i){throw this.logger.debug("Failed to Publish Request"),this.logger.error(i),i}},this.onPayloadHandler=t=>{this.onProviderPayload(t)},this.onConnectHandler=()=>{this.events.emit(fr.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit(fr.error,t)},this.registerProviderListeners=()=>{this.provider.on(tn.payload,this.onPayloadHandler),this.provider.on(tn.connect,this.onConnectHandler),this.provider.on(tn.disconnect,this.onDisconnectHandler),this.provider.on(tn.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?zr(e.logger,this.name):Tf(Of({level:e.logger||oM})),this.messages=new SM(this.logger,e.core),this.subscriber=new OM(this,this.logger),this.publisher=new CM(this,this.logger),this.relayUrl=e?.relayUrl||$2,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${L2}...`),await this.restartTransport(L2)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},uM)}get context(){return Mr(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var i;this.isInitialized();let n=((i=this.subscriber.topicMap.get(e))==null?void 0:i[0])||"";return n||(await Promise.all([new Promise(s=>{this.subscriber.once($i.created,o=>{o.topic===e&&s()})}),new Promise(async s=>{n=await this.subscriber.subscribe(e,t),s()})]),n)}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await va(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(t=>{if(!this.initialized)return t();this.subscriber.once($i.resubscribed,()=>{t()})}),new Promise(async(t,i)=>{try{await va(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(n){i(n);return}t()})])}catch(t){this.logger.error(t);const i=t;if(!this.isConnectionStalled(i.message))throw t;this.provider.events.emit(tn.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await i2())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new gS(new _S(eA({sdkVersion:fM,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:i}=e;await this.messages.set(t,i)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;const n=this.messages.has(t,i);return n&&this.logger.debug(`Ignoring duplicate message: ${i}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Nu(e)){if(!e.method.endsWith(cM))return;const t=e.params,{topic:i,message:n,publishedAt:s}=t.data,o={topic:i,message:n,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace($M({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else ul(e)&&this.events.emit(fr.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(fr.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=Ru(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(tn.payload,this.onPayloadHandler),this.provider.off(tn.connect,this.onConnectHandler),this.provider.off(tn.disconnect,this.onDisconnectHandler),this.provider.off(tn.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(fr.connection_stalled,()=>{this.restartTransport().catch(t=>this.logger.error(t))});let e=await i2();KA(async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch(i=>this.logger.error(i)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(i=>this.logger.error(i))))})}onProviderDisconnect(){this.events.emit(fr.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},Ae.toMiliseconds(lM)))}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{const t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var UM=Object.defineProperty,H2=Object.getOwnPropertySymbols,FM=Object.prototype.hasOwnProperty,qM=Object.prototype.propertyIsEnumerable,W2=(r,e,t)=>e in r?UM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,K2=(r,e)=>{for(var t in e||(e={}))FM.call(e,t)&&W2(r,t,e[t]);if(H2)for(var t of H2(e))qM.call(e,t)&&W2(r,t,e[t]);return r};class pl extends o8{constructor(e,t,i,n=Ln,s=void 0){super(e,t,i,n),this.core=e,this.logger=t,this.name=i,this.map=new Map,this.version=hM,this.cached=[],this.initialized=!1,this.storagePrefix=Ln,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!vr(o)?this.map.set(this.getKey(o),o):_A(o)?this.map.set(o.id,o):AA(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,c)=>{this.isInitialized(),this.map.has(o)?await this.update(o,c):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:c}),this.map.set(o,c),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(c=>Object.keys(o).every(l=>CS(c[l],o[l]))):this.values),this.update=async(o,c)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:c});const l=K2(K2({},this.getData(o)),c);this.map.set(o,l),await this.persist()},this.delete=async(o,c)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:c}),this.map.delete(o),await this.persist())},this.logger=zr(t,this.name),this.storagePrefix=n,this.getKey=s}get context(){return Mr(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){const{message:i}=ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}class jM{constructor(e,t){this.core=e,this.logger=t,this.name=bM,this.version=xM,this.events=new Sg,this.initialized=!1,this.storagePrefix=Ln,this.ignoredPayloadTypes=[vs],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async()=>{this.isInitialized();const i=Eu(),n=await this.core.crypto.setSymKey(i),s=vi(Ae.FIVE_MINUTES),o={protocol:B2},c={topic:n,expiry:s,relay:o,active:!1},l=dA({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:i,relay:o});return await this.pairings.set(n,c),await this.core.relayer.subscribe(n),this.core.expirer.set(n,s),{topic:n,uri:l}},this.pair=async i=>{this.isInitialized(),this.isValidPair(i);const{topic:n,symKey:s,relay:o}=fA(i.uri);if(this.pairings.keys.includes(n))throw new Error(`Pairing already exists: ${n}`);if(this.core.crypto.hasKeys(n))throw new Error(`Keychain already exists: ${n}`);const c=vi(Ae.FIVE_MINUTES),l={topic:n,relay:o,expiry:c,active:!1};return await this.pairings.set(n,l),await this.core.crypto.setSymKey(s,n),await this.core.relayer.subscribe(n,{relay:o}),this.core.expirer.set(n,c),i.activatePairing&&await this.activate({topic:n}),l},this.activate=async({topic:i})=>{this.isInitialized();const n=vi(Ae.THIRTY_DAYS);await this.pairings.update(i,{active:!0,expiry:n}),this.core.expirer.set(i,n)},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);const{topic:n}=i;if(this.pairings.keys.includes(n)){const s=await this.sendRequest(n,"wc_pairingPing",{}),{done:o,resolve:c,reject:l}=io();this.events.once(Lt("pairing_ping",s),({error:h})=>{h?l(h):c()}),await o()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",Gt("USER_DISCONNECTED")),await this.deletePairing(n))},this.sendRequest=async(i,n,s)=>{const o=_a(n,s),c=await this.core.crypto.encode(i,o),l=Ca[n].req;return this.core.history.set(i,o),this.core.relayer.publish(i,c,l),o.id},this.sendResult=async(i,n,s)=>{const o=Ru(i,s),c=await this.core.crypto.encode(n,o),l=await this.core.history.get(n,i),h=Ca[l.request.method].res;await this.core.relayer.publish(n,c,h),await this.core.history.resolve(o)},this.sendError=async(i,n,s)=>{const o=Du(i,s),c=await this.core.crypto.encode(n,o),l=await this.core.history.get(n,i),h=Ca[l.request.method]?Ca[l.request.method].res:Ca.unregistered_method.res;await this.core.relayer.publish(n,c,h),await this.core.history.resolve(o)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,Gt("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{const i=this.pairings.getAll().filter(n=>$n(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{const{topic:n,payload:s}=i;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(n,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,s);default:return this.onUnknownRpcMethodRequest(n,s)}},this.onRelayEventResponse=async i=>{const{topic:n,payload:s}=i,o=(await this.core.history.get(n,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(n,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(i,n)=>{const{id:s}=n;try{this.isValidPing({topic:i}),await this.sendResult(s,i,!0),this.events.emit("pairing_ping",{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}},this.onPairingPingResponse=(i,n)=>{const{id:s}=n;setTimeout(()=>{en(n)?this.events.emit(Lt("pairing_ping",s),{}):wi(n)&&this.events.emit(Lt("pairing_ping",s),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit("pairing_delete",{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(i,n)=>{const{id:s,method:o}=n;try{if(this.registeredMethods.includes(o))return;const c=Gt("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,i,c),this.logger.error(c)}catch(c){await this.sendError(s,i,c),this.logger.error(c)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(Gt("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=i=>{if(!Pr(i)){const{message:n}=ae("MISSING_OR_INVALID",`pair() params: ${i}`);throw new Error(n)}if(!EA(i.uri)){const{message:n}=ae("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw new Error(n)}},this.isValidPing=async i=>{if(!Pr(i)){const{message:s}=ae("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(s)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!Pr(i)){const{message:s}=ae("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(s)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!Jt(i,!1)){const{message:n}=ae("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){const{message:n}=ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if($n(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:n}=ae("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=e,this.logger=zr(t,this.name),this.pairings=new pl(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Mr(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(fr.message,async e=>{const{topic:t,message:i}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;const n=await this.core.crypto.decode(t,i);try{Nu(n)?(this.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):ul(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.core.history.delete(t,n.id))}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(ti.expired,async e=>{const{topic:t}=Gb(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}}class zM extends r8{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new ki.EventEmitter,this.name=vM,this.version=wM,this.cached=[],this.initialized=!1,this.storagePrefix=Ln,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:s}),this.records.has(n.id))return;const o={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:s,expiry:vi(Ae.THIRTY_DAYS)};this.records.set(o.id,o),this.events.emit(Li.created,o)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=wi(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.events.emit(Li.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(s=>{if(s.topic===i){if(typeof n<"u"&&s.id!==n)return;this.records.delete(s.id),this.events.emit(Li.deleted,s)}})},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=zr(t,this.name)}get context(){return Mr(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const i={topic:t.topic,request:_a(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Li.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Li.created,e=>{const t=Li.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Li.updated,e=>{const t=Li.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(Li.deleted,e=>{const t=Li.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(oa.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{Ae.toMiliseconds(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}class HM extends c8{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new ki.EventEmitter,this.name=yM,this.version=EM,this.cached=[],this.initialized=!1,this.storagePrefix=Ln,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{const n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();const s=this.formatTarget(i),o={target:s,expiry:n};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(ti.created,{target:s,expiration:o})},this.get=i=>{this.isInitialized();const n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{if(this.isInitialized(),this.has(i)){const n=this.formatTarget(i),s=this.getExpiration(n);this.expirations.delete(n),this.events.emit(ti.deleted,{target:n,expiration:s})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=zr(t,this.name)}get context(){return Mr(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return tA(e);if(typeof e=="number")return rA(e);const{message:t}=ae("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ti.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=ae("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;Ae.toMiliseconds(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(ti.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(oa.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(ti.created,e=>{const t=ti.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(ti.expired,e=>{const t=ti.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(ti.deleted,e=>{const t=ti.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}}}class WM extends l8{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=Bu,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async i=>{if(this.verifyDisabled||ol()||!ba())return;const n=i?.verifyUrl||dl;this.verifyUrl!==n&&this.removeIframe(),this.verifyUrl=n;try{await this.createIframe()}catch(s){this.logger.warn(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.warn(s)}if(!this.initialized){this.removeIframe(),this.verifyUrl=U2;try{await this.createIframe()}catch(s){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(s),this.verifyDisabled=!0}}},this.register=async i=>{this.initialized?this.sendPost(i.attestationId):(this.addToQueue(i.attestationId),await this.init())},this.resolve=async i=>{if(this.isDevEnv)return"";const n=i?.verifyUrl||dl;let s="";try{s=await this.fetchAttestation(i.attestationId,n)}catch(o){this.logger.warn(`failed to resolve attestation: ${i.attestationId} from url: ${n}`),this.logger.warn(o),s=await this.fetchAttestation(i.attestationId,U2)}return s},this.fetchAttestation=async(i,n)=>{var s;this.logger.info(`resolving attestation: ${i} from url: ${n}`);const o=this.startAbortTimer(Ae.ONE_SECOND*2),c=await fetch(`${n}/attestation/${i}`,{signal:this.abortController.signal});return clearTimeout(o),c.status===200?(s=await c.json())==null?void 0:s.origin:""},this.addToQueue=i=>{this.queue.push(i)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(i=>this.sendPost(i)),this.queue=[])},this.sendPost=i=>{var n;try{if(!this.iframe)return;(n=this.iframe.contentWindow)==null||n.postMessage(i,"*"),this.logger.info(`postMessage sent: ${i} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let i;const n=s=>{s.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",n),i())};await Promise.race([new Promise(s=>{if(document.getElementById(Bu))return s();window.addEventListener("message",n);const o=document.createElement("iframe");o.id=Bu,o.src=`${this.verifyUrl}/${this.projectId}`,o.style.display="none",document.body.append(o),this.iframe=o,i=s}),new Promise((s,o)=>setTimeout(()=>{window.removeEventListener("message",n),o("verify iframe load timeout")},Ae.toMiliseconds(Ae.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.logger=zr(t,this.name),this.verifyUrl=dl,this.abortController=new AbortController,this.isDevEnv=_u()&&MS.IS_VITEST}get context(){return Mr(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Ae.toMiliseconds(e))}}var KM=Object.defineProperty,V2=Object.getOwnPropertySymbols,VM=Object.prototype.hasOwnProperty,GM=Object.prototype.propertyIsEnumerable,G2=(r,e,t)=>e in r?KM(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J2=(r,e)=>{for(var t in e||(e={}))VM.call(e,t)&&G2(r,t,e[t]);if(V2)for(var t of V2(e))GM.call(e,t)&&G2(r,t,e[t]);return r};const JM=class qv extends t8{constructor(e){super(e),this.protocol=O2,this.version=JC,this.name=T2,this.events=new ki.EventEmitter,this.initialized=!1,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||$2;const t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Tf(Of({level:e?.logger||QC.logger}));this.logger=zr(t,this.name),this.heartbeat=new oa.HeartBeat,this.crypto=new AM(this,this.logger,e?.keychain),this.history=new zM(this,this.logger),this.expirer=new HM(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new c4(J2(J2({},YC),e?.storageOptions)),this.relayer=new LM({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new jM(this,this.logger),this.verify=new WM(this.projectId||"",this.logger)}static async init(e){const t=new qv(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(dM,i),t}get context(){return Mr(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},Q2="wc",Y2=2,Z2="client",Lu=`${Q2}@${Y2}:${Z2}:`,Uu={name:Z2,logger:"error"},X2="WALLETCONNECT_DEEPLINK_CHOICE",QM="proposal",YM="Proposal expired",ZM="session",gl=Ae.SEVEN_DAYS,XM="engine",Ia={wc_sessionPropose:{req:{ttl:Ae.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Ae.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:Ae.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Ae.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Ae.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Ae.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Ae.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Ae.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Ae.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Ae.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Ae.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Ae.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Ae.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Ae.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Ae.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:Ae.THIRTY_SECONDS,prompt:!1,tag:1115}}},Fu={min:Ae.FIVE_MINUTES,max:Ae.SEVEN_DAYS},rn={idle:"IDLE",active:"ACTIVE"},eI="request",tI=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var rI=Object.defineProperty,iI=Object.defineProperties,nI=Object.getOwnPropertyDescriptors,ex=Object.getOwnPropertySymbols,sI=Object.prototype.hasOwnProperty,oI=Object.prototype.propertyIsEnumerable,tx=(r,e,t)=>e in r?rI(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Rr=(r,e)=>{for(var t in e||(e={}))sI.call(e,t)&&tx(r,t,e[t]);if(ex)for(var t of ex(e))oI.call(e,t)&&tx(r,t,e[t]);return r},Pa=(r,e)=>iI(r,nI(e));class aI extends u8{constructor(e){super(e),this.name=XM,this.events=new Sg,this.initialized=!1,this.ignoredPayloadTypes=[vs],this.requestQueue={state:rn.idle,queue:[]},this.sessionRequestQueue={state:rn.idle,queue:[]},this.requestQueueDelay=Ae.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(Ia)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Ae.toMiliseconds(this.requestQueueDelay)))},this.connect=async t=>{await this.isInitialized();const i=Pa(Rr({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(i);const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:c,relays:l}=i;let h=n,p,v=!1;if(h&&(v=this.client.core.pairing.pairings.get(h).active),!h||!v){const{topic:k,uri:I}=await this.client.core.pairing.create();h=k,p=I}const _=await this.client.core.crypto.generateKeyPair(),A=Rr({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:B2}],proposer:{publicKey:_,metadata:this.client.metadata}},c&&{sessionProperties:c}),{reject:P,resolve:S,done:R}=io(Ae.FIVE_MINUTES,YM);if(this.events.once(Lt("session_connect"),async({error:k,session:I})=>{if(k)P(k);else if(I){I.self.publicKey=_;const N=Pa(Rr({},I),{requiredNamespaces:I.requiredNamespaces,optionalNamespaces:I.optionalNamespaces});await this.client.session.set(I.topic,N),await this.setExpiry(I.topic,I.expiry),h&&await this.client.core.pairing.updateMetadata({topic:h,metadata:I.peer.metadata}),S(N)}}),!h){const{message:k}=ae("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(k)}const B=await this.sendRequest({topic:h,method:"wc_sessionPropose",params:A}),T=vi(Ae.FIVE_MINUTES);return await this.setProposal(B,Rr({id:B,expiry:T},A)),{uri:p,approval:R}},this.pair=async t=>(await this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{await this.isInitialized(),await this.isValidApprove(t);const{id:i,relayProtocol:n,namespaces:s,sessionProperties:o}=t,c=this.client.proposal.get(i);let{pairingTopic:l,proposer:h,requiredNamespaces:p,optionalNamespaces:v}=c;l=l||"",ya(p)||(p=bA(s,"approve()"));const _=await this.client.core.crypto.generateKeyPair(),A=h.publicKey,P=await this.client.core.crypto.generateSharedKey(_,A);l&&i&&(await this.client.core.pairing.updateMetadata({topic:l,metadata:h.metadata}),await this.sendResult({id:i,topic:l,result:{relay:{protocol:n??"irn"},responderPublicKey:_}}),await this.client.proposal.delete(i,Gt("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:l}));const S=Rr({relay:{protocol:n??"irn"},namespaces:s,requiredNamespaces:p,optionalNamespaces:v,pairingTopic:l,controller:{publicKey:_,metadata:this.client.metadata},expiry:vi(gl)},o&&{sessionProperties:o});await this.client.core.relayer.subscribe(P),await this.sendRequest({topic:P,method:"wc_sessionSettle",params:S,throwOnFailedPublish:!0});const R=Pa(Rr({},S),{topic:P,pairingTopic:l,acknowledged:!1,self:S.controller,peer:{publicKey:h.publicKey,metadata:h.metadata},controller:_});return await this.client.session.set(P,R),await this.setExpiry(P,vi(gl)),{topic:P,acknowledged:()=>new Promise(B=>setTimeout(()=>B(this.client.session.get(P)),500))}},this.reject=async t=>{await this.isInitialized(),await this.isValidReject(t);const{id:i,reason:n}=t,{pairingTopic:s}=this.client.proposal.get(i);s&&(await this.sendError(i,s,n),await this.client.proposal.delete(i,Gt("USER_DISCONNECTED")))},this.update=async t=>{await this.isInitialized(),await this.isValidUpdate(t);const{topic:i,namespaces:n}=t,s=await this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:n}}),{done:o,resolve:c,reject:l}=io();return this.events.once(Lt("session_update",s),({error:h})=>{h?l(h):c()}),await this.client.session.update(i,{namespaces:n}),{acknowledged:o}},this.extend=async t=>{await this.isInitialized(),await this.isValidExtend(t);const{topic:i}=t,n=await this.sendRequest({topic:i,method:"wc_sessionExtend",params:{}}),{done:s,resolve:o,reject:c}=io();return this.events.once(Lt("session_extend",n),({error:l})=>{l?c(l):o()}),await this.setExpiry(i,vi(gl)),{acknowledged:s}},this.request=async t=>{await this.isInitialized(),await this.isValidRequest(t);const{chainId:i,request:n,topic:s,expiry:o}=t,c=Pu(),{done:l,resolve:h,reject:p}=io(o);return this.events.once(Lt("session_request",c),({error:v,result:_})=>{v?p(v):h(_)}),await Promise.all([new Promise(async v=>{await this.sendRequest({clientRpcId:c,topic:s,method:"wc_sessionRequest",params:{request:n,chainId:i},expiry:o,throwOnFailedPublish:!0}).catch(_=>p(_)),this.client.events.emit("session_request_sent",{topic:s,request:n,chainId:i,id:c}),v()}),new Promise(async v=>{const _=await this.client.core.storage.getItem(X2);iA({id:c,topic:s,wcDeepLink:_}),v()}),l()]).then(v=>v[2])},this.respond=async t=>{await this.isInitialized(),await this.isValidRespond(t);const{topic:i,response:n}=t,{id:s}=n;en(n)?await this.sendResult({id:s,topic:i,result:n.result,throwOnFailedPublish:!0}):wi(n)&&await this.sendError(s,i,n.error),this.cleanupAfterResponse(t)},this.ping=async t=>{await this.isInitialized(),await this.isValidPing(t);const{topic:i}=t;if(this.client.session.keys.includes(i)){const n=await this.sendRequest({topic:i,method:"wc_sessionPing",params:{}}),{done:s,resolve:o,reject:c}=io();this.events.once(Lt("session_ping",n),({error:l})=>{l?c(l):o()}),await s()}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async t=>{await this.isInitialized(),await this.isValidEmit(t);const{topic:i,event:n,chainId:s}=t;await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:n,chainId:s}})},this.disconnect=async t=>{await this.isInitialized(),await this.isValidDisconnect(t);const{topic:i}=t;this.client.session.keys.includes(i)?(await this.sendRequest({topic:i,method:"wc_sessionDelete",params:Gt("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(i)):await this.client.core.pairing.disconnect({topic:i})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(i=>wA(i,t))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const i=this.client.core.pairing.pairings.get(t.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(s=>{var o,c;return((o=s.peerMetadata)==null?void 0:o.url)&&((c=s.peerMetadata)==null?void 0:c.url)===t.peer.metadata.url&&s.topic&&s.topic!==i.topic});if(n.length===0)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}},this.deleteSession=async(t,i)=>{const{self:n}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),this.client.session.delete(t,Gt("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(n.publicKey)&&await this.client.core.crypto.deleteKeyPair(n.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),i||this.client.core.expirer.del(t),this.client.core.storage.removeItem(X2).catch(s=>this.client.logger.warn(s))},this.deleteProposal=async(t,i)=>{await Promise.all([this.client.proposal.delete(t,Gt("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,i),n?Promise.resolve():this.client.core.expirer.del(t)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==t),n&&(this.sessionRequestQueue.state=rn.idle)},this.setExpiry=async(t,i)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:i}),this.client.core.expirer.set(t,i)},this.setProposal=async(t,i)=>{await this.client.proposal.set(t,i),this.client.core.expirer.set(t,i.expiry)},this.setPendingSessionRequest=async t=>{const i=Ia.wc_sessionRequest.req.ttl,{id:n,topic:s,params:o}=t;await this.client.pendingRequest.set(n,{id:n,topic:s,params:o}),i&&this.client.core.expirer.set(n,vi(i))},this.sendRequest=async t=>{const{topic:i,method:n,params:s,expiry:o,relayRpcId:c,clientRpcId:l,throwOnFailedPublish:h}=t,p=_a(n,s,l);if(ba()&&tI.includes(n)){const A=ro(JSON.stringify(p));this.client.core.verify.register({attestationId:A})}const v=await this.client.core.crypto.encode(i,p),_=Ia[n].req;return o&&(_.ttl=o),c&&(_.id=c),this.client.core.history.set(i,p),h?(_.internal=Pa(Rr({},_.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,v,_)):this.client.core.relayer.publish(i,v,_).catch(A=>this.client.logger.error(A)),p.id},this.sendResult=async t=>{const{id:i,topic:n,result:s,throwOnFailedPublish:o}=t,c=Ru(i,s),l=await this.client.core.crypto.encode(n,c),h=await this.client.core.history.get(n,i),p=Ia[h.request.method].res;o?(p.internal=Pa(Rr({},p.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,l,p)):this.client.core.relayer.publish(n,l,p).catch(v=>this.client.logger.error(v)),await this.client.core.history.resolve(c)},this.sendError=async(t,i,n)=>{const s=Du(t,n),o=await this.client.core.crypto.encode(i,s),c=await this.client.core.history.get(i,t),l=Ia[c.request.method].res;this.client.core.relayer.publish(i,o,l),await this.client.core.history.resolve(s)},this.cleanup=async()=>{const t=[],i=[];this.client.session.getAll().forEach(n=>{$n(n.expiry)&&t.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{$n(n.expiry)&&i.push(n.id)}),await Promise.all([...t.map(n=>this.deleteSession(n)),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===rn.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=rn.active;const t=this.requestQueue.queue.shift();if(t)try{this.processRequest(t),await new Promise(i=>setTimeout(i,300))}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=rn.idle},this.processRequest=t=>{const{topic:i,payload:n}=t,s=n.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeRequest(i,n);case"wc_sessionSettle":return this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return this.onSessionExtendRequest(i,n);case"wc_sessionPing":return this.onSessionPingRequest(i,n);case"wc_sessionDelete":return this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return this.onSessionRequest(i,n);case"wc_sessionEvent":return this.onSessionEventRequest(i,n);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async t=>{const{topic:i,payload:n}=t,s=(await this.client.core.history.get(i,n.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:i}=t,{message:n}=ae("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)},this.onSessionProposeRequest=async(t,i)=>{const{params:n,id:s}=i;try{this.isValidConnect(Rr({},i.params));const o=vi(Ae.FIVE_MINUTES),c=Rr({id:s,pairingTopic:t,expiry:o},n);await this.setProposal(s,c);const l=ro(JSON.stringify(i)),h=await this.getVerifyContext(l,c.proposer.metadata);this.client.events.emit("session_proposal",{id:s,params:c,verifyContext:h})}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(t,i)=>{const{id:n}=i;if(en(i)){const{result:s}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const o=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const c=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const h=await this.client.core.crypto.generateSharedKey(c,l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:h});const p=await this.client.core.relayer.subscribe(h);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:p}),await this.client.core.pairing.activate({topic:t})}else wi(i)&&(await this.client.proposal.delete(n,Gt("USER_DISCONNECTED")),this.events.emit(Lt("session_connect"),{error:i.error}))},this.onSessionSettleRequest=async(t,i)=>{const{id:n,params:s}=i;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:c,expiry:l,namespaces:h,requiredNamespaces:p,optionalNamespaces:v,sessionProperties:_,pairingTopic:A}=i.params,P=Rr({topic:t,relay:o,expiry:l,namespaces:h,acknowledged:!0,pairingTopic:A,requiredNamespaces:p,optionalNamespaces:v,controller:c.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:c.publicKey,metadata:c.metadata}},_&&{sessionProperties:_});await this.sendResult({id:i.id,topic:t,result:!0}),this.events.emit(Lt("session_connect"),{session:P}),this.cleanupDuplicatePairings(P)}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(t,i)=>{const{id:n}=i;en(i)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(Lt("session_approve",n),{})):wi(i)&&(await this.client.session.delete(t,Gt("USER_DISCONNECTED")),this.events.emit(Lt("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(t,i)=>{const{params:n,id:s}=i;try{const o=`${t}_session_update`,c=fl.get(o);if(c&&this.isRequestOutOfSync(c,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidUpdate(Rr({topic:t},n)),await this.client.session.update(t,{namespaces:n.namespaces}),await this.sendResult({id:s,topic:t,result:!0}),this.client.events.emit("session_update",{id:s,topic:t,params:n}),fl.set(o,s)}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.isRequestOutOfSync=(t,i)=>parseInt(i.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,i)=>{const{id:n}=i;en(i)?this.events.emit(Lt("session_update",n),{}):wi(i)&&this.events.emit(Lt("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(t,i)=>{const{id:n}=i;try{this.isValidExtend({topic:t}),await this.setExpiry(t,vi(gl)),await this.sendResult({id:n,topic:t,result:!0}),this.client.events.emit("session_extend",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionExtendResponse=(t,i)=>{const{id:n}=i;en(i)?this.events.emit(Lt("session_extend",n),{}):wi(i)&&this.events.emit(Lt("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(t,i)=>{const{id:n}=i;try{this.isValidPing({topic:t}),await this.sendResult({id:n,topic:t,result:!0}),this.client.events.emit("session_ping",{id:n,topic:t})}catch(s){await this.sendError(n,t,s),this.client.logger.error(s)}},this.onSessionPingResponse=(t,i)=>{const{id:n}=i;setTimeout(()=>{en(i)?this.events.emit(Lt("session_ping",n),{}):wi(i)&&this.events.emit(Lt("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(t,i)=>{const{id:n}=i;try{this.isValidDisconnect({topic:t,reason:i.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(fr.publish,async()=>{s(await this.deleteSession(t))})}),this.sendResult({id:n,topic:t,result:!0})]),this.client.events.emit("session_delete",{id:n,topic:t})}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async(t,i)=>{const{id:n,params:s}=i;try{this.isValidRequest(Rr({topic:t},s)),await this.setPendingSessionRequest({id:n,topic:t,params:s}),this.addSessionRequestToSessionRequestQueue({id:n,topic:t,params:s}),await this.processSessionRequestQueue()}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(t,i)=>{const{id:n}=i;en(i)?this.events.emit(Lt("session_request",n),{result:i.result}):wi(i)&&this.events.emit(Lt("session_request",n),{error:i.error})},this.onSessionEventRequest=async(t,i)=>{const{id:n,params:s}=i;try{const o=`${t}_session_event_${s.event.name}`,c=fl.get(o);if(c&&this.isRequestOutOfSync(c,n)){this.client.logger.info(`Discarding out of sync request - ${n}`);return}this.isValidEmit(Rr({topic:t},s)),this.client.events.emit("session_event",{id:n,topic:t,params:s}),fl.set(o,n)}catch(o){await this.sendError(n,t,o),this.client.logger.error(o)}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=rn.idle,this.processSessionRequestQueue()},Ae.toMiliseconds(this.requestQueueDelay))},this.processSessionRequestQueue=async()=>{if(this.sessionRequestQueue.state===rn.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{const{id:i,topic:n,params:s}=t,o=ro(JSON.stringify(_a("wc_sessionRequest",s,i))),c=this.client.session.get(n),l=await this.getVerifyContext(o,c.peer.metadata);this.sessionRequestQueue.state=rn.active,this.client.events.emit("session_request",{id:i,topic:n,params:s,verifyContext:l})}catch(i){this.client.logger.error(i)}},this.isValidConnect=async t=>{if(!Pr(t)){const{message:l}=ae("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(l)}const{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:s,sessionProperties:o,relays:c}=t;if(vr(i)||await this.isValidPairingTopic(i),!NA(c)){const{message:l}=ae("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}!vr(n)&&ya(n)!==0&&this.validateNamespaces(n,"requiredNamespaces"),!vr(s)&&ya(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),vr(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(t,i)=>{const n=DA(t,"connect()",i);if(n)throw new Error(n.message)},this.isValidApprove=async t=>{if(!Pr(t))throw new Error(ae("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:i,namespaces:n,relayProtocol:s,sessionProperties:o}=t;await this.isValidProposalId(i);const c=this.client.proposal.get(i),l=ll(n,"approve()");if(l)throw new Error(l.message);const h=t2(c.requiredNamespaces,n,"approve()");if(h)throw new Error(h.message);if(!Jt(s,!0)){const{message:p}=ae("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(p)}vr(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async t=>{if(!Pr(t)){const{message:s}=ae("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(s)}const{id:i,reason:n}=t;if(await this.isValidProposalId(i),!TA(n)){const{message:s}=ae("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidSessionSettleRequest=t=>{if(!Pr(t)){const{message:h}=ae("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(h)}const{relay:i,controller:n,namespaces:s,expiry:o}=t;if(!Xb(i)){const{message:h}=ae("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(h)}const c=SA(n,"onSessionSettleRequest()");if(c)throw new Error(c.message);const l=ll(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if($n(o)){const{message:h}=ae("EXPIRED","onSessionSettleRequest()");throw new Error(h)}},this.isValidUpdate=async t=>{if(!Pr(t)){const{message:l}=ae("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(l)}const{topic:i,namespaces:n}=t;await this.isValidSessionTopic(i);const s=this.client.session.get(i),o=ll(n,"update()");if(o)throw new Error(o.message);const c=t2(s.requiredNamespaces,n,"update()");if(c)throw new Error(c.message)},this.isValidExtend=async t=>{if(!Pr(t)){const{message:n}=ae("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(n)}const{topic:i}=t;await this.isValidSessionTopic(i)},this.isValidRequest=async t=>{if(!Pr(t)){const{message:l}=ae("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(l)}const{topic:i,request:n,chainId:s,expiry:o}=t;await this.isValidSessionTopic(i);const{namespaces:c}=this.client.session.get(i);if(!e2(c,s)){const{message:l}=ae("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!kA(n)){const{message:l}=ae("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(l)}if(!LA(c,s,n.method)){const{message:l}=ae("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(l)}if(o&&!jA(o,Fu)){const{message:l}=ae("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Fu.min} and ${Fu.max}`);throw new Error(l)}},this.isValidRespond=async t=>{if(!Pr(t)){const{message:s}=ae("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(s)}const{topic:i,response:n}=t;if(await this.isValidSessionTopic(i),!BA(n)){const{message:s}=ae("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidPing=async t=>{if(!Pr(t)){const{message:n}=ae("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(n)}const{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async t=>{if(!Pr(t)){const{message:c}=ae("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(c)}const{topic:i,event:n,chainId:s}=t;await this.isValidSessionTopic(i);const{namespaces:o}=this.client.session.get(i);if(!e2(o,s)){const{message:c}=ae("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(c)}if(!$A(n)){const{message:c}=ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(c)}if(!UA(o,s,n.name)){const{message:c}=ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(c)}},this.isValidDisconnect=async t=>{if(!Pr(t)){const{message:n}=ae("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(n)}const{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.getVerifyContext=async(t,i)=>{const n={verified:{verifyUrl:i.verifyUrl||dl,validation:"UNKNOWN",origin:i.url||""}};try{const s=await this.client.core.verify.resolve({attestationId:t,verifyUrl:i.verifyUrl});s&&(n.verified.origin=s,n.verified.validation=s===new URL(i.url).origin?"VALID":"INVALID")}catch(s){this.client.logger.error(s)}return this.client.logger.info(`Verify context: ${JSON.stringify(n)}`),n},this.validateSessionProps=(t,i)=>{Object.values(t).forEach(n=>{if(!Jt(n,!1)){const{message:s}=ae("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(n)}`);throw new Error(s)}})}}async isInitialized(){if(!this.initialized){const{message:e}=ae("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(fr.message,async e=>{const{topic:t,message:i}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(i)))return;const n=await this.client.core.crypto.decode(t,i);try{Nu(n)?(this.client.core.history.set(t,n),this.onRelayEventRequest({topic:t,payload:n})):ul(n)?(await this.client.core.history.resolve(n),await this.onRelayEventResponse({topic:t,payload:n}),this.client.core.history.delete(t,n.id)):this.onRelayEventUnknownPayload({topic:t,payload:n})}catch(s){this.client.logger.error(s)}})}registerExpirerEvents(){this.client.core.expirer.on(ti.expired,async e=>{const{topic:t,id:i}=Gb(e.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,ae("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}isValidPairingTopic(e){if(!Jt(e,!1)){const{message:t}=ae("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if($n(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=ae("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!Jt(e,!1)){const{message:t}=ae("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){const{message:t}=ae("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if($n(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:t}=ae("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Jt(e,!1)){const{message:t}=ae("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=ae("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!OA(e)){const{message:t}=ae("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=ae("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if($n(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:t}=ae("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class cI extends pl{constructor(e,t){super(e,t,QM,Lu),this.core=e,this.logger=t}}class lI extends pl{constructor(e,t){super(e,t,ZM,Lu),this.core=e,this.logger=t}}class fI extends pl{constructor(e,t){super(e,t,eI,Lu,i=>i.id),this.core=e,this.logger=t}}class qu extends f8{constructor(e){super(e),this.protocol=Q2,this.version=Y2,this.name=Uu.name,this.events=new ki.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.removeAllListeners=i=>this.events.removeAllListeners(i),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}},this.name=e?.name||Uu.name,this.metadata=e?.metadata||Q_();const t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Tf(Of({level:e?.logger||Uu.logger}));this.core=e?.core||new JM(e),this.logger=zr(t,this.name),this.session=new lI(this.core,this.logger),this.proposal=new cI(this.core,this.logger),this.pendingRequest=new fI(this.core,this.logger),this.engine=new aI(this)}static async init(e){const t=new qu(e);return await t.initialize(),t}get context(){return Mr(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var uI=Object.defineProperty,hI=Object.defineProperties,dI=Object.getOwnPropertyDescriptors,rx=Object.getOwnPropertySymbols,pI=Object.prototype.hasOwnProperty,gI=Object.prototype.propertyIsEnumerable,ix=(r,e,t)=>e in r?uI(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mI=(r,e)=>{for(var t in e||(e={}))pI.call(e,t)&&ix(r,t,e[t]);if(rx)for(var t of rx(e))gI.call(e,t)&&ix(r,t,e[t]);return r},bI=(r,e)=>hI(r,dI(e)),ju=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},Et=(r,e,t)=>(ju(r,e,"read from private field"),t?t.call(r):e.get(r)),ys=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},ml=(r,e,t,i)=>(ju(r,e,"write to private field"),e.set(r,t),t),ur=(r,e,t)=>(ju(r,e,"access private method"),t),Es,so,Ra,Qt,zu,nx,hr,wr,Hu,sx;class xI{constructor(e){ys(this,zu),ys(this,hr),ys(this,Hu),ys(this,Es,void 0),ys(this,so,void 0),ys(this,Ra,void 0),ys(this,Qt,void 0),ml(this,Es,e),ml(this,so,ur(this,zu,nx).call(this)),ur(this,hr,wr).call(this)}async connect(e){const{requiredNamespaces:t,optionalNamespaces:i}=e;return new Promise(async(n,s)=>{await ur(this,hr,wr).call(this);const o=Et(this,so).subscribeModal(h=>{h.open||(o(),s(new Error("Modal closed")))}),{uri:c,approval:l}=await Et(this,Qt).connect(e);if(c){const h=new Set;t&&Object.values(t).forEach(({chains:p})=>{p&&p.forEach(v=>h.add(v))}),i&&Object.values(i).forEach(({chains:p})=>{p&&p.forEach(v=>h.add(v))}),await Et(this,so).openModal({uri:c,chains:Array.from(h)})}try{const h=await l();n(h)}catch(h){s(h)}finally{o(),Et(this,so).closeModal()}})}async disconnect(e){await ur(this,hr,wr).call(this),await Et(this,Qt).disconnect(e)}async request(e){return await ur(this,hr,wr).call(this),await Et(this,Qt).request(e)}async getSessions(){return await ur(this,hr,wr).call(this),Et(this,Qt).session.getAll()}async getSession(){return await ur(this,hr,wr).call(this),Et(this,Qt).session.getAll().at(-1)}async onSessionEvent(e){await ur(this,hr,wr).call(this),Et(this,Qt).on("session_event",e)}async offSessionEvent(e){await ur(this,hr,wr).call(this),Et(this,Qt).off("session_event",e)}async onSessionUpdate(e){await ur(this,hr,wr).call(this),Et(this,Qt).on("session_update",e)}async offSessionUpdate(e){await ur(this,hr,wr).call(this),Et(this,Qt).off("session_update",e)}async onSessionDelete(e){await ur(this,hr,wr).call(this),Et(this,Qt).on("session_delete",e)}async offSessionDelete(e){await ur(this,hr,wr).call(this),Et(this,Qt).off("session_delete",e)}async onSessionExpire(e){await ur(this,hr,wr).call(this),Et(this,Qt).on("session_expire",e)}async offSessionExpire(e){await ur(this,hr,wr).call(this),Et(this,Qt).off("session_expire",e)}}Es=new WeakMap,so=new WeakMap,Ra=new WeakMap,Qt=new WeakMap,zu=new WeakSet,nx=function(){const{modalOptions:r,projectId:e}=Et(this,Es);return new C6(bI(mI({},r),{projectId:e}))},hr=new WeakSet,wr=async function(){return Et(this,Qt)?!0:(!Et(this,Ra)&&typeof window<"u"&&ml(this,Ra,ur(this,Hu,sx).call(this)),Et(this,Ra))},Hu=new WeakSet,sx=async function(){ml(this,Qt,await qu.init({metadata:Et(this,Es).metadata,projectId:Et(this,Es).projectId,relayUrl:Et(this,Es).relayUrl}));const r=await Et(this,Qt).core.crypto.getClientId();try{localStorage.setItem("WCM_WALLETCONNECT_CLIENT_ID",r)}catch{console.info("Unable to set client id")}};const vI=new xI({projectId:"310356f4b71b2f49dee3048bcf68240d",metadata:{name:"Xuseless Gas Airdrop",description:"XLayer Gas 空投申请",url:"https://xuseless.netlify.app",icons:["https://xuseless.netlify.app/icon.png"]}});window.connectWallet=async()=>{try{const r=await vI.connect({requiredNamespaces:{eip155:{methods:["eth_sendTransaction","personal_sign"],chains:["eip155:196"],events:["accountsChanged","chainChanged"]}}});console.log("Wallet connected:",r)}catch(r){console.error("连接失败",r)}},window.ethers=hg;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const bl=window,Wu=bl.ShadowRoot&&(bl.ShadyCSS===void 0||bl.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ku=Symbol(),ox=new WeakMap;let ax=class{constructor(e,t,i){if(this._$cssResult$=!0,i!==Ku)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(Wu&&e===void 0){const i=t!==void 0&&t.length===1;i&&(e=ox.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&ox.set(t,e))}return e}toString(){return this.cssText}};const wI=r=>new ax(typeof r=="string"?r:r+"",void 0,Ku),ct=(r,...e)=>{const t=r.length===1?r[0]:e.reduce(((i,n,s)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+r[s+1]),r[0]);return new ax(t,r,Ku)},yI=(r,e)=>{Wu?r.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((t=>{const i=document.createElement("style"),n=bl.litNonce;n!==void 0&&i.setAttribute("nonce",n),i.textContent=t.cssText,r.appendChild(i)}))},cx=Wu?r=>r:r=>r instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return wI(t)})(r):r;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Vu;const xl=window,lx=xl.trustedTypes,EI=lx?lx.emptyScript:"",fx=xl.reactiveElementPolyfillSupport,Gu={toAttribute(r,e){switch(e){case Boolean:r=r?EI:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){let t=r;switch(e){case Boolean:t=r!==null;break;case Number:t=r===null?null:Number(r);break;case Object:case Array:try{t=JSON.parse(r)}catch{t=null}}return t}},ux=(r,e)=>e!==r&&(e==e||r==r),Ju={attribute:!0,type:String,converter:Gu,reflect:!1,hasChanged:ux},Qu="finalized";let oo=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,i)=>{const n=this._$Ep(i,t);n!==void 0&&(this._$Ev.set(n,i),e.push(n))})),e}static createProperty(e,t=Ju){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const i=typeof e=="symbol"?Symbol():"__"+e,n=this.getPropertyDescriptor(e,i,t);n!==void 0&&Object.defineProperty(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){return{get(){return this[t]},set(n){const s=this[e];this[t]=n,this.requestUpdate(e,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Ju}static finalize(){if(this.hasOwnProperty(Qu))return!1;this[Qu]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,i=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const n of i)this.createProperty(n,t[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const n of i)t.unshift(cx(n))}else e!==void 0&&t.push(cx(e));return t}static _$Ep(e,t){const i=t.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach((t=>t(this)))}addController(e){var t,i;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((i=e.hostConnected)===null||i===void 0||i.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return yI(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach((t=>{var i;return(i=t.hostConnected)===null||i===void 0?void 0:i.call(t)}))}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach((t=>{var i;return(i=t.hostDisconnected)===null||i===void 0?void 0:i.call(t)}))}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$EO(e,t,i=Ju){var n;const s=this.constructor._$Ep(e,i);if(s!==void 0&&i.reflect===!0){const o=(((n=i.converter)===null||n===void 0?void 0:n.toAttribute)!==void 0?i.converter:Gu).toAttribute(t,i.type);this._$El=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(e,t){var i;const n=this.constructor,s=n._$Ev.get(e);if(s!==void 0&&this._$El!==s){const o=n.getPropertyOptions(s),c=typeof o.converter=="function"?{fromAttribute:o.converter}:((i=o.converter)===null||i===void 0?void 0:i.fromAttribute)!==void 0?o.converter:Gu;this._$El=s,this[s]=c.fromAttribute(t,o.type),this._$El=null}}requestUpdate(e,t,i){let n=!0;e!==void 0&&(((i=i||this.constructor.getPropertyOptions(e)).hasChanged||ux)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),i.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,i))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((n,s)=>this[s]=n)),this._$Ei=void 0);let t=!1;const i=this._$AL;try{t=this.shouldUpdate(i),t?(this.willUpdate(i),(e=this._$ES)===null||e===void 0||e.forEach((n=>{var s;return(s=n.hostUpdate)===null||s===void 0?void 0:s.call(n)})),this.update(i)):this._$Ek()}catch(n){throw t=!1,this._$Ek(),n}t&&this._$AE(i)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach((i=>{var n;return(n=i.hostUpdated)===null||n===void 0?void 0:n.call(i)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach(((t,i)=>this._$EO(i,this[i],t))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};oo[Qu]=!0,oo.elementProperties=new Map,oo.elementStyles=[],oo.shadowRootOptions={mode:"open"},fx?.({ReactiveElement:oo}),((Vu=xl.reactiveElementVersions)!==null&&Vu!==void 0?Vu:xl.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Yu;const vl=window,ao=vl.trustedTypes,hx=ao?ao.createPolicy("lit-html",{createHTML:r=>r}):void 0,Zu="$lit$",Un=`lit$${(Math.random()+"").slice(9)}$`,dx="?"+Un,_I=`<${dx}>`,_s=document,Da=()=>_s.createComment(""),Na=r=>r===null||typeof r!="object"&&typeof r!="function",px=Array.isArray,AI=r=>px(r)||typeof r?.[Symbol.iterator]=="function",Xu=`[ 	
\f\r]`,Oa=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,gx=/-->/g,mx=/>/g,As=RegExp(`>|${Xu}(?:([^\\s"'>=/]+)(${Xu}*=${Xu}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),bx=/'/g,xx=/"/g,vx=/^(?:script|style|textarea|title)$/i,wx=r=>(e,...t)=>({_$litType$:r,strings:e,values:t}),se=wx(1),Pt=wx(2),Ss=Symbol.for("lit-noChange"),jt=Symbol.for("lit-nothing"),yx=new WeakMap,Cs=_s.createTreeWalker(_s,129,null,!1);function Ex(r,e){if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return hx!==void 0?hx.createHTML(e):e}const SI=(r,e)=>{const t=r.length-1,i=[];let n,s=e===2?"<svg>":"",o=Oa;for(let c=0;c<t;c++){const l=r[c];let h,p,v=-1,_=0;for(;_<l.length&&(o.lastIndex=_,p=o.exec(l),p!==null);)_=o.lastIndex,o===Oa?p[1]==="!--"?o=gx:p[1]!==void 0?o=mx:p[2]!==void 0?(vx.test(p[2])&&(n=RegExp("</"+p[2],"g")),o=As):p[3]!==void 0&&(o=As):o===As?p[0]===">"?(o=n??Oa,v=-1):p[1]===void 0?v=-2:(v=o.lastIndex-p[2].length,h=p[1],o=p[3]===void 0?As:p[3]==='"'?xx:bx):o===xx||o===bx?o=As:o===gx||o===mx?o=Oa:(o=As,n=void 0);const A=o===As&&r[c+1].startsWith("/>")?" ":"";s+=o===Oa?l+_I:v>=0?(i.push(h),l.slice(0,v)+Zu+l.slice(v)+Un+A):l+Un+(v===-2?(i.push(void 0),c):A)}return[Ex(r,s+(r[t]||"<?>")+(e===2?"</svg>":"")),i]};class Ta{constructor({strings:e,_$litType$:t},i){let n;this.parts=[];let s=0,o=0;const c=e.length-1,l=this.parts,[h,p]=SI(e,t);if(this.el=Ta.createElement(h,i),Cs.currentNode=this.el.content,t===2){const v=this.el.content,_=v.firstChild;_.remove(),v.append(..._.childNodes)}for(;(n=Cs.nextNode())!==null&&l.length<c;){if(n.nodeType===1){if(n.hasAttributes()){const v=[];for(const _ of n.getAttributeNames())if(_.endsWith(Zu)||_.startsWith(Un)){const A=p[o++];if(v.push(_),A!==void 0){const P=n.getAttribute(A.toLowerCase()+Zu).split(Un),S=/([.?@])?(.*)/.exec(A);l.push({type:1,index:s,name:S[2],strings:P,ctor:S[1]==="."?MI:S[1]==="?"?PI:S[1]==="@"?RI:wl})}else l.push({type:6,index:s})}for(const _ of v)n.removeAttribute(_)}if(vx.test(n.tagName)){const v=n.textContent.split(Un),_=v.length-1;if(_>0){n.textContent=ao?ao.emptyScript:"";for(let A=0;A<_;A++)n.append(v[A],Da()),Cs.nextNode(),l.push({type:2,index:++s});n.append(v[_],Da())}}}else if(n.nodeType===8)if(n.data===dx)l.push({type:2,index:s});else{let v=-1;for(;(v=n.data.indexOf(Un,v+1))!==-1;)l.push({type:7,index:s}),v+=Un.length-1}s++}}static createElement(e,t){const i=_s.createElement("template");return i.innerHTML=e,i}}function co(r,e,t=r,i){var n,s,o,c;if(e===Ss)return e;let l=i!==void 0?(n=t._$Co)===null||n===void 0?void 0:n[i]:t._$Cl;const h=Na(e)?void 0:e._$litDirective$;return l?.constructor!==h&&((s=l?._$AO)===null||s===void 0||s.call(l,!1),h===void 0?l=void 0:(l=new h(r),l._$AT(r,t,i)),i!==void 0?((o=(c=t)._$Co)!==null&&o!==void 0?o:c._$Co=[])[i]=l:t._$Cl=l),l!==void 0&&(e=co(r,l._$AS(r,e.values),l,i)),e}class CI{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:i},parts:n}=this._$AD,s=((t=e?.creationScope)!==null&&t!==void 0?t:_s).importNode(i,!0);Cs.currentNode=s;let o=Cs.nextNode(),c=0,l=0,h=n[0];for(;h!==void 0;){if(c===h.index){let p;h.type===2?p=new ka(o,o.nextSibling,this,e):h.type===1?p=new h.ctor(o,h.name,h.strings,this,e):h.type===6&&(p=new DI(o,this,e)),this._$AV.push(p),h=n[++l]}c!==h?.index&&(o=Cs.nextNode(),c++)}return Cs.currentNode=_s,s}v(e){let t=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}}class ka{constructor(e,t,i,n){var s;this.type=2,this._$AH=jt,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=n,this._$Cp=(s=n?.isConnected)===null||s===void 0||s}get _$AU(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=co(this,e,t),Na(e)?e===jt||e==null||e===""?(this._$AH!==jt&&this._$AR(),this._$AH=jt):e!==this._$AH&&e!==Ss&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):AI(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==jt&&Na(this._$AH)?this._$AA.nextSibling.data=e:this.$(_s.createTextNode(e)),this._$AH=e}g(e){var t;const{values:i,_$litType$:n}=e,s=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=Ta.createElement(Ex(n.h,n.h[0]),this.options)),n);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===s)this._$AH.v(i);else{const o=new CI(s,this),c=o.u(this.options);o.v(i),this.$(c),this._$AH=o}}_$AC(e){let t=yx.get(e.strings);return t===void 0&&yx.set(e.strings,t=new Ta(e)),t}T(e){px(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,n=0;for(const s of e)n===t.length?t.push(i=new ka(this.k(Da()),this.k(Da()),this,this.options)):i=t[n],i._$AI(s),n++;n<t.length&&(this._$AR(i&&i._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){var i;for((i=this._$AP)===null||i===void 0||i.call(this,!1,!0,t);e&&e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}class wl{constructor(e,t,i,n,s){this.type=1,this._$AH=jt,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=s,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=jt}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,i,n){const s=this.strings;let o=!1;if(s===void 0)e=co(this,e,t,0),o=!Na(e)||e!==this._$AH&&e!==Ss,o&&(this._$AH=e);else{const c=e;let l,h;for(e=s[0],l=0;l<s.length-1;l++)h=co(this,c[i+l],t,l),h===Ss&&(h=this._$AH[l]),o||(o=!Na(h)||h!==this._$AH[l]),h===jt?e=jt:e!==jt&&(e+=(h??"")+s[l+1]),this._$AH[l]=h}o&&!n&&this.j(e)}j(e){e===jt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class MI extends wl{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===jt?void 0:e}}const II=ao?ao.emptyScript:"";class PI extends wl{constructor(){super(...arguments),this.type=4}j(e){e&&e!==jt?this.element.setAttribute(this.name,II):this.element.removeAttribute(this.name)}}class RI extends wl{constructor(e,t,i,n,s){super(e,t,i,n,s),this.type=5}_$AI(e,t=this){var i;if((e=(i=co(this,e,t,0))!==null&&i!==void 0?i:jt)===Ss)return;const n=this._$AH,s=e===jt&&n!==jt||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,o=e!==jt&&(n===jt||s);s&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,i;typeof this._$AH=="function"?this._$AH.call((i=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&i!==void 0?i:this.element,e):this._$AH.handleEvent(e)}}class DI{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){co(this,e)}}const _x=vl.litHtmlPolyfillSupport;_x?.(Ta,ka),((Yu=vl.litHtmlVersions)!==null&&Yu!==void 0?Yu:vl.litHtmlVersions=[]).push("2.8.0");const NI=(r,e,t)=>{var i,n;const s=(i=t?.renderBefore)!==null&&i!==void 0?i:e;let o=s._$litPart$;if(o===void 0){const c=(n=t?.renderBefore)!==null&&n!==void 0?n:null;s._$litPart$=o=new ka(e.insertBefore(Da(),c),c,void 0,t??{})}return o._$AI(r),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var eh,th;class Xe extends oo{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const i=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=i.firstChild),i}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=NI(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Ss}}Xe.finalized=!0,Xe._$litElement$=!0,(eh=globalThis.litElementHydrateSupport)===null||eh===void 0||eh.call(globalThis,{LitElement:Xe});const Ax=globalThis.litElementPolyfillSupport;Ax?.({LitElement:Xe}),((th=globalThis.litElementVersions)!==null&&th!==void 0?th:globalThis.litElementVersions=[]).push("3.3.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const st=r=>e=>typeof e=="function"?((t,i)=>(customElements.define(t,i),i))(r,e):((t,i)=>{const{kind:n,elements:s}=i;return{kind:n,elements:s,finisher(o){customElements.define(t,o)}}})(r,e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const OI=(r,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(t){t.createProperty(e.key,r)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(t){t.createProperty(e.key,r)}},TI=(r,e,t)=>{e.constructor.createProperty(t,r)};function Ge(r){return(e,t)=>t!==void 0?TI(r,e,t):OI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Dr(r){return Ge({...r,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var rh;((rh=window.HTMLSlotElement)===null||rh===void 0?void 0:rh.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const kI={ATTRIBUTE:1},BI=r=>(...e)=>({_$litDirective$:r,values:e});class $I{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const nn=BI(class extends $I{constructor(r){var e;if(super(r),r.type!==kI.ATTRIBUTE||r.name!=="class"||((e=r.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(r){return" "+Object.keys(r).filter((e=>r[e])).join(" ")+" "}update(r,[e]){var t,i;if(this.it===void 0){this.it=new Set,r.strings!==void 0&&(this.nt=new Set(r.strings.join(" ").split(/\s/).filter((s=>s!==""))));for(const s in e)e[s]&&!(!((t=this.nt)===null||t===void 0)&&t.has(s))&&this.it.add(s);return this.render(e)}const n=r.element.classList;this.it.forEach((s=>{s in e||(n.remove(s),this.it.delete(s))}));for(const s in e){const o=!!e[s];o===this.it.has(s)||!((i=this.nt)===null||i===void 0)&&i.has(s)||(o?(n.add(s),this.it.add(s)):(n.remove(s),this.it.delete(s)))}return Ss}});function LI(r,e){r.indexOf(e)===-1&&r.push(e)}const Sx=(r,e,t)=>Math.min(Math.max(t,r),e),ri={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},yl=r=>typeof r=="number",lo=r=>Array.isArray(r)&&!yl(r[0]),UI=(r,e,t)=>{const i=e-r;return((t-r)%i+i)%i+r};function FI(r,e){return lo(r)?r[UI(0,r.length,e)]:r}const Cx=(r,e,t)=>-t*r+t*e+r,Mx=()=>{},Fn=r=>r,ih=(r,e,t)=>e-r===0?1:(t-r)/(e-r);function Ix(r,e){const t=r[r.length-1];for(let i=1;i<=e;i++){const n=ih(0,e,i);r.push(Cx(t,1,n))}}function qI(r){const e=[0];return Ix(e,r-1),e}function jI(r,e=qI(r.length),t=Fn){const i=r.length,n=i-e.length;return n>0&&Ix(e,n),s=>{let o=0;for(;o<i-2&&!(s<e[o+1]);o++);let c=Sx(0,1,ih(e[o],e[o+1],s));return c=FI(t,o)(c),Cx(r[o],r[o+1],c)}}const Px=r=>Array.isArray(r)&&yl(r[0]),nh=r=>typeof r=="object"&&!!r.createAnimation,fo=r=>typeof r=="function",zI=r=>typeof r=="string",Ba={ms:r=>r*1e3,s:r=>r/1e3},Rx=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,HI=1e-7,WI=12;function KI(r,e,t,i,n){let s,o,c=0;do o=e+(t-e)/2,s=Rx(o,i,n)-r,s>0?t=o:e=o;while(Math.abs(s)>HI&&++c<WI);return o}function $a(r,e,t,i){if(r===e&&t===i)return Fn;const n=s=>KI(s,0,1,r,t);return s=>s===0||s===1?s:Rx(n(s),e,i)}const VI=(r,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const i=t*r,n=e==="end"?Math.floor(i):Math.ceil(i);return Sx(0,1,n/r)},GI={ease:$a(.25,.1,.25,1),"ease-in":$a(.42,0,1,1),"ease-in-out":$a(.42,0,.58,1),"ease-out":$a(0,0,.58,1)},JI=/\((.*?)\)/;function Dx(r){if(fo(r))return r;if(Px(r))return $a(...r);const e=GI[r];if(e)return e;if(r.startsWith("steps")){const t=JI.exec(r);if(t){const i=t[1].split(",");return VI(parseFloat(i[0]),i[1].trim())}}return Fn}class Nx{constructor(e,t=[0,1],{easing:i,duration:n=ri.duration,delay:s=ri.delay,endDelay:o=ri.endDelay,repeat:c=ri.repeat,offset:l,direction:h="normal",autoplay:p=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=Fn,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((_,A)=>{this.resolve=_,this.reject=A}),i=i||ri.easing,nh(i)){const _=i.createAnimation(t);i=_.easing,t=_.keyframes||t,n=_.duration||n}this.repeat=c,this.easing=lo(i)?Fn:Dx(i),this.updateDuration(n);const v=jI(t,l,lo(i)?i.map(Dx):Fn);this.tick=_=>{var A;s=s;let P=0;this.pauseTime!==void 0?P=this.pauseTime:P=(_-this.startTime)*this.rate,this.t=P,P/=1e3,P=Math.max(P-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(P=this.totalDuration);const S=P/this.duration;let R=Math.floor(S),B=S%1;!B&&S>=1&&(B=1),B===1&&R--;const T=R%2;(h==="reverse"||h==="alternate"&&T||h==="alternate-reverse"&&!T)&&(B=1-B);const k=P>=this.totalDuration?1:Math.min(B,1),I=v(this.easing(k));e(I),this.pauseTime===void 0&&(this.playState==="finished"||P>=this.totalDuration+o)?(this.playState="finished",(A=this.resolve)===null||A===void 0||A.call(this,I)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},p&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class QI{setAnimation(e){this.animation=e,e?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const sh=new WeakMap;function Ox(r){return sh.has(r)||sh.set(r,{transforms:[],values:new Map}),sh.get(r)}function YI(r,e){return r.has(e)||r.set(e,new QI),r.get(e)}const ZI=["","X","Y","Z"],XI=["translate","scale","rotate","skew"],El={x:"translateX",y:"translateY",z:"translateZ"},Tx={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:r=>r+"deg"},eP={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:r=>r+"px"},rotate:Tx,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:Fn},skew:Tx},La=new Map,oh=r=>`--motion-${r}`,_l=["x","y","z"];XI.forEach(r=>{ZI.forEach(e=>{_l.push(r+e),La.set(oh(r+e),eP[r])})});const tP=(r,e)=>_l.indexOf(r)-_l.indexOf(e),rP=new Set(_l),kx=r=>rP.has(r),iP=(r,e)=>{El[e]&&(e=El[e]);const{transforms:t}=Ox(r);LI(t,e),r.style.transform=nP(t)},nP=r=>r.sort(tP).reduce(sP,"").trim(),sP=(r,e)=>`${r} ${e}(var(${oh(e)}))`,ah=r=>r.startsWith("--"),Bx=new Set;function oP(r){if(!Bx.has(r)){Bx.add(r);try{const{syntax:e,initialValue:t}=La.has(r)?La.get(r):{};CSS.registerProperty({name:r,inherits:!1,syntax:e,initialValue:t})}catch{}}}const ch=(r,e)=>document.createElement("div").animate(r,e),$x={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{ch({opacity:[1]})}catch{return!1}return!0},finished:()=>!!ch({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{ch({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},lh={},uo={};for(const r in $x)uo[r]=()=>(lh[r]===void 0&&(lh[r]=$x[r]()),lh[r]);const aP=.015,cP=(r,e)=>{let t="";const i=Math.round(e/aP);for(let n=0;n<i;n++)t+=r(ih(0,i-1,n))+", ";return t.substring(0,t.length-2)},Lx=(r,e)=>fo(r)?uo.linearEasing()?`linear(${cP(r,e)})`:ri.easing:Px(r)?lP(r):r,lP=([r,e,t,i])=>`cubic-bezier(${r}, ${e}, ${t}, ${i})`;function fP(r,e){for(let t=0;t<r.length;t++)r[t]===null&&(r[t]=t?r[t-1]:e());return r}const uP=r=>Array.isArray(r)?r:[r];function fh(r){return El[r]&&(r=El[r]),kx(r)?oh(r):r}const Al={get:(r,e)=>{e=fh(e);let t=ah(e)?r.style.getPropertyValue(e):getComputedStyle(r)[e];if(!t&&t!==0){const i=La.get(e);i&&(t=i.initialValue)}return t},set:(r,e,t)=>{e=fh(e),ah(e)?r.style.setProperty(e,t):r.style[e]=t}};function Ux(r,e=!0){if(!(!r||r.playState==="finished"))try{r.stop?r.stop():(e&&r.commitStyles(),r.cancel())}catch{}}function hP(r,e){var t;let i=e?.toDefaultUnit||Fn;const n=r[r.length-1];if(zI(n)){const s=((t=n.match(/(-?[\d.]+)([a-z%]*)/))===null||t===void 0?void 0:t[2])||"";s&&(i=o=>o+s)}return i}function dP(){return window.__MOTION_DEV_TOOLS_RECORD}function pP(r,e,t,i={},n){const s=dP(),o=i.record!==!1&&s;let c,{duration:l=ri.duration,delay:h=ri.delay,endDelay:p=ri.endDelay,repeat:v=ri.repeat,easing:_=ri.easing,persist:A=!1,direction:P,offset:S,allowWebkitAcceleration:R=!1,autoplay:B=!0}=i;const T=Ox(r),k=kx(e);let I=uo.waapi();k&&iP(r,e);const N=fh(e),C=YI(T.values,N),b=La.get(N);return Ux(C.animation,!(nh(_)&&C.generator)&&i.record!==!1),()=>{const D=()=>{var q,F;return(F=(q=Al.get(r,N))!==null&&q!==void 0?q:b?.initialValue)!==null&&F!==void 0?F:0};let U=fP(uP(t),D);const j=hP(U,b);if(nh(_)){const q=_.createAnimation(U,e!=="opacity",D,N,C);_=q.easing,U=q.keyframes||U,l=q.duration||l}if(ah(N)&&(uo.cssRegisterProperty()?oP(N):I=!1),k&&!uo.linearEasing()&&(fo(_)||lo(_)&&_.some(fo))&&(I=!1),I){b&&(U=U.map(w=>yl(w)?b.toDefaultUnit(w):w)),U.length===1&&(!uo.partialKeyframes()||o)&&U.unshift(D());const q={delay:Ba.ms(h),duration:Ba.ms(l),endDelay:Ba.ms(p),easing:lo(_)?void 0:Lx(_,l),direction:P,iterations:v+1,fill:"both"};c=r.animate({[N]:U,offset:S,easing:lo(_)?_.map(w=>Lx(w,l)):void 0},q),c.finished||(c.finished=new Promise((w,a)=>{c.onfinish=w,c.oncancel=a}));const F=U[U.length-1];c.finished.then(()=>{A||(Al.set(r,N,F),c.cancel())}).catch(Mx),R||(c.playbackRate=1.000001)}else if(n&&k)U=U.map(q=>typeof q=="string"?parseFloat(q):q),U.length===1&&U.unshift(parseFloat(D())),c=new n(q=>{Al.set(r,N,j?j(q):q)},U,Object.assign(Object.assign({},i),{duration:l,easing:_}));else{const q=U[U.length-1];Al.set(r,N,b&&yl(q)?b.toDefaultUnit(q):q)}return o&&s(r,e,U,{duration:l,delay:h,easing:_,repeat:v,offset:S},"motion-one"),C.setAnimation(c),c&&!B&&c.pause(),c}}const gP=(r,e)=>r[e]?Object.assign(Object.assign({},r),r[e]):Object.assign({},r);function mP(r,e){return typeof r=="string"?r=document.querySelectorAll(r):r instanceof Element&&(r=[r]),Array.from(r||[])}const bP=r=>r(),Fx=(r,e,t=ri.duration)=>new Proxy({animations:r.map(bP).filter(Boolean),duration:t,options:e},vP),xP=r=>r.animations[0],vP={get:(r,e)=>{const t=xP(r);switch(e){case"duration":return r.duration;case"currentTime":return Ba.s(t?.[e]||0);case"playbackRate":case"playState":return t?.[e];case"finished":return r.finished||(r.finished=Promise.all(r.animations.map(wP)).catch(Mx)),r.finished;case"stop":return()=>{r.animations.forEach(i=>Ux(i))};case"forEachNative":return i=>{r.animations.forEach(n=>i(n,r))};default:return typeof t?.[e]>"u"?void 0:()=>r.animations.forEach(i=>i[e]())}},set:(r,e,t)=>{switch(e){case"currentTime":t=Ba.ms(t);case"playbackRate":for(let i=0;i<r.animations.length;i++)r.animations[i][e]=t;return!0}return!1}},wP=r=>r.finished;function yP(r,e,t){return fo(r)?r(e,t):r}function EP(r){return function(t,i,n={}){t=mP(t);const s=t.length,o=[];for(let c=0;c<s;c++){const l=t[c];for(const h in i){const p=gP(n,h);p.delay=yP(p.delay,c,s);const v=pP(l,h,i[h],p,r);o.push(v)}}return Fx(o,n,n.duration)}}const _P=EP(Nx);function AP(r,e={}){return Fx([()=>{const t=new Nx(r,[0,1],e);return t.finished.catch(()=>{}),t}],e,e.duration)}function Ms(r,e,t){return(fo(r)?AP:_P)(r,e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const yr=r=>r??jt;var ho={},uh,qx;function SP(){return qx||(qx=1,uh=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),uh}var hh={},qn={},jx;function Is(){if(jx)return qn;jx=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return qn.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17},qn.getSymbolTotalCodewords=function(i){return e[i]},qn.getBCHDigit=function(t){let i=0;for(;t!==0;)i++,t>>>=1;return i},qn.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');r=i},qn.isKanjiModeEnabled=function(){return typeof r<"u"},qn.toSJIS=function(i){return r(i)},qn}var dh={},zx;function ph(){return zx||(zx=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},r.from=function(i,n){if(r.isValid(i))return i;try{return e(i)}catch{return n}}})(dh)),dh}var gh,Hx;function CP(){if(Hx)return gh;Hx=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let i=0;i<t;i++)this.putBit((e>>>t-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},gh=r,gh}var mh,Wx;function MP(){if(Wx)return mh;Wx=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,t,i,n){const s=e*this.size+t;this.data[s]=i,n&&(this.reservedBit[s]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,i){this.data[e*this.size+t]^=i},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},mh=r,mh}var bh={},Kx;function IP(){return Kx||(Kx=1,(function(r){const e=Is().getSymbolSize;r.getRowColCoords=function(i){if(i===1)return[];const n=Math.floor(i/7)+2,s=e(i),o=s===145?26:Math.ceil((s-13)/(2*n-2))*2,c=[s-7];for(let l=1;l<n-1;l++)c[l]=c[l-1]-o;return c.push(6),c.reverse()},r.getPositions=function(i){const n=[],s=r.getRowColCoords(i),o=s.length;for(let c=0;c<o;c++)for(let l=0;l<o;l++)c===0&&l===0||c===0&&l===o-1||c===o-1&&l===0||n.push([s[c],s[l]]);return n}})(bh)),bh}var xh={},Vx;function PP(){if(Vx)return xh;Vx=1;const r=Is().getSymbolSize,e=7;return xh.getPositions=function(i){const n=r(i);return[[0,0],[n-e,0],[0,n-e]]},xh}var vh={},Gx;function RP(){return Gx||(Gx=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},r.from=function(n){return r.isValid(n)?parseInt(n,10):void 0},r.getPenaltyN1=function(n){const s=n.size;let o=0,c=0,l=0,h=null,p=null;for(let v=0;v<s;v++){c=l=0,h=p=null;for(let _=0;_<s;_++){let A=n.get(v,_);A===h?c++:(c>=5&&(o+=e.N1+(c-5)),h=A,c=1),A=n.get(_,v),A===p?l++:(l>=5&&(o+=e.N1+(l-5)),p=A,l=1)}c>=5&&(o+=e.N1+(c-5)),l>=5&&(o+=e.N1+(l-5))}return o},r.getPenaltyN2=function(n){const s=n.size;let o=0;for(let c=0;c<s-1;c++)for(let l=0;l<s-1;l++){const h=n.get(c,l)+n.get(c,l+1)+n.get(c+1,l)+n.get(c+1,l+1);(h===4||h===0)&&o++}return o*e.N2},r.getPenaltyN3=function(n){const s=n.size;let o=0,c=0,l=0;for(let h=0;h<s;h++){c=l=0;for(let p=0;p<s;p++)c=c<<1&2047|n.get(h,p),p>=10&&(c===1488||c===93)&&o++,l=l<<1&2047|n.get(p,h),p>=10&&(l===1488||l===93)&&o++}return o*e.N3},r.getPenaltyN4=function(n){let s=0;const o=n.data.length;for(let l=0;l<o;l++)s+=n.data[l];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function t(i,n,s){switch(i){case r.Patterns.PATTERN000:return(n+s)%2===0;case r.Patterns.PATTERN001:return n%2===0;case r.Patterns.PATTERN010:return s%3===0;case r.Patterns.PATTERN011:return(n+s)%3===0;case r.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(s/3))%2===0;case r.Patterns.PATTERN101:return n*s%2+n*s%3===0;case r.Patterns.PATTERN110:return(n*s%2+n*s%3)%2===0;case r.Patterns.PATTERN111:return(n*s%3+(n+s)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}r.applyMask=function(n,s){const o=s.size;for(let c=0;c<o;c++)for(let l=0;l<o;l++)s.isReserved(l,c)||s.xor(l,c,t(n,l,c))},r.getBestMask=function(n,s){const o=Object.keys(r.Patterns).length;let c=0,l=1/0;for(let h=0;h<o;h++){s(h),r.applyMask(h,n);const p=r.getPenaltyN1(n)+r.getPenaltyN2(n)+r.getPenaltyN3(n)+r.getPenaltyN4(n);r.applyMask(h,n),p<l&&(l=p,c=h)}return c}})(vh)),vh}var Sl={},Jx;function Qx(){if(Jx)return Sl;Jx=1;const r=ph(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Sl.getBlocksCount=function(n,s){switch(s){case r.L:return e[(n-1)*4+0];case r.M:return e[(n-1)*4+1];case r.Q:return e[(n-1)*4+2];case r.H:return e[(n-1)*4+3];default:return}},Sl.getTotalCodewordsCount=function(n,s){switch(s){case r.L:return t[(n-1)*4+0];case r.M:return t[(n-1)*4+1];case r.Q:return t[(n-1)*4+2];case r.H:return t[(n-1)*4+3];default:return}},Sl}var wh={},Ua={},Yx;function DP(){if(Yx)return Ua;Yx=1;const r=new Uint8Array(512),e=new Uint8Array(256);return(function(){let i=1;for(let n=0;n<255;n++)r[n]=i,e[i]=n,i<<=1,i&256&&(i^=285);for(let n=255;n<512;n++)r[n]=r[n-255]})(),Ua.log=function(i){if(i<1)throw new Error("log("+i+")");return e[i]},Ua.exp=function(i){return r[i]},Ua.mul=function(i,n){return i===0||n===0?0:r[e[i]+e[n]]},Ua}var Zx;function NP(){return Zx||(Zx=1,(function(r){const e=DP();r.mul=function(i,n){const s=new Uint8Array(i.length+n.length-1);for(let o=0;o<i.length;o++)for(let c=0;c<n.length;c++)s[o+c]^=e.mul(i[o],n[c]);return s},r.mod=function(i,n){let s=new Uint8Array(i);for(;s.length-n.length>=0;){const o=s[0];for(let l=0;l<n.length;l++)s[l]^=e.mul(n[l],o);let c=0;for(;c<s.length&&s[c]===0;)c++;s=s.slice(c)}return s},r.generateECPolynomial=function(i){let n=new Uint8Array([1]);for(let s=0;s<i;s++)n=r.mul(n,new Uint8Array([1,e.exp(s)]));return n}})(wh)),wh}var yh,Xx;function OP(){if(Xx)return yh;Xx=1;const r=NP();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(i){this.degree=i,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(i.length+this.degree);n.set(i);const s=r.mod(n,this.genPoly),o=this.degree-s.length;if(o>0){const c=new Uint8Array(this.degree);return c.set(s,o),c}return s},yh=e,yh}var Eh={},_h={},Ah={},ev;function tv(){return ev||(ev=1,Ah.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Ah}var Ui={},rv;function iv(){if(rv)return Ui;rv=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;Ui.KANJI=new RegExp(t,"g"),Ui.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ui.BYTE=new RegExp(i,"g"),Ui.NUMERIC=new RegExp(r,"g"),Ui.ALPHANUMERIC=new RegExp(e,"g");const n=new RegExp("^"+t+"$"),s=new RegExp("^"+r+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ui.testKanji=function(l){return n.test(l)},Ui.testNumeric=function(l){return s.test(l)},Ui.testAlphanumeric=function(l){return o.test(l)},Ui}var nv;function Ps(){return nv||(nv=1,(function(r){const e=tv(),t=iv();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},r.getBestModeForData=function(s){return t.testNumeric(s)?r.NUMERIC:t.testAlphanumeric(s)?r.ALPHANUMERIC:t.testKanji(s)?r.KANJI:r.BYTE},r.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},r.isValid=function(s){return s&&s.bit&&s.ccBits};function i(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+n)}}r.from=function(s,o){if(r.isValid(s))return s;try{return i(s)}catch{return o}}})(_h)),_h}var sv;function TP(){return sv||(sv=1,(function(r){const e=Is(),t=Qx(),i=ph(),n=Ps(),s=tv(),o=7973,c=e.getBCHDigit(o);function l(_,A,P){for(let S=1;S<=40;S++)if(A<=r.getCapacity(S,P,_))return S}function h(_,A){return n.getCharCountIndicator(_,A)+4}function p(_,A){let P=0;return _.forEach(function(S){const R=h(S.mode,A);P+=R+S.getBitsLength()}),P}function v(_,A){for(let P=1;P<=40;P++)if(p(_,P)<=r.getCapacity(P,A,n.MIXED))return P}r.from=function(A,P){return s.isValid(A)?parseInt(A,10):P},r.getCapacity=function(A,P,S){if(!s.isValid(A))throw new Error("Invalid QR Code version");typeof S>"u"&&(S=n.BYTE);const R=e.getSymbolTotalCodewords(A),B=t.getTotalCodewordsCount(A,P),T=(R-B)*8;if(S===n.MIXED)return T;const k=T-h(S,A);switch(S){case n.NUMERIC:return Math.floor(k/10*3);case n.ALPHANUMERIC:return Math.floor(k/11*2);case n.KANJI:return Math.floor(k/13);case n.BYTE:default:return Math.floor(k/8)}},r.getBestVersionForData=function(A,P){let S;const R=i.from(P,i.M);if(Array.isArray(A)){if(A.length>1)return v(A,R);if(A.length===0)return 1;S=A[0]}else S=A;return l(S.mode,S.getLength(),R)},r.getEncodedBits=function(A){if(!s.isValid(A)||A<7)throw new Error("Invalid QR Code version");let P=A<<12;for(;e.getBCHDigit(P)-c>=0;)P^=o<<e.getBCHDigit(P)-c;return A<<12|P}})(Eh)),Eh}var Sh={},ov;function kP(){if(ov)return Sh;ov=1;const r=Is(),e=1335,t=21522,i=r.getBCHDigit(e);return Sh.getEncodedBits=function(s,o){const c=s.bit<<3|o;let l=c<<10;for(;r.getBCHDigit(l)-i>=0;)l^=e<<r.getBCHDigit(l)-i;return(c<<10|l)^t},Sh}var Ch={},Mh,av;function BP(){if(av)return Mh;av=1;const r=Ps();function e(t){this.mode=r.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){let n,s,o;for(n=0;n+3<=this.data.length;n+=3)s=this.data.substr(n,3),o=parseInt(s,10),i.put(o,10);const c=this.data.length-n;c>0&&(s=this.data.substr(n),o=parseInt(s,10),i.put(o,c*3+1))},Mh=e,Mh}var Ih,cv;function $P(){if(cv)return Ih;cv=1;const r=Ps(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(i){this.mode=r.ALPHANUMERIC,this.data=i}return t.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),n.put(o,11)}this.data.length%2&&n.put(e.indexOf(this.data[s]),6)},Ih=t,Ih}var Ph,lv;function LP(){return lv||(lv=1,Ph=function(e){for(var t=[],i=e.length,n=0;n<i;n++){var s=e.charCodeAt(n);if(s>=55296&&s<=56319&&i>n+1){var o=e.charCodeAt(n+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,n+=1)}if(s<128){t.push(s);continue}if(s<2048){t.push(s>>6|192),t.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128);continue}if(s>=65536&&s<=1114111){t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}),Ph}var Rh,fv;function UP(){if(fv)return Rh;fv=1;const r=LP(),e=Ps();function t(i){this.mode=e.BYTE,typeof i=="string"&&(i=r(i)),this.data=new Uint8Array(i)}return t.getBitsLength=function(n){return n*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){for(let n=0,s=this.data.length;n<s;n++)i.put(this.data[n],8)},Rh=t,Rh}var Dh,uv;function FP(){if(uv)return Dh;uv=1;const r=Ps(),e=Is();function t(i){this.mode=r.KANJI,this.data=i}return t.getBitsLength=function(n){return n*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let n;for(n=0;n<this.data.length;n++){let s=e.toSJIS(this.data[n]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),i.put(s,13)}},Dh=t,Dh}var Nh={exports:{}},hv;function qP(){return hv||(hv=1,(function(r){var e={single_source_shortest_paths:function(t,i,n){var s={},o={};o[i]=0;var c=e.PriorityQueue.make();c.push(i,0);for(var l,h,p,v,_,A,P,S,R;!c.empty();){l=c.pop(),h=l.value,v=l.cost,_=t[h]||{};for(p in _)_.hasOwnProperty(p)&&(A=_[p],P=v+A,S=o[p],R=typeof o[p]>"u",(R||S>P)&&(o[p]=P,c.push(p,P),s[p]=h))}if(typeof n<"u"&&typeof o[n]>"u"){var B=["Could not find a path from ",i," to ",n,"."].join("");throw new Error(B)}return s},extract_shortest_path_from_predecessor_list:function(t,i){for(var n=[],s=i;s;)n.push(s),t[s],s=t[s];return n.reverse(),n},find_path:function(t,i,n){var s=e.single_source_shortest_paths(t,i,n);return e.extract_shortest_path_from_predecessor_list(s,n)},PriorityQueue:{make:function(t){var i=e.PriorityQueue,n={},s;t=t||{};for(s in i)i.hasOwnProperty(s)&&(n[s]=i[s]);return n.queue=[],n.sorter=t.sorter||i.default_sorter,n},default_sorter:function(t,i){return t.cost-i.cost},push:function(t,i){var n={value:t,cost:i};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(Nh)),Nh.exports}var dv;function jP(){return dv||(dv=1,(function(r){const e=Ps(),t=BP(),i=$P(),n=UP(),s=FP(),o=iv(),c=Is(),l=qP();function h(B){return unescape(encodeURIComponent(B)).length}function p(B,T,k){const I=[];let N;for(;(N=B.exec(k))!==null;)I.push({data:N[0],index:N.index,mode:T,length:N[0].length});return I}function v(B){const T=p(o.NUMERIC,e.NUMERIC,B),k=p(o.ALPHANUMERIC,e.ALPHANUMERIC,B);let I,N;return c.isKanjiModeEnabled()?(I=p(o.BYTE,e.BYTE,B),N=p(o.KANJI,e.KANJI,B)):(I=p(o.BYTE_KANJI,e.BYTE,B),N=[]),T.concat(k,I,N).sort(function(b,D){return b.index-D.index}).map(function(b){return{data:b.data,mode:b.mode,length:b.length}})}function _(B,T){switch(T){case e.NUMERIC:return t.getBitsLength(B);case e.ALPHANUMERIC:return i.getBitsLength(B);case e.KANJI:return s.getBitsLength(B);case e.BYTE:return n.getBitsLength(B)}}function A(B){return B.reduce(function(T,k){const I=T.length-1>=0?T[T.length-1]:null;return I&&I.mode===k.mode?(T[T.length-1].data+=k.data,T):(T.push(k),T)},[])}function P(B){const T=[];for(let k=0;k<B.length;k++){const I=B[k];switch(I.mode){case e.NUMERIC:T.push([I,{data:I.data,mode:e.ALPHANUMERIC,length:I.length},{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.ALPHANUMERIC:T.push([I,{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.KANJI:T.push([I,{data:I.data,mode:e.BYTE,length:h(I.data)}]);break;case e.BYTE:T.push([{data:I.data,mode:e.BYTE,length:h(I.data)}])}}return T}function S(B,T){const k={},I={start:{}};let N=["start"];for(let C=0;C<B.length;C++){const b=B[C],D=[];for(let U=0;U<b.length;U++){const j=b[U],q=""+C+U;D.push(q),k[q]={node:j,lastCount:0},I[q]={};for(let F=0;F<N.length;F++){const w=N[F];k[w]&&k[w].node.mode===j.mode?(I[w][q]=_(k[w].lastCount+j.length,j.mode)-_(k[w].lastCount,j.mode),k[w].lastCount+=j.length):(k[w]&&(k[w].lastCount=j.length),I[w][q]=_(j.length,j.mode)+4+e.getCharCountIndicator(j.mode,T))}}N=D}for(let C=0;C<N.length;C++)I[N[C]].end=0;return{map:I,table:k}}function R(B,T){let k;const I=e.getBestModeForData(B);if(k=e.from(T,I),k!==e.BYTE&&k.bit<I.bit)throw new Error('"'+B+'" cannot be encoded with mode '+e.toString(k)+`.
 Suggested mode is: `+e.toString(I));switch(k===e.KANJI&&!c.isKanjiModeEnabled()&&(k=e.BYTE),k){case e.NUMERIC:return new t(B);case e.ALPHANUMERIC:return new i(B);case e.KANJI:return new s(B);case e.BYTE:return new n(B)}}r.fromArray=function(T){return T.reduce(function(k,I){return typeof I=="string"?k.push(R(I,null)):I.data&&k.push(R(I.data,I.mode)),k},[])},r.fromString=function(T,k){const I=v(T,c.isKanjiModeEnabled()),N=P(I),C=S(N,k),b=l.find_path(C.map,"start","end"),D=[];for(let U=1;U<b.length-1;U++)D.push(C.table[b[U]].node);return r.fromArray(A(D))},r.rawSplit=function(T){return r.fromArray(v(T,c.isKanjiModeEnabled()))}})(Ch)),Ch}var pv;function zP(){if(pv)return hh;pv=1;const r=Is(),e=ph(),t=CP(),i=MP(),n=IP(),s=PP(),o=RP(),c=Qx(),l=OP(),h=TP(),p=kP(),v=Ps(),_=jP();function A(C,b){const D=C.size,U=s.getPositions(b);for(let j=0;j<U.length;j++){const q=U[j][0],F=U[j][1];for(let w=-1;w<=7;w++)if(!(q+w<=-1||D<=q+w))for(let a=-1;a<=7;a++)F+a<=-1||D<=F+a||(w>=0&&w<=6&&(a===0||a===6)||a>=0&&a<=6&&(w===0||w===6)||w>=2&&w<=4&&a>=2&&a<=4?C.set(q+w,F+a,!0,!0):C.set(q+w,F+a,!1,!0))}}function P(C){const b=C.size;for(let D=8;D<b-8;D++){const U=D%2===0;C.set(D,6,U,!0),C.set(6,D,U,!0)}}function S(C,b){const D=n.getPositions(b);for(let U=0;U<D.length;U++){const j=D[U][0],q=D[U][1];for(let F=-2;F<=2;F++)for(let w=-2;w<=2;w++)F===-2||F===2||w===-2||w===2||F===0&&w===0?C.set(j+F,q+w,!0,!0):C.set(j+F,q+w,!1,!0)}}function R(C,b){const D=C.size,U=h.getEncodedBits(b);let j,q,F;for(let w=0;w<18;w++)j=Math.floor(w/3),q=w%3+D-8-3,F=(U>>w&1)===1,C.set(j,q,F,!0),C.set(q,j,F,!0)}function B(C,b,D){const U=C.size,j=p.getEncodedBits(b,D);let q,F;for(q=0;q<15;q++)F=(j>>q&1)===1,q<6?C.set(q,8,F,!0):q<8?C.set(q+1,8,F,!0):C.set(U-15+q,8,F,!0),q<8?C.set(8,U-q-1,F,!0):q<9?C.set(8,15-q-1+1,F,!0):C.set(8,15-q-1,F,!0);C.set(U-8,8,1,!0)}function T(C,b){const D=C.size;let U=-1,j=D-1,q=7,F=0;for(let w=D-1;w>0;w-=2)for(w===6&&w--;;){for(let a=0;a<2;a++)if(!C.isReserved(j,w-a)){let u=!1;F<b.length&&(u=(b[F]>>>q&1)===1),C.set(j,w-a,u),q--,q===-1&&(F++,q=7)}if(j+=U,j<0||D<=j){j-=U,U=-U;break}}}function k(C,b,D){const U=new t;D.forEach(function(a){U.put(a.mode.bit,4),U.put(a.getLength(),v.getCharCountIndicator(a.mode,C)),a.write(U)});const j=r.getSymbolTotalCodewords(C),q=c.getTotalCodewordsCount(C,b),F=(j-q)*8;for(U.getLengthInBits()+4<=F&&U.put(0,4);U.getLengthInBits()%8!==0;)U.putBit(0);const w=(F-U.getLengthInBits())/8;for(let a=0;a<w;a++)U.put(a%2?17:236,8);return I(U,C,b)}function I(C,b,D){const U=r.getSymbolTotalCodewords(b),j=c.getTotalCodewordsCount(b,D),q=U-j,F=c.getBlocksCount(b,D),w=U%F,a=F-w,u=Math.floor(U/F),d=Math.floor(q/F),g=d+1,E=u-d,M=new l(E);let O=0;const m=new Array(F),f=new Array(F);let x=0;const $=new Uint8Array(C.buffer);for(let V=0;V<F;V++){const Z=V<a?d:g;m[V]=$.slice(O,O+Z),f[V]=M.encode(m[V]),O+=Z,x=Math.max(x,Z)}const y=new Uint8Array(U);let L=0,K,H;for(K=0;K<x;K++)for(H=0;H<F;H++)K<m[H].length&&(y[L++]=m[H][K]);for(K=0;K<E;K++)for(H=0;H<F;H++)y[L++]=f[H][K];return y}function N(C,b,D,U){let j;if(Array.isArray(C))j=_.fromArray(C);else if(typeof C=="string"){let u=b;if(!u){const d=_.rawSplit(C);u=h.getBestVersionForData(d,D)}j=_.fromString(C,u||40)}else throw new Error("Invalid data");const q=h.getBestVersionForData(j,D);if(!q)throw new Error("The amount of data is too big to be stored in a QR Code");if(!b)b=q;else if(b<q)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+q+`.
`);const F=k(b,D,j),w=r.getSymbolSize(b),a=new i(w);return A(a,b),P(a),S(a,b),B(a,D,0),b>=7&&R(a,b),T(a,F),isNaN(U)&&(U=o.getBestMask(a,B.bind(null,a,D))),o.applyMask(U,a),B(a,D,U),{modules:a,version:b,errorCorrectionLevel:D,maskPattern:U,segments:j}}return hh.create=function(b,D){if(typeof b>"u"||b==="")throw new Error("No input text");let U=e.M,j,q;return typeof D<"u"&&(U=e.from(D.errorCorrectionLevel,e.M),j=h.from(D.version),q=o.from(D.maskPattern),D.toSJISFunc&&r.setToSJISFunction(D.toSJISFunc)),N(b,j,U,q)},hh}var Oh={},Th={},gv;function mv(){return gv||(gv=1,(function(r){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let i=t.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+t);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(s){return[s,s]}))),i.length===6&&i.push("F","F");const n=parseInt(i.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+i.slice(0,6).join("")}}r.getOptions=function(i){i||(i={}),i.color||(i.color={});const n=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,s=i.width&&i.width>=21?i.width:void 0,o=i.scale||4;return{width:s,scale:s?4:o,margin:n,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},r.getScale=function(i,n){return n.width&&n.width>=i+n.margin*2?n.width/(i+n.margin*2):n.scale},r.getImageWidth=function(i,n){const s=r.getScale(i,n);return Math.floor((i+n.margin*2)*s)},r.qrToImageData=function(i,n,s){const o=n.modules.size,c=n.modules.data,l=r.getScale(o,s),h=Math.floor((o+s.margin*2)*l),p=s.margin*l,v=[s.color.light,s.color.dark];for(let _=0;_<h;_++)for(let A=0;A<h;A++){let P=(_*h+A)*4,S=s.color.light;if(_>=p&&A>=p&&_<h-p&&A<h-p){const R=Math.floor((_-p)/l),B=Math.floor((A-p)/l);S=v[c[R*o+B]?1:0]}i[P++]=S.r,i[P++]=S.g,i[P++]=S.b,i[P]=S.a}}})(Th)),Th}var bv;function HP(){return bv||(bv=1,(function(r){const e=mv();function t(n,s,o){n.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(s,o,c){let l=c,h=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(h=i()),l=e.getOptions(l);const p=e.getImageWidth(s.modules.size,l),v=h.getContext("2d"),_=v.createImageData(p,p);return e.qrToImageData(_.data,s,l),t(v,h,p),v.putImageData(_,0,0),h},r.renderToDataURL=function(s,o,c){let l=c;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const h=r.render(s,o,l),p=l.type||"image/png",v=l.rendererOpts||{};return h.toDataURL(p,v.quality)}})(Oh)),Oh}var kh={},xv;function WP(){if(xv)return kh;xv=1;const r=mv();function e(n,s){const o=n.a/255,c=s+'="'+n.hex+'"';return o<1?c+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':c}function t(n,s,o){let c=n+s;return typeof o<"u"&&(c+=" "+o),c}function i(n,s,o){let c="",l=0,h=!1,p=0;for(let v=0;v<n.length;v++){const _=Math.floor(v%s),A=Math.floor(v/s);!_&&!h&&(h=!0),n[v]?(p++,v>0&&_>0&&n[v-1]||(c+=h?t("M",_+o,.5+A+o):t("m",l,0),l=0,h=!1),_+1<s&&n[v+1]||(c+=t("h",p),p=0)):l++}return c}return kh.render=function(s,o,c){const l=r.getOptions(o),h=s.modules.size,p=s.modules.data,v=h+l.margin*2,_=l.color.light.a?"<path "+e(l.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",A="<path "+e(l.color.dark,"stroke")+' d="'+i(p,h,l.margin)+'"/>',P='viewBox="0 0 '+v+" "+v+'"',R='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+P+' shape-rendering="crispEdges">'+_+A+`</svg>
`;return typeof c=="function"&&c(null,R),R},kh}var vv;function KP(){if(vv)return ho;vv=1;const r=SP(),e=zP(),t=HP(),i=WP();function n(s,o,c,l,h){const p=[].slice.call(arguments,1),v=p.length,_=typeof p[v-1]=="function";if(!_&&!r())throw new Error("Callback required as last argument");if(_){if(v<2)throw new Error("Too few arguments provided");v===2?(h=c,c=o,o=l=void 0):v===3&&(o.getContext&&typeof h>"u"?(h=l,l=void 0):(h=l,l=c,c=o,o=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(c=o,o=l=void 0):v===2&&!o.getContext&&(l=c,c=o,o=void 0),new Promise(function(A,P){try{const S=e.create(c,l);A(s(S,o,l))}catch(S){P(S)}})}try{const A=e.create(c,l);h(null,s(A,o,l))}catch(A){h(A)}}return ho.create=e.create,ho.toCanvas=n.bind(null,t.render),ho.toDataURL=n.bind(null,t.renderToDataURL),ho.toString=n.bind(null,function(s,o,c){return i.render(s,c)}),ho}var VP=KP();const GP=ui(VP);var JP=Object.defineProperty,wv=Object.getOwnPropertySymbols,QP=Object.prototype.hasOwnProperty,YP=Object.prototype.propertyIsEnumerable,yv=(r,e,t)=>e in r?JP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Bh=(r,e)=>{for(var t in e||(e={}))QP.call(e,t)&&yv(r,t,e[t]);if(wv)for(var t of wv(e))YP.call(e,t)&&yv(r,t,e[t]);return r};function ZP(){var r;const e=(r=On.state.themeMode)!=null?r:"dark",i={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[e];return{"--wcm-color-fg-1":i.foreground[1],"--wcm-color-fg-2":i.foreground[2],"--wcm-color-fg-3":i.foreground[3],"--wcm-color-bg-1":i.background[1],"--wcm-color-bg-2":i.background[2],"--wcm-color-bg-3":i.background[3],"--wcm-color-overlay":i.overlay}}function Ev(){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}}const it={getPreset(r){return Ev()[r]},setTheme(){const r=document.querySelector(":root"),{themeVariables:e}=On.state;if(r){const t=Bh(Bh(Bh({},ZP()),Ev()),e);Object.entries(t).forEach(([i,n])=>r.style.setProperty(i,n))}},globalCss:ct`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},XP=ct`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;var eR=Object.defineProperty,tR=Object.getOwnPropertyDescriptor,po=(r,e,t,i)=>{for(var n=i>1?void 0:i?tR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&eR(e,t,n),n};let jn=class extends Xe{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const r={"wcm-icon-left":this.iconLeft!==void 0,"wcm-icon-right":this.iconRight!==void 0,"wcm-ghost":this.variant==="ghost","wcm-outline":this.variant==="outline"};let e="inverse";return this.variant==="ghost"&&(e="secondary"),this.variant==="outline"&&(e="accent"),se`<button class="${nn(r)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${e}"><slot></slot></wcm-text>${this.iconRight}</button>`}};jn.styles=[it.globalCss,XP],po([Ge({type:Boolean})],jn.prototype,"disabled",2),po([Ge()],jn.prototype,"iconLeft",2),po([Ge()],jn.prototype,"iconRight",2),po([Ge()],jn.prototype,"onClick",2),po([Ge()],jn.prototype,"variant",2),jn=po([st("wcm-button")],jn);const rR=ct`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;var iR=Object.defineProperty,nR=Object.getOwnPropertyDescriptor,$h=(r,e,t,i)=>{for(var n=i>1?void 0:i?nR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&iR(e,t,n),n};let Fa=class extends Xe{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const r={"wcm-secondary":this.variant==="secondary"};return se`<button ?disabled="${this.disabled}" class="${nn(r)}"><slot></slot></button>`}};Fa.styles=[it.globalCss,rR],$h([Ge({type:Boolean})],Fa.prototype,"disabled",2),$h([Ge()],Fa.prototype,"variant",2),Fa=$h([st("wcm-button-big")],Fa);const sR=ct`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;var oR=Object.getOwnPropertyDescriptor,aR=(r,e,t,i)=>{for(var n=i>1?void 0:i?oR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Lh=class extends Xe{render(){return se`<div><slot></slot></div>`}};Lh.styles=[it.globalCss,sR],Lh=aR([st("wcm-info-footer")],Lh);const lt={CROSS_ICON:Pt`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:Pt`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:Pt`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:Pt`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:Pt`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:Pt`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:Pt`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:Pt`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:Pt`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:Pt`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:Pt`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:Pt`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:Pt`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:Pt`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:Pt`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:Pt`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:Pt`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:Pt`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},cR=ct`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;var lR=Object.getOwnPropertyDescriptor,fR=(r,e,t,i)=>{for(var n=i>1?void 0:i?lR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Uh=class extends Xe{render(){return se`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${lt.WALLET_CONNECT_LOGO} <button @click="${fs.close}">${lt.CROSS_ICON}</button></div>`}};Uh.styles=[it.globalCss,cR],Uh=fR([st("wcm-modal-backcard")],Uh);const uR=ct`main{padding:20px;padding-top:0;width:100%}`;var hR=Object.getOwnPropertyDescriptor,dR=(r,e,t,i)=>{for(var n=i>1?void 0:i?hR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Fh=class extends Xe{render(){return se`<main><slot></slot></main>`}};Fh.styles=[it.globalCss,uR],Fh=dR([st("wcm-modal-content")],Fh);const pR=ct`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;var gR=Object.getOwnPropertyDescriptor,mR=(r,e,t,i)=>{for(var n=i>1?void 0:i?gR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let qh=class extends Xe{render(){return se`<footer><slot></slot></footer>`}};qh.styles=[it.globalCss,pR],qh=mR([st("wcm-modal-footer")],qh);const bR=ct`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;var xR=Object.defineProperty,vR=Object.getOwnPropertyDescriptor,qa=(r,e,t,i)=>{for(var n=i>1?void 0:i?vR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&xR(e,t,n),n};let Rs=class extends Xe{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return se`<button class="wcm-back-btn" @click="${St.goBack}">${lt.BACK_ICON}</button>`}actionBtnTemplate(){return se`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const r={"wcm-border":this.border},e=St.state.history.length>1,t=this.title?se`<wcm-text variant="big-bold">${this.title}</wcm-text>`:se`<slot></slot>`;return se`<header class="${nn(r)}">${e?this.backBtnTemplate():null} ${t} ${this.onAction?this.actionBtnTemplate():null}</header>`}};Rs.styles=[it.globalCss,bR],qa([Ge()],Rs.prototype,"title",2),qa([Ge()],Rs.prototype,"onAction",2),qa([Ge()],Rs.prototype,"actionIcon",2),qa([Ge({type:Boolean})],Rs.prototype,"border",2),Rs=qa([st("wcm-modal-header")],Rs);const We={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(r,e){const t=r.renderRoot.querySelector(e);if(!t)throw new Error(`${e} not found`);return t},getWalletIcon({id:r,image_id:e}){const{walletImages:t}=jr.state;return t?.[r]?t[r]:e?Sr.getWalletImageUrl(e):""},getWalletName(r,e=!1){return e&&r.length>8?`${r.substring(0,8)}..`:r},isMobileAnimation(){return window.innerWidth<=We.MOBILE_BREAKPOINT},async preloadImage(r){const e=new Promise((t,i)=>{const n=new Image;n.onload=t,n.onerror=i,n.crossOrigin="anonymous",n.src=r});return Promise.race([e,xe.wait(3e3)])},getErrorMessage(r){return r instanceof Error?r.message:"Unknown Error"},debounce(r,e=500){let t;return(...i)=>{function n(){r(...i)}t&&clearTimeout(t),t=setTimeout(n,e)}},handleMobileLinking(r,e="_self"){const{walletConnectUri:t}=Tt.state,{mobile:i,name:n}=r,s=i?.native,o=i?.universal;We.setRecentWallet(r);function c(l){if(s){const h=xe.formatNativeUrl(s,l,n);xe.openHref(h,e)}else if(o){const h=xe.formatUniversalUrl(o,l,n);xe.openHref(h,e)}}t&&c(t)},handleAndroidLinking(){const{walletConnectUri:r}=Tt.state;r&&(xe.setWalletConnectAndroidDeepLink(r),xe.openHref(r,xe.isTelegram()?"_blank":"_self"))},async handleUriCopy(){const{walletConnectUri:r}=Tt.state;if(r)try{await navigator.clipboard.writeText(r),Tn.openToast("Link copied","success")}catch{Tn.openToast("Failed to copy","error")}},getCustomImageUrls(){const{walletImages:r}=jr.state,e=Object.values(r??{});return Object.values(e)},truncate(r,e=8){return r.length<=e?r:`${r.substring(0,4)}...${r.substring(r.length-4)}`},setRecentWallet(r){try{localStorage.setItem(We.WCM_RECENT_WALLET_DATA,JSON.stringify(r))}catch{console.info("Unable to set recent wallet")}},getRecentWallet(){try{const r=localStorage.getItem(We.WCM_RECENT_WALLET_DATA);return r?JSON.parse(r):void 0}catch{console.info("Unable to get recent wallet")}},caseSafeIncludes(r,e){return r.toUpperCase().includes(e.toUpperCase())},openWalletExplorerUrl(){xe.openHref(We.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{desktop:r,mobile:e}=xe.getWalletRouterData(),t=!!r?.native,i=!!r?.universal,n=!!e?.native||!!e?.universal;return{isDesktop:t,isMobile:n,isWeb:i}},goToConnectingView(r){St.setData({Wallet:r});const e=xe.isMobile(),{isDesktop:t,isWeb:i,isMobile:n}=We.getCachedRouterWalletPlatforms();e?n?(St.push("MobileConnecting"),!xe.isAndroid()&&xe.isTelegram()&&this.handleMobileLinking(r,"_blank")):i?St.push("WebConnecting"):St.push("InstallWallet"):t?St.push("DesktopConnecting"):i?St.push("WebConnecting"):n?St.push("MobileQrcodeConnecting"):St.push("InstallWallet")}},wR=ct`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;var yR=Object.defineProperty,ER=Object.getOwnPropertyDescriptor,jh=(r,e,t,i)=>{for(var n=i>1?void 0:i?ER(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&yR(e,t,n),n};let ja=class extends Xe{constructor(){super(),this.view=St.state.view,this.prevView=St.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=St.subscribe(r=>{this.view!==r.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([r])=>{const e=`${r.contentRect.height}px`;this.oldHeight!=="0px"&&Ms(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),this.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var r,e;(r=this.unsubscribe)==null||r.call(this),(e=this.resizeObserver)==null||e.disconnect()}get routerEl(){return We.getShadowRootElement(this,".wcm-router")}get contentEl(){return We.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return se`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return se`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return se`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return se`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return se`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return se`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return se`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return se`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return se`<div>Not Found</div>`}}async onChangeRoute(){await Ms(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=St.state.view,Ms(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return se`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};ja.styles=[it.globalCss,wR],jh([Dr()],ja.prototype,"view",2),jh([Dr()],ja.prototype,"prevView",2),ja=jh([st("wcm-modal-router")],ja);const _R=ct`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;var AR=Object.defineProperty,SR=Object.getOwnPropertyDescriptor,_v=(r,e,t,i)=>{for(var n=i>1?void 0:i?SR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&AR(e,t,n),n};let Cl=class extends Xe{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=Tn.subscribe(r=>{r.open?(this.open=!0,this.timeout=setTimeout(()=>Tn.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var r;(r=this.unsubscribe)==null||r.call(this),clearTimeout(this.timeout),Tn.closeToast()}render(){const{message:r,variant:e}=Tn.state,t={"wcm-success":e==="success","wcm-error":e==="error"};return this.open?se`<div class="${nn(t)}">${e==="success"?lt.CHECKMARK_ICON:null} ${e==="error"?lt.CROSS_ICON:null}<wcm-text variant="small-regular">${r}</wcm-text></div>`:null}};Cl.styles=[it.globalCss,_R],_v([Dr()],Cl.prototype,"open",2),Cl=_v([st("wcm-modal-toast")],Cl);const CR=.1,Av=2.5,sn=7;function zh(r,e,t){return r===e?!1:(r-e<0?e-r:r-e)<=t+CR}function MR(r,e){const t=Array.prototype.slice.call(GP.create(r,{errorCorrectionLevel:e}).modules.data,0),i=Math.sqrt(t.length);return t.reduce((n,s,o)=>(o%i===0?n.push([s]):n[n.length-1].push(s))&&n,[])}const IR={generate(r,e,t){const i="#141414",n="#ffffff",s=[],o=MR(r,"Q"),c=e/o.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:P,y:S})=>{const R=(o.length-sn)*c*P,B=(o.length-sn)*c*S,T=.45;for(let k=0;k<l.length;k+=1){const I=c*(sn-k*2);s.push(Pt`<rect fill="${k%2===0?i:n}" height="${I}" rx="${I*T}" ry="${I*T}" width="${I}" x="${R+c*k}" y="${B+c*k}">`)}});const h=Math.floor((t+25)/c),p=o.length/2-h/2,v=o.length/2+h/2-1,_=[];o.forEach((P,S)=>{P.forEach((R,B)=>{if(o[S][B]&&!(S<sn&&B<sn||S>o.length-(sn+1)&&B<sn||S<sn&&B>o.length-(sn+1))&&!(S>p&&S<v&&B>p&&B<v)){const T=S*c+c/2,k=B*c+c/2;_.push([T,k])}})});const A={};return _.forEach(([P,S])=>{A[P]?A[P].push(S):A[P]=[S]}),Object.entries(A).map(([P,S])=>{const R=S.filter(B=>S.every(T=>!zh(B,T,c)));return[Number(P),R]}).forEach(([P,S])=>{S.forEach(R=>{s.push(Pt`<circle cx="${P}" cy="${R}" fill="${i}" r="${c/Av}">`)})}),Object.entries(A).filter(([P,S])=>S.length>1).map(([P,S])=>{const R=S.filter(B=>S.some(T=>zh(B,T,c)));return[Number(P),R]}).map(([P,S])=>{S.sort((B,T)=>B<T?-1:1);const R=[];for(const B of S){const T=R.find(k=>k.some(I=>zh(B,I,c)));T?T.push(B):R.push([B])}return[P,R.map(B=>[B[0],B[B.length-1]])]}).forEach(([P,S])=>{S.forEach(([R,B])=>{s.push(Pt`<line x1="${P}" x2="${P}" y1="${R}" y2="${B}" stroke="${i}" stroke-width="${c/(Av/2)}" stroke-linecap="round">`)})}),s}},PR=ct`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;var RR=Object.defineProperty,DR=Object.getOwnPropertyDescriptor,go=(r,e,t,i)=>{for(var n=i>1?void 0:i?DR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&RR(e,t,n),n};let on=class extends Xe{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){const e=On.state.themeMode==="light"?this.size:this.size-36;return Pt`<svg height="${e}" width="${e}">${IR.generate(this.uri,e,e/4)}</svg>`}render(){const r={"wcm-dark":On.state.themeMode==="dark"};return se`<div style="${`width: ${this.size}px`}" class="${nn(r)}">${this.walletId||this.imageUrl?se`<wcm-wallet-image walletId="${yr(this.walletId)}" imageId="${yr(this.imageId)}" imageUrl="${yr(this.imageUrl)}"></wcm-wallet-image>`:lt.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};on.styles=[it.globalCss,PR],go([Ge()],on.prototype,"uri",2),go([Ge({type:Number})],on.prototype,"size",2),go([Ge()],on.prototype,"imageId",2),go([Ge()],on.prototype,"walletId",2),go([Ge()],on.prototype,"imageUrl",2),on=go([st("wcm-qrcode")],on);const NR=ct`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;var OR=Object.defineProperty,TR=Object.getOwnPropertyDescriptor,Sv=(r,e,t,i)=>{for(var n=i>1?void 0:i?TR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&OR(e,t,n),n};let Ml=class extends Xe{constructor(){super(...arguments),this.onChange=()=>null}render(){return se`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${lt.SEARCH_ICON}`}};Ml.styles=[it.globalCss,NR],Sv([Ge()],Ml.prototype,"onChange",2),Ml=Sv([st("wcm-search-input")],Ml);const kR=ct`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;var BR=Object.getOwnPropertyDescriptor,$R=(r,e,t,i)=>{for(var n=i>1?void 0:i?BR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Hh=class extends Xe{render(){return se`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};Hh.styles=[it.globalCss,kR],Hh=$R([st("wcm-spinner")],Hh);const LR=ct`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;var UR=Object.defineProperty,FR=Object.getOwnPropertyDescriptor,Wh=(r,e,t,i)=>{for(var n=i>1?void 0:i?FR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&UR(e,t,n),n};let za=class extends Xe{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const r={"wcm-big-bold":this.variant==="big-bold","wcm-medium-regular":this.variant==="medium-regular","wcm-small-regular":this.variant==="small-regular","wcm-small-thin":this.variant==="small-thin","wcm-xsmall-regular":this.variant==="xsmall-regular","wcm-xsmall-bold":this.variant==="xsmall-bold","wcm-color-primary":this.color==="primary","wcm-color-secondary":this.color==="secondary","wcm-color-tertiary":this.color==="tertiary","wcm-color-inverse":this.color==="inverse","wcm-color-accnt":this.color==="accent","wcm-color-error":this.color==="error"};return se`<span><slot class="${nn(r)}"></slot></span>`}};za.styles=[it.globalCss,LR],Wh([Ge()],za.prototype,"variant",2),Wh([Ge()],za.prototype,"color",2),za=Wh([st("wcm-text")],za);const qR=ct`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;var jR=Object.defineProperty,zR=Object.getOwnPropertyDescriptor,zn=(r,e,t,i)=>{for(var n=i>1?void 0:i?zR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&jR(e,t,n),n};let Fi=class extends Xe{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?se`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?se`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){gg.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var r;return se`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${yr(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${(r=this.label)!=null?r:We.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};Fi.styles=[it.globalCss,qR],zn([Ge()],Fi.prototype,"onClick",2),zn([Ge()],Fi.prototype,"name",2),zn([Ge()],Fi.prototype,"walletId",2),zn([Ge()],Fi.prototype,"label",2),zn([Ge()],Fi.prototype,"imageId",2),zn([Ge({type:Boolean})],Fi.prototype,"installed",2),zn([Ge({type:Boolean})],Fi.prototype,"recent",2),Fi=zn([st("wcm-wallet-button")],Fi);const HR=ct`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var WR=Object.defineProperty,KR=Object.getOwnPropertyDescriptor,Il=(r,e,t,i)=>{for(var n=i>1?void 0:i?KR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&WR(e,t,n),n};let mo=class extends Xe{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var r;const e=(r=this.imageUrl)!=null&&r.length?this.imageUrl:We.getWalletIcon({id:this.walletId,image_id:this.imageId});return se`${e.length?se`<div><img crossorigin="anonymous" src="${e}" alt="${this.id}"></div>`:lt.WALLET_PLACEHOLDER}`}};mo.styles=[it.globalCss,HR],Il([Ge()],mo.prototype,"walletId",2),Il([Ge()],mo.prototype,"imageId",2),Il([Ge()],mo.prototype,"imageUrl",2),mo=Il([st("wcm-wallet-image")],mo);var VR=Object.defineProperty,GR=Object.getOwnPropertyDescriptor,Cv=(r,e,t,i)=>{for(var n=i>1?void 0:i?GR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&VR(e,t,n),n};let Kh=class extends Xe{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(r){try{r?.length&&await Promise.all(r.map(async e=>We.preloadImage(e)))}catch{console.info("Unsuccessful attempt at preloading some images",r)}}async preloadListings(){if(jr.state.enableExplorer){await Sr.getRecomendedWallets(),Tt.setIsDataLoaded(!0);const{recomendedWallets:r}=Sr.state,e=r.map(t=>We.getWalletIcon(t));await this.loadImages(e)}else Tt.setIsDataLoaded(!0)}async preloadCustomImages(){const r=We.getCustomImageUrls();await this.loadImages(r)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(r){console.error(r),Tn.openToast("Failed preloading","error")}}};Cv([Dr()],Kh.prototype,"preload",2),Kh=Cv([st("wcm-explorer-context")],Kh);var JR=Object.getOwnPropertyDescriptor,QR=(r,e,t,i)=>{for(var n=i>1?void 0:i?JR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Mv=class extends Xe{constructor(){super(),this.unsubscribeTheme=void 0,it.setTheme(),this.unsubscribeTheme=On.subscribe(it.setTheme)}disconnectedCallback(){var r;(r=this.unsubscribeTheme)==null||r.call(this)}};Mv=QR([st("wcm-theme-context")],Mv);const YR=ct`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var ZR=Object.getOwnPropertyDescriptor,XR=(r,e,t,i)=>{for(var n=i>1?void 0:i?ZR(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Vh=class extends Xe{onGoToQrcode(){St.push("Qrcode")}render(){const{recomendedWallets:r}=Sr.state,e=[...r,...r],t=xe.RECOMMENDED_WALLET_AMOUNT*2;return se`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${lt.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${lt.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(t)].map((i,n)=>{const s=e[n%e.length];return s?se`<wcm-wallet-image walletId="${s.id}" imageId="${s.image_id}"></wcm-wallet-image>`:lt.WALLET_PLACEHOLDER})}</div><wcm-button-big @click="${We.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};Vh.styles=[it.globalCss,YR],Vh=XR([st("wcm-android-wallet-selection")],Vh);const eD=ct`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;var tD=Object.defineProperty,rD=Object.getOwnPropertyDescriptor,bo=(r,e,t,i)=>{for(var n=i>1?void 0:i?rD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&tD(e,t,n),n};let Hn=class extends Xe{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var r,e;const s=(e=(r=On.state.themeVariables)==null?void 0:r["--wcm-wallet-icon-large-border-radius"])!=null?e:it.getPreset("--wcm-wallet-icon-large-border-radius");let o=0;s.includes("%")?o=88/100*parseInt(s,10):o=parseInt(s,10),o*=1.17;const c=317-o*1.57,l=425-o*1.8;return se`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${o}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${c}" stroke-dashoffset="${l}"></use></svg>`}render(){const r={"wcm-error":this.isError,"wcm-stale":this.isStale};return se`<div class="${nn(r)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${yr(this.walletId)}" imageId="${yr(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};Hn.styles=[it.globalCss,eD],bo([Ge()],Hn.prototype,"walletId",2),bo([Ge()],Hn.prototype,"imageId",2),bo([Ge({type:Boolean})],Hn.prototype,"isError",2),bo([Ge({type:Boolean})],Hn.prototype,"isStale",2),bo([Ge()],Hn.prototype,"label",2),Hn=bo([st("wcm-connector-waiting")],Hn);const xo={manualWallets(){var r,e;const{mobileWallets:t,desktopWallets:i}=jr.state,n=(r=xo.recentWallet())==null?void 0:r.id,s=xe.isMobile()?t:i,o=s?.filter(c=>n!==c.id);return(e=xe.isMobile()?o?.map(({id:c,name:l,links:h})=>({id:c,name:l,mobile:h,links:h})):o?.map(({id:c,name:l,links:h})=>({id:c,name:l,desktop:h,links:h})))!=null?e:[]},recentWallet(){return We.getRecentWallet()},recomendedWallets(r=!1){var e;const t=r||(e=xo.recentWallet())==null?void 0:e.id,{recomendedWallets:i}=Sr.state;return i.filter(s=>t!==s.id)}},Wn={onConnecting(r){We.goToConnectingView(r)},manualWalletsTemplate(){return xo.manualWallets().map(e=>se`<wcm-wallet-button walletId="${e.id}" name="${e.name}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`)},recomendedWalletsTemplate(r=!1){return xo.recomendedWallets(r).map(t=>se`<wcm-wallet-button name="${t.name}" walletId="${t.id}" imageId="${t.image_id}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`)},recentWalletTemplate(){const r=xo.recentWallet();if(r)return se`<wcm-wallet-button name="${r.name}" walletId="${r.id}" imageId="${yr(r.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(r)}"></wcm-wallet-button>`}},iD=ct`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;var nD=Object.getOwnPropertyDescriptor,sD=(r,e,t,i)=>{for(var n=i>1?void 0:i?nD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Gh=class extends Xe{render(){const{explorerExcludedWalletIds:r,enableExplorer:e}=jr.state,t=r!=="ALL"&&e,i=Wn.manualWalletsTemplate(),n=Wn.recomendedWalletsTemplate();let o=[Wn.recentWalletTemplate(),...i,...n];o=o.filter(Boolean);const c=o.length>4||t;let l=[];c?l=o.slice(0,3):l=o;const h=!!l.length;return se`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${We.handleUriCopy}" .actionIcon="${lt.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${lt.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${lt.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${h?se`<wcm-modal-footer><div class="wcm-desktop-title">${lt.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${l} ${c?se`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};Gh.styles=[it.globalCss,iD],Gh=sD([st("wcm-desktop-wallet-selection")],Gh);const oD=ct`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;var aD=Object.getOwnPropertyDescriptor,cD=(r,e,t,i)=>{for(var n=i>1?void 0:i?aD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Jh=class extends Xe{render(){const{termsOfServiceUrl:r,privacyPolicyUrl:e}=jr.state;return r??e?se`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${r?se`<a href="${r}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${r&&e?"and":null} ${e?se`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};Jh.styles=[it.globalCss,oD],Jh=cD([st("wcm-legal-notice")],Jh);const lD=ct`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;var fD=Object.getOwnPropertyDescriptor,uD=(r,e,t,i)=>{for(var n=i>1?void 0:i?fD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Qh=class extends Xe{onQrcode(){St.push("Qrcode")}render(){const{explorerExcludedWalletIds:r,enableExplorer:e}=jr.state,t=r!=="ALL"&&e,i=Wn.manualWalletsTemplate(),n=Wn.recomendedWalletsTemplate();let o=[Wn.recentWalletTemplate(),...i,...n];o=o.filter(Boolean);const c=o.length>8||t;let l=[];c?l=o.slice(0,7):l=o;const h=!!l.length;return se`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${lt.QRCODE_ICON}"></wcm-modal-header>${h?se`<wcm-modal-content><div>${l} ${c?se`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};Qh.styles=[it.globalCss,lD],Qh=uD([st("wcm-mobile-wallet-selection")],Qh);const hD=ct`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;var dD=Object.defineProperty,pD=Object.getOwnPropertyDescriptor,Yh=(r,e,t,i)=>{for(var n=i>1?void 0:i?pD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&dD(e,t,n),n};let vo=class extends Xe{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=fs.subscribe(r=>{r.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var r;(r=this.unsubscribeModal)==null||r.call(this)}get overlayEl(){return We.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return We.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(r){if(document.querySelector("body"))if(r){const t=document.getElementById("wcm-styles");t?.remove()}else document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>')}onCloseModal(r){r.target===r.currentTarget&&fs.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{const r=We.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},e=.1,t=.2;await Promise.all([Ms(this.overlayEl,{opacity:[0,1]},{delay:e,duration:t}).finished,Ms(this.containerEl,r,{delay:e,duration:t}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const r=We.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},e=.2;await Promise.all([Ms(this.overlayEl,{opacity:[1,0]},{duration:e}).finished,Ms(this.containerEl,r,{duration:e}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",r=>{var e;r.key==="Escape"?fs.close():r.key==="Tab"&&((e=r.target)!=null&&e.tagName.includes("wcm-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var r;(r=this.abortController)==null||r.abort(),this.abortController=void 0}render(){const r={"wcm-overlay":!0,"wcm-active":this.active};return se`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${nn(r)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?se`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};vo.styles=[it.globalCss,hD],Yh([Dr()],vo.prototype,"open",2),Yh([Dr()],vo.prototype,"active",2),vo=Yh([st("wcm-modal")],vo);const gD=ct`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;var mD=Object.defineProperty,bD=Object.getOwnPropertyDescriptor,Ha=(r,e,t,i)=>{for(var n=i>1?void 0:i?bD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&mD(e,t,n),n};let Ds=class extends Xe{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){xe.isMobile()?St.replace("MobileConnecting"):St.replace("MobileQrcodeConnecting")}onDesktop(){St.replace("DesktopConnecting")}onWeb(){St.replace("WebConnecting")}render(){return se`<div>${this.isRetry?se`<slot></slot>`:null} ${this.isMobile?se`<wcm-button .onClick="${this.onMobile}" .iconLeft="${lt.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?se`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${lt.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?se`<wcm-button .onClick="${this.onWeb}" .iconLeft="${lt.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};Ds.styles=[it.globalCss,gD],Ha([Ge({type:Boolean})],Ds.prototype,"isMobile",2),Ha([Ge({type:Boolean})],Ds.prototype,"isDesktop",2),Ha([Ge({type:Boolean})],Ds.prototype,"isWeb",2),Ha([Ge({type:Boolean})],Ds.prototype,"isRetry",2),Ds=Ha([st("wcm-platform-selection")],Ds);const xD=ct`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var vD=Object.getOwnPropertyDescriptor,wD=(r,e,t,i)=>{for(var n=i>1?void 0:i?vD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Zh=class extends Xe{onClick(){St.push("WalletExplorer")}render(){const{recomendedWallets:r}=Sr.state,e=xo.manualWallets(),t=[...r,...e].reverse().slice(0,4);return se`<button @click="${this.onClick}"><div class="wcm-icons">${t.map(i=>{const n=We.getWalletIcon(i);if(n)return se`<img crossorigin="anonymous" src="${n}">`;const s=We.getWalletIcon({id:i.id});return s?se`<img crossorigin="anonymous" src="${s}">`:lt.WALLET_PLACEHOLDER})} ${[...Array(4-t.length)].map(()=>lt.WALLET_PLACEHOLDER)}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};Zh.styles=[it.globalCss,xD],Zh=wD([st("wcm-view-all-wallets-button")],Zh);const yD=ct`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var ED=Object.defineProperty,_D=Object.getOwnPropertyDescriptor,Pl=(r,e,t,i)=>{for(var n=i>1?void 0:i?_D(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&ED(e,t,n),n};let wo=class extends Xe{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout(()=>{const{walletConnectUri:r}=Tt.state;this.uri=r},0)}get overlayEl(){return We.getShadowRootElement(this,".wcm-qr-container")}render(){return se`<div class="wcm-qr-container">${this.uri?se`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${yr(this.walletId)}" imageId="${yr(this.imageId)}"></wcm-qrcode>`:se`<wcm-spinner></wcm-spinner>`}</div>`}};wo.styles=[it.globalCss,yD],Pl([Ge()],wo.prototype,"walletId",2),Pl([Ge()],wo.prototype,"imageId",2),Pl([Dr()],wo.prototype,"uri",2),wo=Pl([st("wcm-walletconnect-qr")],wo);var AD=Object.getOwnPropertyDescriptor,SD=(r,e,t,i)=>{for(var n=i>1?void 0:i?AD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let Xh=class extends Xe{viewTemplate(){return xe.isAndroid()&&!xe.isTelegram()?se`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:xe.isMobile()?se`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:se`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return se`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};Xh.styles=[it.globalCss],Xh=SD([st("wcm-connect-wallet-view")],Xh);const CD=ct`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var MD=Object.defineProperty,ID=Object.getOwnPropertyDescriptor,Iv=(r,e,t,i)=>{for(var n=i>1?void 0:i?ID(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&MD(e,t,n),n};let Rl=class extends Xe{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(r){const{desktop:e,name:t}=xe.getWalletRouterData(),i=e?.native,n=e?.universal;if(i){const s=xe.formatNativeUrl(i,r,t);xe.openHref(s,"_self")}else if(n){const s=xe.formatUniversalUrl(n,r,t);xe.openHref(s,"_blank")}}openDesktopApp(){const{walletConnectUri:r}=Tt.state,e=xe.getWalletRouterData();We.setRecentWallet(e),r&&this.onFormatAndRedirect(r)}render(){const{name:r,id:e,image_id:t}=xe.getWalletRouterData(),{isMobile:i,isWeb:n}=We.getCachedRouterWalletPlatforms();return se`<wcm-modal-header title="${r}" .onAction="${We.handleUriCopy}" .actionIcon="${lt.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${yr(t)}" label="${`Continue in ${r}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${r} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${i}" .isWeb="${n}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${lt.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Rl.styles=[it.globalCss,CD],Iv([Dr()],Rl.prototype,"isError",2),Rl=Iv([st("wcm-desktop-connecting-view")],Rl);const PD=ct`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;var RD=Object.getOwnPropertyDescriptor,DD=(r,e,t,i)=>{for(var n=i>1?void 0:i?RD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let ed=class extends Xe{onInstall(r){r&&xe.openHref(r,"_blank")}render(){const{name:r,id:e,image_id:t,homepage:i}=xe.getWalletRouterData();return se`<wcm-modal-header title="${r}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${yr(t)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${r} to continue. If multiple browser extensions are installed, disable non ${r} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(i)}" .iconLeft="${lt.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};ed.styles=[it.globalCss,PD],ed=DD([st("wcm-install-wallet-view")],ed);const ND=ct`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;var OD=Object.defineProperty,TD=Object.getOwnPropertyDescriptor,Pv=(r,e,t,i)=>{for(var n=i>1?void 0:i?TD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&OD(e,t,n),n};let Dl=class extends Xe{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(r,e=!1){const{mobile:t,name:i}=xe.getWalletRouterData(),n=t?.native,s=t?.universal,o=xe.isTelegram()?"_blank":"_self";if(r=xe.isTelegram()&&xe.isAndroid()?encodeURIComponent(r):r,n&&!e){const c=xe.formatNativeUrl(n,r,i);xe.openHref(c,o)}else if(s){const c=xe.formatUniversalUrl(s,r,i);xe.openHref(c,o)}}openMobileApp(r=!1){const{walletConnectUri:e}=Tt.state,t=xe.getWalletRouterData();e&&this.onFormatAndRedirect(e,r),We.setRecentWallet(t)}onGoToAppStore(r){r&&xe.openHref(r,"_blank")}render(){const{name:r,id:e,image_id:t,app:i,mobile:n}=xe.getWalletRouterData(),{isWeb:s}=We.getCachedRouterWalletPlatforms(),o=i?.ios,c=n?.universal;return se`<wcm-modal-header title="${r}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${yr(t)}" label="Tap 'Open' to continue…" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${s}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${lt.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${c?se`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${e}" imageId="${yr(t)}"></wcm-wallet-image><wcm-text>${`Get ${r}`}</wcm-text></div><wcm-button .iconRight="${lt.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(o)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};Dl.styles=[it.globalCss,ND],Pv([Dr()],Dl.prototype,"isError",2),Dl=Pv([st("wcm-mobile-connecting-view")],Dl);const kD=ct`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var BD=Object.getOwnPropertyDescriptor,$D=(r,e,t,i)=>{for(var n=i>1?void 0:i?BD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let td=class extends Xe{render(){const{name:r,id:e,image_id:t}=xe.getWalletRouterData(),{isDesktop:i,isWeb:n}=We.getCachedRouterWalletPlatforms();return se`<wcm-modal-header title="${r}" .onAction="${We.handleUriCopy}" .actionIcon="${lt.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${e}" imageId="${yr(t)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${r} app`}</wcm-text><wcm-platform-selection .isDesktop="${i}" .isWeb="${n}"></wcm-platform-selection></wcm-info-footer>`}};td.styles=[it.globalCss,kD],td=$D([st("wcm-mobile-qr-connecting-view")],td);var LD=Object.getOwnPropertyDescriptor,UD=(r,e,t,i)=>{for(var n=i>1?void 0:i?LD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=o(n)||n);return n};let rd=class extends Xe{render(){return se`<wcm-modal-header title="Scan the code" .onAction="${We.handleUriCopy}" .actionIcon="${lt.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};rd.styles=[it.globalCss],rd=UD([st("wcm-qrcode-view")],rd);const FD=ct`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var qD=Object.defineProperty,jD=Object.getOwnPropertyDescriptor,Wa=(r,e,t,i)=>{for(var n=i>1?void 0:i?jD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&qD(e,t,n),n};const id=40;let Ns=class extends Xe{constructor(){super(...arguments),this.loading=!Sr.state.wallets.listings.length,this.firstFetch=!Sr.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=We.debounce(r=>{r.length>=1?(this.firstFetch=!0,this.endReached=!1,this.search=r,Sr.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),Sr.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var r;(r=this.intersectionObserver)==null||r.disconnect()}get placeholderEl(){return We.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([r])=>{r.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:r,search:e}=Sr.state,{listings:t,total:i}=this.search?e:r;return i<=id||t.length>=i}async fetchWallets(){var r;const{wallets:e,search:t}=Sr.state,{listings:i,total:n,page:s}=this.search?t:e;if(!this.endReached&&(this.firstFetch||n>id&&i.length<n))try{this.loading=!0;const o=(r=Tt.state.chains)==null?void 0:r.join(","),{listings:c}=await Sr.getWallets({page:this.firstFetch?1:s+1,entries:id,search:this.search,version:2,chains:o}),l=c.map(h=>We.getWalletIcon(h));await Promise.all([...l.map(async h=>We.preloadImage(h)),xe.wait(300)]),this.endReached=this.isLastPage()}catch(o){console.error(o),Tn.openToast(We.getErrorMessage(o),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(r){xe.isAndroid()?We.handleMobileLinking(r):We.goToConnectingView(r)}onSearchChange(r){const{value:e}=r.target;this.searchDebounce(e)}render(){const{wallets:r,search:e}=Sr.state,{listings:t}=this.search?e:r,i=this.loading&&!t.length,n=this.search.length>=3;let s=Wn.manualWalletsTemplate(),o=Wn.recomendedWalletsTemplate(!0);n&&(s=s.filter(({values:h})=>We.caseSafeIncludes(h[0],this.search)),o=o.filter(({values:h})=>We.caseSafeIncludes(h[0],this.search)));const c=!this.loading&&!t.length&&!o.length,l={"wcm-loading":i,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":c};return se`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${nn(l)}"><div class="wcm-grid">${i?null:s} ${i?null:o} ${i?null:t.map(h=>se`${h?se`<wcm-wallet-button imageId="${h.image_id}" name="${h.name}" walletId="${h.id}" .onClick="${()=>this.onConnect(h)}"></wcm-wallet-button>`:null}`)}</div><div class="wcm-placeholder-block">${c?se`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!c&&this.loading?se`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};Ns.styles=[it.globalCss,FD],Wa([Dr()],Ns.prototype,"loading",2),Wa([Dr()],Ns.prototype,"firstFetch",2),Wa([Dr()],Ns.prototype,"search",2),Wa([Dr()],Ns.prototype,"endReached",2),Ns=Wa([st("wcm-wallet-explorer-view")],Ns);const zD=ct`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var HD=Object.defineProperty,WD=Object.getOwnPropertyDescriptor,Rv=(r,e,t,i)=>{for(var n=i>1?void 0:i?WD(e,t):e,s=r.length-1,o;s>=0;s--)(o=r[s])&&(n=(i?o(e,t,n):o(n))||n);return i&&n&&HD(e,t,n),n};let Nl=class extends Xe{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(r){const{desktop:e,name:t}=xe.getWalletRouterData(),i=e?.universal;if(i){const n=xe.formatUniversalUrl(i,r,t);xe.openHref(n,"_blank")}}openWebWallet(){const{walletConnectUri:r}=Tt.state,e=xe.getWalletRouterData();We.setRecentWallet(e),r&&this.onFormatAndRedirect(r)}render(){const{name:r,id:e,image_id:t}=xe.getWalletRouterData(),{isMobile:i,isDesktop:n}=We.getCachedRouterWalletPlatforms(),s=xe.isMobile();return se`<wcm-modal-header title="${r}" .onAction="${We.handleUriCopy}" .actionIcon="${lt.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${yr(t)}" label="${`Continue in ${r}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${r} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${i}" .isDesktop="${s?!1:n}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${lt.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Nl.styles=[it.globalCss,zD],Rv([Dr()],Nl.prototype,"isError",2),Nl=Rv([st("wcm-web-connecting-view")],Nl);const KD=Object.freeze(Object.defineProperty({__proto__:null,get WcmModal(){return vo},get WcmQrCode(){return on}},Symbol.toStringTag,{value:"Module"}))})();
