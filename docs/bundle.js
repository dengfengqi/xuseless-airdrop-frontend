(function(){"use strict";var du=typeof document<"u"?document.currentScript:null;function h5(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in r)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(r,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}const pu="6.15.0";function d5(r,e,t){const n=e.split("|").map(i=>i.trim());for(let i=0;i<n.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof r===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=r,s}async function yt(r){const e=Object.keys(r);return(await Promise.all(e.map(n=>Promise.resolve(r[n])))).reduce((n,s,i)=>(n[e[i]]=s,n),{})}function Z(r,e,t){for(let n in e){let s=e[n];const i=t?t[n]:null;i&&d5(s,i,n),Object.defineProperty(r,n,{enumerable:!0,value:s,writable:!1})}}function vi(r,e){if(r==null)return"null";if(e==null&&(e=new Set),typeof r=="object"){if(e.has(r))return"[Circular]";e.add(r)}if(Array.isArray(r))return"[ "+r.map(t=>vi(t,e)).join(", ")+" ]";if(r instanceof Uint8Array){const t="0123456789abcdef";let n="0x";for(let s=0;s<r.length;s++)n+=t[r[s]>>4],n+=t[r[s]&15];return n}if(typeof r=="object"&&typeof r.toJSON=="function")return vi(r.toJSON(),e);switch(typeof r){case"boolean":case"number":case"symbol":return r.toString();case"bigint":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{const t=Object.keys(r);return t.sort(),"{ "+t.map(n=>`${vi(n,e)}: ${vi(r[n],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ze(r,e){return r&&r.code===e}function ic(r){return Ze(r,"CALL_EXCEPTION")}function Te(r,e,t){let n=r;{const i=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${vi(t)}`);for(const o in t){if(o==="shortMessage")continue;const a=t[o];i.push(o+"="+vi(a))}}i.push(`code=${e}`),i.push(`version=${pu}`),i.length&&(r+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(r);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(r);break;default:s=new Error(r)}return Z(s,{code:e}),t&&Object.assign(s,t),s.shortMessage==null&&Z(s,{shortMessage:n}),s}function $(r,e,t,n){if(!r)throw Te(e,t,n)}function N(r,e,t,n){$(r,e,"INVALID_ARGUMENT",{argument:t,value:n})}function gu(r,e,t){t==null&&(t=""),t&&(t=": "+t),$(r>=e,"missing argument"+t,"MISSING_ARGUMENT",{count:r,expectedCount:e}),$(r<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:r,expectedCount:e})}const p5=["NFD","NFC","NFKD","NFKC"].reduce((r,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");r.push(e)}catch{}return r},[]);function mu(r){$(p5.indexOf(r)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:r}})}function gn(r,e,t){if(t==null&&(t=""),r!==e){let n=t,s="new";t&&(n+=".",s+=" "+t),$(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function pp(r,e,t){if(r instanceof Uint8Array)return t?new Uint8Array(r):r;if(typeof r=="string"&&r.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((r.length-2)/2);let s=2;for(let i=0;i<n.length;i++)n[i]=parseInt(r.substring(s,s+2),16),s+=2;return n}N(!1,"invalid BytesLike value",e||"value",r)}function q(r,e){return pp(r,e,!1)}function vt(r,e){return pp(r,e,!0)}function Ne(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&r.length!==2+2*e||e===!0&&r.length%2!==0)}function Io(r){return Ne(r,!0)||r instanceof Uint8Array}const gp="0123456789abcdef";function V(r){const e=q(r);let t="0x";for(let n=0;n<e.length;n++){const s=e[n];t+=gp[(s&240)>>4]+gp[s&15]}return t}function ye(r){return"0x"+r.map(e=>V(e).substring(2)).join("")}function Fn(r){return Ne(r,!0)?(r.length-2)/2:q(r).length}function Be(r,e,t){const n=q(r);return t!=null&&t>n.length&&$(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:t}),V(n.slice(e??0,t??n.length))}function g5(r){let e=V(r).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function mp(r,e,t){const n=q(r);$(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),t?s.set(n,e-n.length):s.set(n,0),V(s)}function ur(r,e){return mp(r,e,!0)}function oc(r,e){return mp(r,e,!1)}const ac=BigInt(0),Ur=BigInt(1),Ei=9007199254740991;function Co(r,e){const t=So(r,"value"),n=BigInt(ae(e,"width"));if($(t>>n===ac,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:r}),t>>n-Ur){const s=(Ur<<n)-Ur;return-((~t&s)+Ur)}return t}function cc(r,e){let t=Y(r,"value");const n=BigInt(ae(e,"width")),s=Ur<<n-Ur;if(t<ac){t=-t,$(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});const i=(Ur<<n)-Ur;return(~t&i)+Ur}else $(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:r});return t}function Hn(r,e){const t=So(r,"value"),n=BigInt(ae(e,"bits"));return t&(Ur<<n)-Ur}function Y(r,e){switch(typeof r){case"bigint":return r;case"number":return N(Number.isInteger(r),"underflow",e||"value",r),N(r>=-Ei&&r<=Ei,"overflow",e||"value",r),BigInt(r);case"string":try{if(r==="")throw new Error("empty string");return r[0]==="-"&&r[1]!=="-"?-BigInt(r.substring(1)):BigInt(r)}catch(t){N(!1,`invalid BigNumberish string: ${t.message}`,e||"value",r)}}N(!1,"invalid BigNumberish value",e||"value",r)}function So(r,e){const t=Y(r,e);return $(t>=ac,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:r}),t}const bp="0123456789abcdef";function Ai(r){if(r instanceof Uint8Array){let e="0x0";for(const t of r)e+=bp[t>>4],e+=bp[t&15];return BigInt(e)}return Y(r)}function ae(r,e){switch(typeof r){case"bigint":return N(r>=-Ei&&r<=Ei,"overflow",e||"value",r),Number(r);case"number":return N(Number.isInteger(r),"underflow",e||"value",r),N(r>=-Ei&&r<=Ei,"overflow",e||"value",r),r;case"string":try{if(r==="")throw new Error("empty string");return ae(BigInt(r),e)}catch(t){N(!1,`invalid numeric string: ${t.message}`,e||"value",r)}}N(!1,"invalid numeric value",e||"value",r)}function xp(r){return ae(Ai(r))}function Kr(r,e){let n=So(r,"value").toString(16);if(e==null)n.length%2&&(n="0"+n);else{const s=ae(e,"width");for($(s*2>=n.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:r});n.length<s*2;)n="0"+n}return"0x"+n}function Me(r){const e=So(r,"value");if(e===ac)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const n=new Uint8Array(t.length/2);for(let s=0;s<n.length;s++){const i=s*2;n[s]=parseInt(t.substring(i,i+2),16)}return n}function fr(r){let e=V(Io(r)?r:Me(r)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const lc="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let uc=null;function m5(r){if(uc==null){uc={};for(let t=0;t<lc.length;t++)uc[lc[t]]=BigInt(t)}const e=uc[r];return N(e!=null,"invalid base58 value","letter",r),e}const b5=BigInt(0),bu=BigInt(58);function xu(r){const e=q(r);let t=Ai(e),n="";for(;t;)n=lc[Number(t%bu)]+n,t/=bu;for(let s=0;s<e.length&&!e[s];s++)n=lc[0]+n;return n}function wp(r){let e=b5;for(let t=0;t<r.length;t++)e*=bu,e+=m5(r[t]);return e}function yp(r){r=atob(r);const e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return q(e)}function vp(r){const e=q(r);let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}class wu{filter;emitter;#e;constructor(e,t,n){this.#e=t,Z(this,{emitter:e,filter:n})}async removeListener(){this.#e!=null&&await this.emitter.off(this.filter,this.#e)}}function x5(r,e,t,n,s){N(!1,`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function Ep(r,e,t,n,s){if(r==="BAD_PREFIX"||r==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)i++;return i}return r==="OVERRUN"?t.length-e-1:0}function w5(r,e,t,n,s){return r==="OVERLONG"?(N(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),n.push(s),0):(n.push(65533),Ep(r,e,t))}const Ap=Object.freeze({error:x5,ignore:Ep,replace:w5});function _p(r,e){e==null&&(e=Ap.error);const t=q(r,"bytes"),n=[];let s=0;for(;s<t.length;){const i=t[s++];if(i>>7===0){n.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,n):s+=e("BAD_PREFIX",s-1,t,n);continue}if(s-1+o>=t.length){s+=e("OVERRUN",s-1,t,n);continue}let c=i&(1<<8-o-1)-1;for(let l=0;l<o;l++){let u=t[s];if((u&192)!=128){s+=e("MISSING_CONTINUE",s,t,n),c=null;break}c=c<<6|u&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-o,t,n,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-o,t,n,c);continue}if(c<=a){s+=e("OVERLONG",s-1-o,t,n,c);continue}n.push(c)}}return n}function ht(r,e){N(typeof r=="string","invalid string value","str",r),e!=null&&(mu(e),r=r.normalize(e));let t=[];for(let n=0;n<r.length;n++){const s=r.charCodeAt(n);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){n++;const i=r.charCodeAt(n);N(n<r.length&&(i&64512)===56320,"invalid surrogate pair","str",r);const o=65536+((s&1023)<<10)+(i&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}function y5(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function jn(r,e){return y5(_p(r,e))}function v5(r,e){return _p(ht(r,e))}function Ip(r){async function e(t,n){$(n==null||!n.cancelled,"request cancelled before sending","CANCELLED");const s=t.url.split(":")[0].toLowerCase();$(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),$(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=Te("request timeout","TIMEOUT"),o.abort()},t.timeout);n&&n.addListener(()=>{i=Te("request cancelled","CANCELLED"),o.abort()});const c=Object.assign({},r,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o.signal});let l;try{l=await fetch(t.url,c)}catch(p){throw clearTimeout(a),i||p}clearTimeout(a);const u={};l.headers.forEach((p,m)=>{u[m.toLowerCase()]=p});const f=await l.arrayBuffer(),d=f==null?null:new Uint8Array(f);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:d}}return e}const E5=12,A5=250;let Cp=Ip();const _5=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),I5=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let yu=!1;async function Sp(r,e){try{const t=r.match(_5);if(!t)throw new Error("invalid data");return new mn(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?yp(t[3]):C5(t[3]))}catch{return new mn(599,"BAD REQUEST (invalid data: URI)",{},null,new dt(r))}}function Op(r){async function e(t,n){try{const s=t.match(I5);if(!s)throw new Error("invalid link");return new dt(`${r}${s[2]}`)}catch{return new mn(599,"BAD REQUEST (invalid IPFS URI)",{},null,new dt(t))}}return e}const fc={data:Sp,ipfs:Op("https://gateway.ipfs.io/ipfs/")},Pp=new WeakMap;class Np{#e;#t;constructor(e){this.#e=[],this.#t=!1,Pp.set(e,()=>{if(!this.#t){this.#t=!0;for(const t of this.#e)setTimeout(()=>{t()},0);this.#e=[]}})}addListener(e){$(!this.#t,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#e.push(e)}get cancelled(){return this.#t}checkSignal(){$(!this.cancelled,"cancelled","CANCELLED",{})}}function hc(r){if(r==null)throw new Error("missing signal; should not happen");return r.checkSignal(),r}class dt{#e;#t;#r;#n;#s;#o;#i;#a;#f;#l;#p;#g;#c;#u;#h;get url(){return this.#o}set url(e){this.#o=String(e)}get body(){return this.#i==null?null:new Uint8Array(this.#i)}set body(e){if(e==null)this.#i=void 0,this.#a=void 0;else if(typeof e=="string")this.#i=ht(e),this.#a="text/plain";else if(e instanceof Uint8Array)this.#i=e,this.#a="application/octet-stream";else if(typeof e=="object")this.#i=ht(JSON.stringify(e)),this.#a="application/json";else throw new Error("invalid body")}hasBody(){return this.#i!=null}get method(){return this.#n?this.#n:this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),this.#n=String(e).toUpperCase()}get headers(){const e=Object.assign({},this.#r);return this.#f&&(e.authorization=`Basic ${vp(ht(this.#f))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&this.#a&&(e["content-type"]=this.#a),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#r[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#r={}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#f||null}setCredentials(e,t){N(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#f=`${e}:${t}`}get allowGzip(){return this.#t}set allowGzip(e){this.#t=!!e}get allowInsecureAuthentication(){return!!this.#e}set allowInsecureAuthentication(e){this.#e=!!e}get timeout(){return this.#s}set timeout(e){N(e>=0,"timeout must be non-zero","timeout",e),this.#s=e}get preflightFunc(){return this.#l||null}set preflightFunc(e){this.#l=e}get processFunc(){return this.#p||null}set processFunc(e){this.#p=e}get retryFunc(){return this.#g||null}set retryFunc(e){this.#g=e}get getUrlFunc(){return this.#h||Cp}set getUrlFunc(e){this.#h=e}constructor(e){this.#o=String(e),this.#e=!1,this.#t=!0,this.#r={},this.#n="",this.#s=3e5,this.#u={slotInterval:A5,maxAttempts:E5},this.#h=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#i?V(this.#i):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(this.#u.slotInterval=e.slotInterval),e.maxAttempts!=null&&(this.#u.maxAttempts=e.maxAttempts)}async#d(e,t,n,s,i){if(e>=this.#u.maxAttempts)return i.makeServerError("exceeded maximum retry limit");$(Rp()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),n>0&&await S5(n);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in fc){const u=await fc[a](o.url,hc(s.#c));if(u instanceof mn){let f=u;if(this.processFunc){hc(s.#c);try{f=await this.processFunc(o,f)}catch(d){(d.throttle==null||typeof d.stall!="number")&&f.makeServerError("error in post-processing function",d).assertOk()}}return f}o=u}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,hc(s.#c));let l=new mn(c.statusCode,c.statusMessage,c.headers,c.body,s);if(l.statusCode===301||l.statusCode===302){try{const u=l.headers.location||"";return o.redirect(u).#d(e+1,t,0,s,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,e))){const u=l.headers["retry-after"];let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof u=="string"&&u.match(/^[1-9][0-9]*$/)&&(f=parseInt(u)),o.clone().#d(e+1,t,f,s,l)}if(this.processFunc){hc(s.#c);try{l=await this.processFunc(o,l)}catch(u){(u.throttle==null||typeof u.stall!="number")&&l.makeServerError("error in post-processing function",u).assertOk();let f=this.#u.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return u.stall>=0&&(f=u.stall),o.clone().#d(e+1,t,f,s,l)}}return l}send(){return $(this.#c==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#c=new Np(this),this.#d(0,Rp()+this.timeout,0,this,new mn(0,"",{},null,this))}cancel(){$(this.#c!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Pp.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),n=e.split(":")[0].toLowerCase();$(this.method==="GET"&&(t!=="https"||n!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new dt(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,s.#r=Object.assign({},this.#r),this.#i&&(s.#i=new Uint8Array(this.#i)),s.#a=this.#a,s}clone(){const e=new dt(this.url);return e.#n=this.#n,this.#i&&(e.#i=this.#i),e.#a=this.#a,e.#r=Object.assign({},this.#r),e.#f=this.#f,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#l=this.#l,e.#p=this.#p,e.#g=this.#g,e.#u=Object.assign({},this.#u),e.#h=this.#h,e}static lockConfig(){yu=!0}static getGateway(e){return fc[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(yu)throw new Error("gateways locked");fc[e]=t}static registerGetUrl(e){if(yu)throw new Error("gateways locked");Cp=e}static createGetUrlFunc(e){return Ip(e)}static createDataGateway(){return Sp}static createIpfsGatewayFunc(e){return Op(e)}}class mn{#e;#t;#r;#n;#s;#o;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#n?V(this.#n):"null"}>`}get statusCode(){return this.#e}get statusMessage(){return this.#t}get headers(){return Object.assign({},this.#r)}get body(){return this.#n==null?null:new Uint8Array(this.#n)}get bodyText(){try{return this.#n==null?"":jn(this.#n)}catch{$(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{$(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let n=0;return{next:()=>{if(n<t.length){const s=t[n++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,n,s,i){this.#e=e,this.#t=t,this.#r=Object.keys(n).reduce((o,a)=>(o[a.toLowerCase()]=String(n[a]),o),{}),this.#n=s==null?null:new Uint8Array(s),this.#s=i||null,this.#o={message:""}}makeServerError(e,t){let n;e?n=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,n=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new mn(599,n,this.headers,this.body,this.#s||void 0);return s.#o={message:e,error:t},s}throwThrottleError(e,t){t==null?t=-1:N(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const n=new Error(e||"throttling requests");throw Z(n,{stall:t,throttle:!0}),n}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return this.#n!=null}get request(){return this.#s}ok(){return this.#o.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#o;e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let n=null;this.request&&(n=this.request.url);let s=null;try{this.#n&&(s=jn(this.#n))}catch{}$(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:n,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function Rp(){return new Date().getTime()}function C5(r){return ht(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function S5(r){return new Promise(e=>setTimeout(e,r))}const O5=BigInt(-1),kr=BigInt(0),_i=BigInt(1),P5=BigInt(5),Ii={};let Ci="0000";for(;Ci.length<80;)Ci+=Ci;function Cs(r){let e=Ci;for(;e.length<r;)e+=e;return BigInt("1"+e.substring(0,r))}function Oo(r,e,t){const n=BigInt(e.width);if(e.signed){const s=_i<<n-_i;$(t==null||r>=-s&&r<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r>kr?r=Co(Hn(r,n),n):r=-Co(Hn(-r,n),n)}else{const s=_i<<n;$(t==null||r>=0&&r<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:r}),r=(r%s+s)%s&s-_i}return r}function vu(r){typeof r=="number"&&(r=`fixed128x${r}`);let e=!0,t=128,n=18;if(typeof r=="string"){if(r!=="fixed")if(r==="ufixed")e=!1;else{const i=r.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);N(i,"invalid fixed format","format",r),e=i[1]!=="u",t=parseInt(i[2]),n=parseInt(i[3])}}else if(r){const i=r,o=(a,c,l)=>i[a]==null?l:(N(typeof i[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),t=o("width","number",t),n=o("decimals","number",n)}N(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),N(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);const s=(e?"":"u")+"fixed"+String(t)+"x"+String(n);return{signed:e,width:t,decimals:n,name:s}}function N5(r,e){let t="";r<kr&&(t="-",r*=O5);let n=r.toString();if(e===0)return t+n;for(;n.length<=e;)n=Ci+n;const s=n.length-e;for(n=n.substring(0,s)+"."+n.substring(s);n[0]==="0"&&n[1]!==".";)n=n.substring(1);for(;n[n.length-1]==="0"&&n[n.length-2]!==".";)n=n.substring(0,n.length-1);return t+n}class Wr{format;#e;#t;#r;_value;constructor(e,t,n){gn(e,Ii,"FixedNumber"),this.#t=t,this.#e=n;const s=N5(t,n.decimals);Z(this,{format:n.name,_value:s}),this.#r=Cs(n.decimals)}get signed(){return this.#e.signed}get width(){return this.#e.width}get decimals(){return this.#e.decimals}get value(){return this.#t}#n(e){N(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#s(e,t){return e=Oo(e,this.#e,t),new Wr(Ii,e,this.#e)}#o(e,t){return this.#n(e),this.#s(this.#t+e.#t,t)}addUnsafe(e){return this.#o(e)}add(e){return this.#o(e,"add")}#i(e,t){return this.#n(e),this.#s(this.#t-e.#t,t)}subUnsafe(e){return this.#i(e)}sub(e){return this.#i(e,"sub")}#a(e,t){return this.#n(e),this.#s(this.#t*e.#t/this.#r,t)}mulUnsafe(e){return this.#a(e)}mul(e){return this.#a(e,"mul")}mulSignal(e){this.#n(e);const t=this.#t*e.#t;return $(t%this.#r===kr,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#s(t/this.#r,"mulSignal")}#f(e,t){return $(e.#t!==kr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(e),this.#s(this.#t*this.#r/e.#t,t)}divUnsafe(e){return this.#f(e)}div(e){return this.#f(e,"div")}divSignal(e){$(e.#t!==kr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#n(e);const t=this.#t*this.#r;return $(t%e.#t===kr,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#s(t/e.#t,"divSignal")}cmp(e){let t=this.value,n=e.value;const s=this.decimals-e.decimals;return s>0?n*=Cs(s):s<0&&(t*=Cs(-s)),t<n?-1:t>n?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#t;return this.#t<kr&&(e-=this.#r-_i),e=this.#t/this.#r*this.#r,this.#s(e,"floor")}ceiling(){let e=this.#t;return this.#t>kr&&(e+=this.#r-_i),e=this.#t/this.#r*this.#r,this.#s(e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,n=P5*Cs(t-1);let s=this.value+n;const i=Cs(t);return s=s/i*i,Oo(s,this.#e,"round"),new Wr(Ii,s,this.#e)}isZero(){return this.#t===kr}isNegative(){return this.#t<kr}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Wr.fromString(this.toString(),e)}static fromValue(e,t,n){const s=t==null?0:ae(t),i=vu(n);let o=Y(e,"value");const a=s-i.decimals;if(a>0){const c=Cs(a);$(o%c===kr,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=Cs(-a));return Oo(o,i,"fromValue"),new Wr(Ii,o,i)}static fromString(e,t){const n=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);N(n&&n[2].length+n[3].length>0,"invalid FixedNumber string value","value",e);const s=vu(t);let i=n[2]||"0",o=n[3]||"";for(;o.length<s.decimals;)o+=Ci;$(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);const a=BigInt(n[1]+i+o);return Oo(a,s,"fromString"),new Wr(Ii,a,s)}static fromBytes(e,t){let n=Ai(q(e,"value"));const s=vu(t);return s.signed&&(n=Co(n,s.width)),Oo(n,s,"fromBytes"),new Wr(Ii,n,s)}}function R5(r){let e=r.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function Dp(r,e,t){let n=0;for(let s=0;s<t;s++)n=n*256+r[e+s];return n}function Tp(r,e,t,n){const s=[];for(;t<e+1+n;){const i=Bp(r,t);s.push(i.result),t+=i.consumed,$(t<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:r,length:n,offset:e})}return{consumed:1+n,result:s}}function Bp(r,e){$(r.length!==0,"data too short","BUFFER_OVERRUN",{buffer:r,length:0,offset:1});const t=n=>{$(n<=r.length,"data short segment too short","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n})};if(r[e]>=248){const n=r[e]-247;t(e+1+n);const s=Dp(r,e+1,n);return t(e+1+n+s),Tp(r,e,e+1+n,n+s)}else if(r[e]>=192){const n=r[e]-192;return t(e+1+n),Tp(r,e,e+1,n)}else if(r[e]>=184){const n=r[e]-183;t(e+1+n);const s=Dp(r,e+1,n);t(e+1+n+s);const i=V(r.slice(e+1+n,e+1+n+s));return{consumed:1+n+s,result:i}}else if(r[e]>=128){const n=r[e]-128;t(e+1+n);const s=V(r.slice(e+1,e+1+n));return{consumed:1+n,result:s}}return{consumed:1,result:R5(r[e])}}function Si(r){const e=q(r,"data"),t=Bp(e,0);return N(t.consumed===e.length,"unexpected junk after rlp payload","data",r),t.result}function Up(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function kp(r){if(Array.isArray(r)){let n=[];if(r.forEach(function(i){n=n.concat(kp(i))}),n.length<=55)return n.unshift(192+n.length),n;const s=Up(n.length);return s.unshift(247+s.length),s.concat(n)}const e=Array.prototype.slice.call(q(r,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=Up(e.length);return t.unshift(183+t.length),t.concat(e)}const Lp="0123456789abcdef";function qr(r){let e="0x";for(const t of kp(r))e+=Lp[t>>4],e+=Lp[t&15];return e}const $p=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Mp(r,e){let t=18;if(typeof e=="string"){const n=$p.indexOf(e);N(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=ae(e,"unit"));return Wr.fromValue(r,t,{decimals:t,width:512}).toString()}function Fp(r,e){N(typeof r=="string","value must be a string","value",r);let t=18;if(typeof e=="string"){const n=$p.indexOf(e);N(n>=0,"invalid unit","unit",e),t=3*n}else e!=null&&(t=ae(e,"unit"));return Wr.fromString(r,{decimals:t,width:512}).value}function D5(r){return Mp(r,18)}function T5(r){return Fp(r,18)}function Hp(r){const e=q(r,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=V(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const Gt=32,Eu=new Uint8Array(Gt),B5=["then"],dc={},jp=new WeakMap;function Ss(r){return jp.get(r)}function zp(r,e){jp.set(r,e)}function Po(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);throw t.error=e,t}function Au(r,e,t){return r.indexOf(null)>=0?e.map((n,s)=>n instanceof Qr?Au(Ss(n),n,t):n):r.reduce((n,s,i)=>{let o=e.getValue(s);return s in n||(t&&o instanceof Qr&&(o=Au(Ss(o),o,t)),n[s]=o),n},{})}class Qr extends Array{#e;constructor(...e){const t=e[0];let n=e[1],s=(e[2]||[]).slice(),i=!0;t!==dc&&(n=e,s=[],i=!1),super(n.length),n.forEach((c,l)=>{this[l]=c});const o=s.reduce((c,l)=>(typeof l=="string"&&c.set(l,(c.get(l)||0)+1),c),new Map);if(zp(this,Object.freeze(n.map((c,l)=>{const u=s[l];return u!=null&&o.get(u)===1?u:null}))),this.#e=[],this.#e==null&&this.#e,!i)return;Object.freeze(this);const a=new Proxy(this,{get:(c,l,u)=>{if(typeof l=="string"){if(l.match(/^[0-9]+$/)){const d=ae(l,"%index");if(d<0||d>=this.length)throw new RangeError("out of result range");const p=c[d];return p instanceof Error&&Po(`index ${d}`,p),p}if(B5.indexOf(l)>=0)return Reflect.get(c,l,u);const f=c[l];if(f instanceof Function)return function(...d){return f.apply(this===u?c:this,d)};if(!(l in c))return c.getValue.apply(this===u?c:this,[l])}return Reflect.get(c,l,u)}});return zp(a,Ss(this)),a}toArray(e){const t=[];return this.forEach((n,s)=>{n instanceof Error&&Po(`index ${s}`,n),e&&n instanceof Qr&&(n=n.toArray(e)),t.push(n)}),t}toObject(e){const t=Ss(this);return t.reduce((n,s,i)=>($(s!=null,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),Au(t,this,e)),{})}slice(e,t){e==null&&(e=0),e<0&&(e+=this.length,e<0&&(e=0)),t==null&&(t=this.length),t<0&&(t+=this.length,t<0&&(t=0)),t>this.length&&(t=this.length);const n=Ss(this),s=[],i=[];for(let o=e;o<t;o++)s.push(this[o]),i.push(n[o]);return new Qr(dc,s,i)}filter(e,t){const n=Ss(this),s=[],i=[];for(let o=0;o<this.length;o++){const a=this[o];a instanceof Error&&Po(`index ${o}`,a),e.call(t,a,o,this)&&(s.push(a),i.push(n[o]))}return new Qr(dc,s,i)}map(e,t){const n=[];for(let s=0;s<this.length;s++){const i=this[s];i instanceof Error&&Po(`index ${s}`,i),n.push(e.call(t,i,s,this))}return n}getValue(e){const t=Ss(this).indexOf(e);if(t===-1)return;const n=this[t];return n instanceof Error&&Po(`property ${JSON.stringify(e)}`,n.error),n}static fromItems(e,t){return new Qr(dc,e,t)}}function U5(r){const e=[],t=function(n,s){if(Array.isArray(s))for(let i in s){const o=n.slice();o.push(i);try{t(o,s[i])}catch(a){e.push({path:o,error:a})}}};return t([],r),e}function Vp(r){let e=Me(r);return $(e.length<=Gt,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Gt,offset:e.length}),e.length!==Gt&&(e=vt(ye([Eu.slice(e.length%Gt),e]))),e}class bn{name;type;localName;dynamic;constructor(e,t,n,s){Z(this,{name:e,type:t,localName:n,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){N(!1,e,this.localName,t)}}class _u{#e;#t;constructor(){this.#e=[],this.#t=0}get data(){return ye(this.#e)}get length(){return this.#t}#r(e){return this.#e.push(e),this.#t+=e.length,e.length}appendWriter(e){return this.#r(vt(e.data))}writeBytes(e){let t=vt(e);const n=t.length%Gt;return n&&(t=vt(ye([t,Eu.slice(n)]))),this.#r(t)}writeValue(e){return this.#r(Vp(e))}writeUpdatableValue(){const e=this.#e.length;return this.#e.push(Eu),this.#t+=Gt,t=>{this.#e[e]=Vp(t)}}}class Iu{allowLoose;#e;#t;#r;#n;#s;constructor(e,t,n){Z(this,{allowLoose:!!t}),this.#e=vt(e),this.#r=0,this.#n=null,this.#s=n??1024,this.#t=0}get data(){return V(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#t}get bytes(){return new Uint8Array(this.#e)}#o(e){if(this.#n)return this.#n.#o(e);this.#r+=e,$(this.#s<1||this.#r<=this.#s*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#s} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:vt(this.#e),offset:this.#t,length:e,info:{bytesRead:this.#r,dataLength:this.dataLength}})}#i(e,t,n){let s=Math.ceil(t/Gt)*Gt;return this.#t+s>this.#e.length&&(this.allowLoose&&n&&this.#t+t<=this.#e.length?s=t:$(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:vt(this.#e),length:this.#e.length,offset:this.#t+s})),this.#e.slice(this.#t,this.#t+s)}subReader(e){const t=new Iu(this.#e.slice(this.#t+e),this.allowLoose,this.#s);return t.#n=this,t}readBytes(e,t){let n=this.#i(0,e,!!t);return this.#o(e),this.#t+=n.length,n.slice(0,e)}readValue(){return Ai(this.readBytes(Gt))}readIndex(){return xp(this.readBytes(Gt))}}function hr(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Cu(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function Gp(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hr(r.outputLen),hr(r.blockLen)}function Oi(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Kp(r,e){Cu(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const k5=r=>r instanceof Uint8Array,pc=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),gc=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Jr=(r,e)=>r<<32-e|r>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");const L5=async()=>{};async function Wp(r,e,t){let n=Date.now();for(let s=0;s<r;s++){t(s);const i=Date.now()-n;i>=0&&i<e||(await L5(),n+=i)}}function $5(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Pi(r){if(typeof r=="string"&&(r=$5(r)),!k5(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}let Su=class{clone(){return this._cloneInto()}};const M5={}.toString;function qp(r,e){if(e!==void 0&&M5.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,e)}function mc(r){const e=n=>r().update(Pi(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}let Qp=class extends Su{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Gp(e);const n=Pi(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Oi(this),this.iHash.update(e),this}digestInto(e){Oi(this),Cu(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Ou=(r,e,t)=>new Qp(r,e).update(t).digest();Ou.create=(r,e)=>new Qp(r,e);function F5(r,e,t,n){Gp(r);const s=qp({dkLen:32,asyncTick:10},n),{c:i,dkLen:o,asyncTick:a}=s;if(hr(i),hr(o),hr(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=Pi(e),l=Pi(t),u=new Uint8Array(o),f=Ou.create(r,c),d=f._cloneInto().update(l);return{c:i,dkLen:o,asyncTick:a,DK:u,PRF:f,PRFSalt:d}}function H5(r,e,t,n,s){return r.destroy(),e.destroy(),n&&n.destroy(),s.fill(0),t}function Pu(r,e,t,n){const{c:s,dkLen:i,DK:o,PRF:a,PRFSalt:c}=F5(r,e,t,n);let l;const u=new Uint8Array(4),f=gc(u),d=new Uint8Array(a.outputLen);for(let p=1,m=0;m<i;p++,m+=a.outputLen){const b=o.subarray(m,m+a.outputLen);f.setInt32(0,p,!1),(l=c._cloneInto(l)).update(u).digestInto(d),b.set(d.subarray(0,b.length));for(let I=1;I<s;I++){a._cloneInto(l).update(d).digestInto(d);for(let _=0;_<b.length;_++)b[_]^=d[_]}}return H5(a,c,o,l,d)}function j5(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=n?4:0,l=n?0:4;r.setUint32(e+c,o,n),r.setUint32(e+l,a,n)}let Nu=class extends Su{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gc(this.buffer)}update(e){Oi(this);const{view:t,buffer:n,blockLen:s}=this;e=Pi(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=gc(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Oi(this),Kp(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)t[f]=0;j5(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=gc(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(n),e}};const z5=(r,e,t)=>r&e^~r&t,V5=(r,e,t)=>r&e^r&t^e&t,G5=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vn=new Uint32Array(64);let K5=class extends Nu{constructor(){super(64,32,8,!1),this.A=zn[0]|0,this.B=zn[1]|0,this.C=zn[2]|0,this.D=zn[3]|0,this.E=zn[4]|0,this.F=zn[5]|0,this.G=zn[6]|0,this.H=zn[7]|0}get(){const{A:e,B:t,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,n,s,i,o,a,c]}set(e,t,n,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let f=0;f<16;f++,t+=4)Vn[f]=e.getUint32(t,!1);for(let f=16;f<64;f++){const d=Vn[f-15],p=Vn[f-2],m=Jr(d,7)^Jr(d,18)^d>>>3,b=Jr(p,17)^Jr(p,19)^p>>>10;Vn[f]=b+Vn[f-7]+m+Vn[f-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=Jr(a,6)^Jr(a,11)^Jr(a,25),p=u+d+z5(a,c,l)+G5[f]+Vn[f]|0,b=(Jr(n,2)^Jr(n,13)^Jr(n,22))+V5(n,s,i)|0;u=l,l=c,c=a,a=o+p|0,o=i,i=s,s=n,n=p+b|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,o,a,c,l,u)}roundClean(){Vn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const No=mc(()=>new K5),bc=BigInt(2**32-1),Ru=BigInt(32);function Jp(r,e=!1){return e?{h:Number(r&bc),l:Number(r>>Ru&bc)}:{h:Number(r>>Ru&bc)|0,l:Number(r&bc)|0}}function Zp(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){const{h:i,l:o}=Jp(r[s],e);[t[s],n[s]]=[i,o]}return[t,n]}const W5=(r,e)=>BigInt(r>>>0)<<Ru|BigInt(e>>>0),q5=(r,e,t)=>r>>>t,Q5=(r,e,t)=>r<<32-t|e>>>t,J5=(r,e,t)=>r>>>t|e<<32-t,Z5=(r,e,t)=>r<<32-t|e>>>t,Y5=(r,e,t)=>r<<64-t|e>>>t-32,X5=(r,e,t)=>r>>>t-32|e<<64-t,e4=(r,e)=>e,t4=(r,e)=>r,Yp=(r,e,t)=>r<<t|e>>>32-t,Xp=(r,e,t)=>e<<t|r>>>32-t,eg=(r,e,t)=>e<<t-32|r>>>64-t,tg=(r,e,t)=>r<<t-32|e>>>64-t;function r4(r,e,t,n){const s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}const pe={fromBig:Jp,split:Zp,toBig:W5,shrSH:q5,shrSL:Q5,rotrSH:J5,rotrSL:Z5,rotrBH:Y5,rotrBL:X5,rotr32H:e4,rotr32L:t4,rotlSH:Yp,rotlSL:Xp,rotlBH:eg,rotlBL:tg,add:r4,add3L:(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),add3H:(r,e,t,n)=>e+t+n+(r/2**32|0)|0,add4L:(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),add4H:(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0,add5H:(r,e,t,n,s,i)=>e+t+n+s+i+(r/2**32|0)|0,add5L:(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0)},[n4,s4]=pe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),Gn=new Uint32Array(80),Kn=new Uint32Array(80);class i4 extends Nu{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:p,Gl:m,Hh:b,Hl:I}=this;return[e,t,n,s,i,o,a,c,l,u,f,d,p,m,b,I]}set(e,t,n,s,i,o,a,c,l,u,f,d,p,m,b,I){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=m|0,this.Hh=b|0,this.Hl=I|0}process(e,t){for(let v=0;v<16;v++,t+=4)Gn[v]=e.getUint32(t),Kn[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const w=Gn[v-15]|0,y=Kn[v-15]|0,g=pe.rotrSH(w,y,1)^pe.rotrSH(w,y,8)^pe.shrSH(w,y,7),h=pe.rotrSL(w,y,1)^pe.rotrSL(w,y,8)^pe.shrSL(w,y,7),x=Gn[v-2]|0,S=Kn[v-2]|0,P=pe.rotrSH(x,S,19)^pe.rotrBH(x,S,61)^pe.shrSH(x,S,6),D=pe.rotrSL(x,S,19)^pe.rotrBL(x,S,61)^pe.shrSL(x,S,6),B=pe.add4L(h,D,Kn[v-7],Kn[v-16]),L=pe.add4H(B,g,P,Gn[v-7],Gn[v-16]);Gn[v]=L|0,Kn[v]=B|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:p,Fl:m,Gh:b,Gl:I,Hh:_,Hl:A}=this;for(let v=0;v<80;v++){const w=pe.rotrSH(f,d,14)^pe.rotrSH(f,d,18)^pe.rotrBH(f,d,41),y=pe.rotrSL(f,d,14)^pe.rotrSL(f,d,18)^pe.rotrBL(f,d,41),g=f&p^~f&b,h=d&m^~d&I,x=pe.add5L(A,y,h,s4[v],Kn[v]),S=pe.add5H(x,_,w,g,n4[v],Gn[v]),P=x|0,D=pe.rotrSH(n,s,28)^pe.rotrBH(n,s,34)^pe.rotrBH(n,s,39),B=pe.rotrSL(n,s,28)^pe.rotrBL(n,s,34)^pe.rotrBL(n,s,39),L=n&i^n&a^i&a,U=s&o^s&c^o&c;_=b|0,A=I|0,b=p|0,I=m|0,p=f|0,m=d|0,{h:f,l:d}=pe.add(l|0,u|0,S|0,P|0),l=a|0,u=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const C=pe.add3L(P,B,U);n=pe.add3H(C,S,D,L),s=C|0}({h:n,l:s}=pe.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=pe.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=pe.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=pe.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=pe.add(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:m}=pe.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:b,l:I}=pe.add(this.Gh|0,this.Gl|0,b|0,I|0),{h:_,l:A}=pe.add(this.Hh|0,this.Hl|0,_|0,A|0),this.set(n,s,i,o,a,c,l,u,f,d,p,m,b,I,_,A)}roundClean(){Gn.fill(0),Kn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Du=mc(()=>new i4);function o4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const rg=o4(),ng=rg.crypto||rg.msCrypto;function sg(r){switch(r){case"sha256":return No.create();case"sha512":return Du.create()}N(!1,"invalid hashing algorithm name","algorithm",r)}function a4(r,e){const t={sha256:No,sha512:Du}[r];return N(t!=null,"invalid hmac algorithm","algorithm",r),Ou.create(t,e)}function c4(r,e,t,n,s){const i={sha256:No,sha512:Du}[s];return N(i!=null,"invalid pbkdf2 algorithm","algorithm",s),Pu(i,r,e,{c:t,dkLen:n})}function l4(r){$(ng!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),N(Number.isInteger(r)&&r>0&&r<=1024,"invalid length","length",r);const e=new Uint8Array(r);return ng.getRandomValues(e),e}let ig=!1;const og=function(r,e,t){return a4(r,e).update(t).digest()};let ag=og;function Wn(r,e,t){const n=q(e,"key"),s=q(t,"data");return V(ag(r,n,s))}Wn._=og,Wn.lock=function(){ig=!0},Wn.register=function(r){if(ig)throw new Error("computeHmac is locked");ag=r},Object.freeze(Wn);const[cg,lg,ug]=[[],[],[]],u4=BigInt(0),Ro=BigInt(1),f4=BigInt(2),h4=BigInt(7),d4=BigInt(256),p4=BigInt(113);for(let r=0,e=Ro,t=1,n=0;r<24;r++){[t,n]=[n,(2*t+3*n)%5],cg.push(2*(5*n+t)),lg.push((r+1)*(r+2)/2%64);let s=u4;for(let i=0;i<7;i++)e=(e<<Ro^(e>>h4)*p4)%d4,e&f4&&(s^=Ro<<(Ro<<BigInt(i))-Ro);ug.push(s)}const[g4,m4]=Zp(ug,!0),fg=(r,e,t)=>t>32?eg(r,e,t):Yp(r,e,t),hg=(r,e,t)=>t>32?tg(r,e,t):Xp(r,e,t);function b4(r,e=24){const t=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=t[c],u=t[c+1],f=fg(l,u,1)^t[a],d=hg(l,u,1)^t[a+1];for(let p=0;p<50;p+=10)r[o+p]^=f,r[o+p+1]^=d}let s=r[2],i=r[3];for(let o=0;o<24;o++){const a=lg[o],c=fg(s,i,a),l=hg(s,i,a),u=cg[o];s=r[u],i=r[u+1],r[u]=c,r[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=g4[n],r[1]^=m4[n]}t.fill(0)}class Tu extends Su{constructor(e,t,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,hr(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=pc(this.state)}keccak(){b4(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Oi(this);const{blockLen:t,state:n}=this;e=Pi(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:s}=this;e[n]^=t,(t&128)!==0&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Oi(this,!1),Cu(e),this.finish();const t=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hr(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Kp(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Tu(t,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const x4=((r,e,t)=>mc(()=>new Tu(e,r,t)))(1,136,256/8);let dg=!1;const pg=function(r){return x4(r)};let gg=pg;function Re(r){const e=q(r,"data");return V(gg(e))}Re._=pg,Re.lock=function(){dg=!0},Re.register=function(r){if(dg)throw new TypeError("keccak256 is locked");gg=r},Object.freeze(Re);const w4=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),mg=Uint8Array.from({length:16},(r,e)=>e),y4=mg.map(r=>(9*r+5)%16);let Bu=[mg],Uu=[y4];for(let r=0;r<4;r++)for(let e of[Bu,Uu])e.push(e[r].map(t=>w4[t]));const bg=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),v4=Bu.map((r,e)=>r.map(t=>bg[e][t])),E4=Uu.map((r,e)=>r.map(t=>bg[e][t])),A4=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),_4=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),xc=(r,e)=>r<<e|r>>>32-e;function xg(r,e,t,n){return r===0?e^t^n:r===1?e&t|~e&n:r===2?(e|~t)^n:r===3?e&n|t&~n:e^(t|~n)}const wc=new Uint32Array(16);class I4 extends Nu{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:n,h3:s,h4:i}=this;return[e,t,n,s,i]}set(e,t,n,s,i){this.h0=e|0,this.h1=t|0,this.h2=n|0,this.h3=s|0,this.h4=i|0}process(e,t){for(let p=0;p<16;p++,t+=4)wc[p]=e.getUint32(t,!0);let n=this.h0|0,s=n,i=this.h1|0,o=i,a=this.h2|0,c=a,l=this.h3|0,u=l,f=this.h4|0,d=f;for(let p=0;p<5;p++){const m=4-p,b=A4[p],I=_4[p],_=Bu[p],A=Uu[p],v=v4[p],w=E4[p];for(let y=0;y<16;y++){const g=xc(n+xg(p,i,a,l)+wc[_[y]]+b,v[y])+f|0;n=f,f=l,l=xc(a,10)|0,a=i,i=g}for(let y=0;y<16;y++){const g=xc(s+xg(m,o,c,u)+wc[A[y]]+I,w[y])+d|0;s=d,d=u,u=xc(c,10)|0,c=o,o=g}}this.set(this.h1+a+u|0,this.h2+l+d|0,this.h3+f+s|0,this.h4+n+o|0,this.h0+i+c|0)}roundClean(){wc.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const C4=mc(()=>new I4);let wg=!1;const yg=function(r){return C4(r)};let vg=yg;function qn(r){const e=q(r,"data");return V(vg(e))}qn._=yg,qn.lock=function(){wg=!0},qn.register=function(r){if(wg)throw new TypeError("ripemd160 is locked");vg=r},Object.freeze(qn);let Eg=!1;const Ag=function(r,e,t,n,s){return c4(r,e,t,n,s)};let _g=Ag;function Zr(r,e,t,n,s){const i=q(r,"password"),o=q(e,"salt");return V(_g(i,o,t,n,s))}Zr._=Ag,Zr.lock=function(){Eg=!0},Zr.register=function(r){if(Eg)throw new Error("pbkdf2 is locked");_g=r},Object.freeze(Zr);let Ig=!1;const Cg=function(r){return new Uint8Array(l4(r))};let Sg=Cg;function yr(r){return Sg(r)}yr._=Cg,yr.lock=function(){Ig=!0},yr.register=function(r){if(Ig)throw new Error("randomBytes is locked");Sg=r},Object.freeze(yr);const Ie=(r,e)=>r<<e|r>>>32-e;function Og(r,e,t,n,s,i){let o=r[e++]^t[n++],a=r[e++]^t[n++],c=r[e++]^t[n++],l=r[e++]^t[n++],u=r[e++]^t[n++],f=r[e++]^t[n++],d=r[e++]^t[n++],p=r[e++]^t[n++],m=r[e++]^t[n++],b=r[e++]^t[n++],I=r[e++]^t[n++],_=r[e++]^t[n++],A=r[e++]^t[n++],v=r[e++]^t[n++],w=r[e++]^t[n++],y=r[e++]^t[n++],g=o,h=a,x=c,S=l,P=u,D=f,B=d,L=p,U=m,C=b,E=I,R=_,k=A,H=v,M=w,K=y;for(let W=0;W<8;W+=2)P^=Ie(g+k|0,7),U^=Ie(P+g|0,9),k^=Ie(U+P|0,13),g^=Ie(k+U|0,18),C^=Ie(D+h|0,7),H^=Ie(C+D|0,9),h^=Ie(H+C|0,13),D^=Ie(h+H|0,18),M^=Ie(E+B|0,7),x^=Ie(M+E|0,9),B^=Ie(x+M|0,13),E^=Ie(B+x|0,18),S^=Ie(K+R|0,7),L^=Ie(S+K|0,9),R^=Ie(L+S|0,13),K^=Ie(R+L|0,18),h^=Ie(g+S|0,7),x^=Ie(h+g|0,9),S^=Ie(x+h|0,13),g^=Ie(S+x|0,18),B^=Ie(D+P|0,7),L^=Ie(B+D|0,9),P^=Ie(L+B|0,13),D^=Ie(P+L|0,18),R^=Ie(E+C|0,7),U^=Ie(R+E|0,9),C^=Ie(U+R|0,13),E^=Ie(C+U|0,18),k^=Ie(K+M|0,7),H^=Ie(k+K|0,9),M^=Ie(H+k|0,13),K^=Ie(M+H|0,18);s[i++]=o+g|0,s[i++]=a+h|0,s[i++]=c+x|0,s[i++]=l+S|0,s[i++]=u+P|0,s[i++]=f+D|0,s[i++]=d+B|0,s[i++]=p+L|0,s[i++]=m+U|0,s[i++]=b+C|0,s[i++]=I+E|0,s[i++]=_+R|0,s[i++]=A+k|0,s[i++]=v+H|0,s[i++]=w+M|0,s[i++]=y+K|0}function Ni(r,e,t,n,s){let i=n+0,o=n+16*s;for(let a=0;a<16;a++)t[o+a]=r[e+(2*s-1)*16+a];for(let a=0;a<s;a++,i+=16,e+=16)Og(t,o,r,e,t,i),a>0&&(o+=16),Og(t,i,r,e+=16,t,o)}function Pg(r,e,t){const n=qp({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:s,r:i,p:o,dkLen:a,asyncTick:c,maxmem:l,onProgress:u}=n;if(hr(s),hr(i),hr(o),hr(a),hr(c),hr(l),u!==void 0&&typeof u!="function")throw new Error("progressCb should be function");const f=128*i,d=f/4;if(s<=1||(s&s-1)!==0||s>=2**(f/8)||s>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/f)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const p=f*(s+o);if(p>l)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${l} (maxmem)`);const m=Pu(No,r,e,{c:1,dkLen:f*o}),b=pc(m),I=pc(new Uint8Array(f*s)),_=pc(new Uint8Array(f));let A=()=>{};if(u){const v=2*s*o,w=Math.max(Math.floor(v/1e4),1);let y=0;A=()=>{y++,u&&(!(y%w)||y===v)&&u(y/v)}}return{N:s,r:i,p:o,dkLen:a,blockSize32:d,V:I,B32:b,B:m,tmp:_,blockMixCb:A,asyncTick:c}}function Ng(r,e,t,n,s){const i=Pu(No,r,t,{c:1,dkLen:e});return t.fill(0),n.fill(0),s.fill(0),i}function S4(r,e,t){const{N:n,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:l,B:u,tmp:f,blockMixCb:d}=Pg(r,e,t);for(let p=0;p<i;p++){const m=a*p;for(let b=0;b<a;b++)c[b]=l[m+b];for(let b=0,I=0;b<n-1;b++)Ni(c,I,c,I+=a,s),d();Ni(c,(n-1)*a,l,m,s),d();for(let b=0;b<n;b++){const I=l[m+a-16]%n;for(let _=0;_<a;_++)f[_]=l[m+_]^c[I*a+_];Ni(f,0,l,m,s),d()}}return Ng(r,o,u,c,f)}async function O4(r,e,t){const{N:n,r:s,p:i,dkLen:o,blockSize32:a,V:c,B32:l,B:u,tmp:f,blockMixCb:d,asyncTick:p}=Pg(r,e,t);for(let m=0;m<i;m++){const b=a*m;for(let _=0;_<a;_++)c[_]=l[b+_];let I=0;await Wp(n-1,p,()=>{Ni(c,I,c,I+=a,s),d()}),Ni(c,(n-1)*a,l,b,s),d(),await Wp(n,p,()=>{const _=l[b+a-16]%n;for(let A=0;A<a;A++)f[A]=l[b+A]^c[_*a+A];Ni(f,0,l,b,s),d()})}return Ng(r,o,u,c,f)}let Rg=!1,Dg=!1;const Tg=async function(r,e,t,n,s,i,o){return await O4(r,e,{N:t,r:n,p:s,dkLen:i,onProgress:o})},Bg=function(r,e,t,n,s,i){return S4(r,e,{N:t,r:n,p:s,dkLen:i})};let Ug=Tg,kg=Bg;async function Qn(r,e,t,n,s,i,o){const a=q(r,"passwd"),c=q(e,"salt");return V(await Ug(a,c,t,n,s,i,o))}Qn._=Tg,Qn.lock=function(){Dg=!0},Qn.register=function(r){if(Dg)throw new Error("scrypt is locked");Ug=r},Object.freeze(Qn);function Jn(r,e,t,n,s,i){const o=q(r,"passwd"),a=q(e,"salt");return V(kg(o,a,t,n,s,i))}Jn._=Bg,Jn.lock=function(){Rg=!0},Jn.register=function(r){if(Rg)throw new Error("scryptSync is locked");kg=r},Object.freeze(Jn);const Lg=function(r){return sg("sha256").update(r).digest()},$g=function(r){return sg("sha512").update(r).digest()};let Mg=Lg,Fg=$g,Hg=!1,jg=!1;function Kt(r){const e=q(r,"data");return V(Mg(e))}Kt._=Lg,Kt.lock=function(){Hg=!0},Kt.register=function(r){if(Hg)throw new Error("sha256 is locked");Mg=r},Object.freeze(Kt);function Do(r){const e=q(r,"data");return V(Fg(e))}Do._=$g,Do.lock=function(){jg=!0},Do.register=function(r){if(jg)throw new Error("sha512 is locked");Fg=r},Object.freeze(Kt);function zg(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Vg(r,...e){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(r.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${r.length}`)}function P4(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");zg(r.outputLen),zg(r.blockLen)}function yc(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function N4(r,e){Vg(r);const t=e.outputLen;if(r.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const ku=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gg=r=>r instanceof Uint8Array,Lu=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Yr=(r,e)=>r<<32-e|r>>>e;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");function R4(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function $u(r){if(typeof r=="string"&&(r=R4(r)),!Gg(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function D4(...r){const e=new Uint8Array(r.reduce((n,s)=>n+s.length,0));let t=0;return r.forEach(n=>{if(!Gg(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}class Kg{clone(){return this._cloneInto()}}function T4(r){const e=n=>r().update($u(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function B4(r=32){if(ku&&typeof ku.getRandomValues=="function")return ku.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}function U4(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=n?4:0,l=n?0:4;r.setUint32(e+c,o,n),r.setUint32(e+l,a,n)}class k4 extends Kg{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Lu(this.buffer)}update(e){yc(this);const{view:t,buffer:n,blockLen:s}=this;e=$u(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Lu(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){yc(this),N4(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)t[f]=0;U4(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=Lu(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(n),e}}const L4=(r,e,t)=>r&e^~r&t,$4=(r,e,t)=>r&e^r&t^e&t,M4=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yn=new Uint32Array(64);class F4 extends k4{constructor(){super(64,32,8,!1),this.A=Zn[0]|0,this.B=Zn[1]|0,this.C=Zn[2]|0,this.D=Zn[3]|0,this.E=Zn[4]|0,this.F=Zn[5]|0,this.G=Zn[6]|0,this.H=Zn[7]|0}get(){const{A:e,B:t,C:n,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,n,s,i,o,a,c]}set(e,t,n,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=n|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let f=0;f<16;f++,t+=4)Yn[f]=e.getUint32(t,!1);for(let f=16;f<64;f++){const d=Yn[f-15],p=Yn[f-2],m=Yr(d,7)^Yr(d,18)^d>>>3,b=Yr(p,17)^Yr(p,19)^p>>>10;Yn[f]=b+Yn[f-7]+m+Yn[f-16]|0}let{A:n,B:s,C:i,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const d=Yr(a,6)^Yr(a,11)^Yr(a,25),p=u+d+L4(a,c,l)+M4[f]+Yn[f]|0,b=(Yr(n,2)^Yr(n,13)^Yr(n,22))+$4(n,s,i)|0;u=l,l=c,c=a,a=o+p|0,o=i,i=s,s=n,n=p+b|0}n=n+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,i,o,a,c,l,u)}roundClean(){Yn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const H4=T4(()=>new F4);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wg=BigInt(0),vc=BigInt(1),j4=BigInt(2),Ec=r=>r instanceof Uint8Array,z4=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Ri(r){if(!Ec(r))throw new Error("Uint8Array expected");let e="";for(let t=0;t<r.length;t++)e+=z4[r[t]];return e}function qg(r){const e=r.toString(16);return e.length&1?`0${e}`:e}function Mu(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function Di(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let n=0;n<t.length;n++){const s=n*2,i=r.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[n]=o}return t}function Os(r){return Mu(Ri(r))}function Fu(r){if(!Ec(r))throw new Error("Uint8Array expected");return Mu(Ri(Uint8Array.from(r).reverse()))}function Ti(r,e){return Di(r.toString(16).padStart(e*2,"0"))}function Hu(r,e){return Ti(r,e).reverse()}function V4(r){return Di(qg(r))}function Lr(r,e,t){let n;if(typeof e=="string")try{n=Di(e)}catch(i){throw new Error(`${r} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Ec(e))n=Uint8Array.from(e);else throw new Error(`${r} must be hex string or Uint8Array`);const s=n.length;if(typeof t=="number"&&s!==t)throw new Error(`${r} expected ${t} bytes, got ${s}`);return n}function To(...r){const e=new Uint8Array(r.reduce((n,s)=>n+s.length,0));let t=0;return r.forEach(n=>{if(!Ec(n))throw new Error("Uint8Array expected");e.set(n,t),t+=n.length}),e}function G4(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function K4(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function W4(r){let e;for(e=0;r>Wg;r>>=vc,e+=1);return e}function q4(r,e){return r>>BigInt(e)&vc}const Q4=(r,e,t)=>r|(t?vc:Wg)<<BigInt(e),ju=r=>(j4<<BigInt(r-1))-vc,zu=r=>new Uint8Array(r),Qg=r=>Uint8Array.from(r);function Jg(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let n=zu(r),s=zu(r),i=0;const o=()=>{n.fill(1),s.fill(0),i=0},a=(...f)=>t(s,n,...f),c=(f=zu())=>{s=a(Qg([0]),f),n=a(),f.length!==0&&(s=a(Qg([1]),f),n=a())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const d=[];for(;f<e;){n=a();const p=n.slice();d.push(p),f+=n.length}return To(...d)};return(f,d)=>{o(),c(f);let p;for(;!(p=d(l()));)c();return o(),p}}const J4={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Bo(r,e,t={}){const n=(s,i,o)=>{const a=J4[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=r[s];if(!(o&&c===void 0)&&!a(c,r))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(t))n(s,i,!0);return r}const Z4=Object.freeze(Object.defineProperty({__proto__:null,bitGet:q4,bitLen:W4,bitMask:ju,bitSet:Q4,bytesToHex:Ri,bytesToNumberBE:Os,bytesToNumberLE:Fu,concatBytes:To,createHmacDrbg:Jg,ensureBytes:Lr,equalBytes:G4,hexToBytes:Di,hexToNumber:Mu,numberToBytesBE:Ti,numberToBytesLE:Hu,numberToHexUnpadded:qg,numberToVarBytesBE:V4,utf8ToBytes:K4,validateObject:Bo},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Et=BigInt(0),Ye=BigInt(1),Ps=BigInt(2),Y4=BigInt(3),Vu=BigInt(4),Zg=BigInt(5),Yg=BigInt(8);BigInt(9),BigInt(16);function er(r,e){const t=r%e;return t>=Et?t:e+t}function X4(r,e,t){if(t<=Et||e<Et)throw new Error("Expected power/modulo > 0");if(t===Ye)return Et;let n=Ye;for(;e>Et;)e&Ye&&(n=n*r%t),r=r*r%t,e>>=Ye;return n}function vr(r,e,t){let n=r;for(;e-- >Et;)n*=n,n%=t;return n}function Gu(r,e){if(r===Et||e<=Et)throw new Error(`invert: expected positive integers, got n=${r} mod=${e}`);let t=er(r,e),n=e,s=Et,i=Ye;for(;t!==Et;){const a=n/t,c=n%t,l=s-i*a;n=t,t=c,s=i,i=l}if(n!==Ye)throw new Error("invert: does not exist");return er(s,e)}function e8(r){const e=(r-Ye)/Ps;let t,n,s;for(t=r-Ye,n=0;t%Ps===Et;t/=Ps,n++);for(s=Ps;s<r&&X4(s,e,r)!==r-Ye;s++);if(n===1){const o=(r+Ye)/Vu;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const i=(t+Ye)/Ps;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,u=a.pow(a.mul(a.ONE,s),t),f=a.pow(c,i),d=a.pow(c,t);for(;!a.eql(d,a.ONE);){if(a.eql(d,a.ZERO))return a.ZERO;let p=1;for(let b=a.sqr(d);p<l&&!a.eql(b,a.ONE);p++)b=a.sqr(b);const m=a.pow(u,Ye<<BigInt(l-p-1));u=a.sqr(m),f=a.mul(f,m),d=a.mul(d,u),l=p}return f}}function t8(r){if(r%Vu===Y4){const e=(r+Ye)/Vu;return function(n,s){const i=n.pow(s,e);if(!n.eql(n.sqr(i),s))throw new Error("Cannot find square root");return i}}if(r%Yg===Zg){const e=(r-Zg)/Yg;return function(n,s){const i=n.mul(s,Ps),o=n.pow(i,e),a=n.mul(s,o),c=n.mul(n.mul(a,Ps),o),l=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),s))throw new Error("Cannot find square root");return l}}return e8(r)}const r8=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function n8(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=r8.reduce((n,s)=>(n[s]="function",n),e);return Bo(r,t)}function s8(r,e,t){if(t<Et)throw new Error("Expected power > 0");if(t===Et)return r.ONE;if(t===Ye)return e;let n=r.ONE,s=e;for(;t>Et;)t&Ye&&(n=r.mul(n,s)),s=r.sqr(s),t>>=Ye;return n}function i8(r,e){const t=new Array(e.length),n=e.reduce((i,o,a)=>r.is0(o)?i:(t[a]=i,r.mul(i,o)),r.ONE),s=r.inv(n);return e.reduceRight((i,o,a)=>r.is0(o)?i:(t[a]=r.mul(i,t[a]),r.mul(i,o)),s),t}function Xg(r,e){const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function o8(r,e,t=!1,n={}){if(r<=Et)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:s,nByteLength:i}=Xg(r,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=t8(r),a=Object.freeze({ORDER:r,BITS:s,BYTES:i,MASK:ju(s),ZERO:Et,ONE:Ye,create:c=>er(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Et<=c&&c<r},is0:c=>c===Et,isOdd:c=>(c&Ye)===Ye,neg:c=>er(-c,r),eql:(c,l)=>c===l,sqr:c=>er(c*c,r),add:(c,l)=>er(c+l,r),sub:(c,l)=>er(c-l,r),mul:(c,l)=>er(c*l,r),pow:(c,l)=>s8(a,c,l),div:(c,l)=>er(c*Gu(l,r),r),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>Gu(c,r),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>i8(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>t?Hu(c,i):Ti(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Fu(c):Os(c)}});return Object.freeze(a)}function e1(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function t1(r){const e=e1(r);return e+Math.ceil(e/2)}function a8(r,e,t=!1){const n=r.length,s=e1(e),i=t1(e);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const o=t?Os(r):Fu(r),a=er(o,e-Ye)+Ye;return t?Hu(a,s):Ti(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const c8=BigInt(0),Ku=BigInt(1);function l8(r,e){const t=(s,i)=>{const o=i.negate();return s?o:i},n=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:t,unsafeLadder(s,i){let o=r.ZERO,a=s;for(;i>c8;)i&Ku&&(o=o.add(a)),a=a.double(),i>>=Ku;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=n(i),c=[];let l=s,u=l;for(let f=0;f<o;f++){u=l,c.push(u);for(let d=1;d<a;d++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=n(s);let l=r.ZERO,u=r.BASE;const f=BigInt(2**s-1),d=2**s,p=BigInt(s);for(let m=0;m<a;m++){const b=m*c;let I=Number(o&f);o>>=p,I>c&&(I-=d,o+=Ku);const _=b,A=b+Math.abs(I)-1,v=m%2!==0,w=I<0;I===0?u=u.add(t(v,i[_])):l=l.add(t(w,i[A]))}return{p:l,f:u}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let l=i.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&i.set(s,a(l))),this.wNAF(c,l,o)}}}function r1(r){return n8(r.Fp),Bo(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Xg(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function u8(r){const e=r1(r);Bo(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:n,a:s}=e;if(t){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:f8,hexToBytes:h8}=Z4,Ns={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(r){const{Err:e}=Ns;if(r.length<2||r[0]!==2)throw new e("Invalid signature integer tag");const t=r[1],n=r.subarray(2,t+2);if(!t||n.length!==t)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:f8(n),l:r.subarray(t+2)}},toSig(r){const{Err:e}=Ns,t=typeof r=="string"?h8(r):r;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let n=t.length;if(n<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=Ns._parseInt(t.subarray(2)),{d:o,l:a}=Ns._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(r){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,t=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},n=e(t(r.s)),s=e(t(r.r)),i=n.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${n}`}},xn=BigInt(0),Er=BigInt(1);BigInt(2);const n1=BigInt(3);BigInt(4);function d8(r){const e=u8(r),{Fp:t}=e,n=e.toBytes||((m,b,I)=>{const _=b.toAffine();return To(Uint8Array.from([4]),t.toBytes(_.x),t.toBytes(_.y))}),s=e.fromBytes||(m=>{const b=m.subarray(1),I=t.fromBytes(b.subarray(0,t.BYTES)),_=t.fromBytes(b.subarray(t.BYTES,2*t.BYTES));return{x:I,y:_}});function i(m){const{a:b,b:I}=e,_=t.sqr(m),A=t.mul(_,m);return t.add(t.add(A,t.mul(m,b)),I)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&xn<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:b,nByteLength:I,wrapPrivateKey:_,n:A}=e;if(b&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=Ri(m)),typeof m!="string"||!b.includes(m.length))throw new Error("Invalid key");m=m.padStart(I*2,"0")}let v;try{v=typeof m=="bigint"?m:Os(Lr("private key",m,I))}catch{throw new Error(`private key must be ${I} bytes, hex or bigint, not ${typeof m}`)}return _&&(v=er(v,A)),a(v),v}const l=new Map;function u(m){if(!(m instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(b,I,_){if(this.px=b,this.py=I,this.pz=_,b==null||!t.isValid(b))throw new Error("x required");if(I==null||!t.isValid(I))throw new Error("y required");if(_==null||!t.isValid(_))throw new Error("z required")}static fromAffine(b){const{x:I,y:_}=b||{};if(!b||!t.isValid(I)||!t.isValid(_))throw new Error("invalid affine point");if(b instanceof f)throw new Error("projective point not allowed");const A=v=>t.eql(v,t.ZERO);return A(I)&&A(_)?f.ZERO:new f(I,_,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const I=t.invertBatch(b.map(_=>_.pz));return b.map((_,A)=>_.toAffine(I[A])).map(f.fromAffine)}static fromHex(b){const I=f.fromAffine(s(Lr("pointHex",b)));return I.assertValidity(),I}static fromPrivateKey(b){return f.BASE.multiply(c(b))}_setWindowSize(b){this._WINDOW_SIZE=b,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:b,y:I}=this.toAffine();if(!t.isValid(b)||!t.isValid(I))throw new Error("bad point: x or y not FE");const _=t.sqr(I),A=i(b);if(!t.eql(_,A))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:b}=this.toAffine();if(t.isOdd)return!t.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){u(b);const{px:I,py:_,pz:A}=this,{px:v,py:w,pz:y}=b,g=t.eql(t.mul(I,y),t.mul(v,A)),h=t.eql(t.mul(_,y),t.mul(w,A));return g&&h}negate(){return new f(this.px,t.neg(this.py),this.pz)}double(){const{a:b,b:I}=e,_=t.mul(I,n1),{px:A,py:v,pz:w}=this;let y=t.ZERO,g=t.ZERO,h=t.ZERO,x=t.mul(A,A),S=t.mul(v,v),P=t.mul(w,w),D=t.mul(A,v);return D=t.add(D,D),h=t.mul(A,w),h=t.add(h,h),y=t.mul(b,h),g=t.mul(_,P),g=t.add(y,g),y=t.sub(S,g),g=t.add(S,g),g=t.mul(y,g),y=t.mul(D,y),h=t.mul(_,h),P=t.mul(b,P),D=t.sub(x,P),D=t.mul(b,D),D=t.add(D,h),h=t.add(x,x),x=t.add(h,x),x=t.add(x,P),x=t.mul(x,D),g=t.add(g,x),P=t.mul(v,w),P=t.add(P,P),x=t.mul(P,D),y=t.sub(y,x),h=t.mul(P,S),h=t.add(h,h),h=t.add(h,h),new f(y,g,h)}add(b){u(b);const{px:I,py:_,pz:A}=this,{px:v,py:w,pz:y}=b;let g=t.ZERO,h=t.ZERO,x=t.ZERO;const S=e.a,P=t.mul(e.b,n1);let D=t.mul(I,v),B=t.mul(_,w),L=t.mul(A,y),U=t.add(I,_),C=t.add(v,w);U=t.mul(U,C),C=t.add(D,B),U=t.sub(U,C),C=t.add(I,A);let E=t.add(v,y);return C=t.mul(C,E),E=t.add(D,L),C=t.sub(C,E),E=t.add(_,A),g=t.add(w,y),E=t.mul(E,g),g=t.add(B,L),E=t.sub(E,g),x=t.mul(S,C),g=t.mul(P,L),x=t.add(g,x),g=t.sub(B,x),x=t.add(B,x),h=t.mul(g,x),B=t.add(D,D),B=t.add(B,D),L=t.mul(S,L),C=t.mul(P,C),B=t.add(B,L),L=t.sub(D,L),L=t.mul(S,L),C=t.add(C,L),D=t.mul(B,C),h=t.add(h,D),D=t.mul(E,C),g=t.mul(U,g),g=t.sub(g,D),D=t.mul(U,B),x=t.mul(E,x),x=t.add(x,D),new f(g,h,x)}subtract(b){return this.add(b.negate())}is0(){return this.equals(f.ZERO)}wNAF(b){return p.wNAFCached(this,l,b,I=>{const _=t.invertBatch(I.map(A=>A.pz));return I.map((A,v)=>A.toAffine(_[v])).map(f.fromAffine)})}multiplyUnsafe(b){const I=f.ZERO;if(b===xn)return I;if(a(b),b===Er)return this;const{endo:_}=e;if(!_)return p.unsafeLadder(this,b);let{k1neg:A,k1:v,k2neg:w,k2:y}=_.splitScalar(b),g=I,h=I,x=this;for(;v>xn||y>xn;)v&Er&&(g=g.add(x)),y&Er&&(h=h.add(x)),x=x.double(),v>>=Er,y>>=Er;return A&&(g=g.negate()),w&&(h=h.negate()),h=new f(t.mul(h.px,_.beta),h.py,h.pz),g.add(h)}multiply(b){a(b);let I=b,_,A;const{endo:v}=e;if(v){const{k1neg:w,k1:y,k2neg:g,k2:h}=v.splitScalar(I);let{p:x,f:S}=this.wNAF(y),{p:P,f:D}=this.wNAF(h);x=p.constTimeNegate(w,x),P=p.constTimeNegate(g,P),P=new f(t.mul(P.px,v.beta),P.py,P.pz),_=x.add(P),A=S.add(D)}else{const{p:w,f:y}=this.wNAF(I);_=w,A=y}return f.normalizeZ([_,A])[0]}multiplyAndAddUnsafe(b,I,_){const A=f.BASE,v=(y,g)=>g===xn||g===Er||!y.equals(A)?y.multiplyUnsafe(g):y.multiply(g),w=v(this,I).add(v(b,_));return w.is0()?void 0:w}toAffine(b){const{px:I,py:_,pz:A}=this,v=this.is0();b==null&&(b=v?t.ONE:t.inv(A));const w=t.mul(I,b),y=t.mul(_,b),g=t.mul(A,b);if(v)return{x:t.ZERO,y:t.ZERO};if(!t.eql(g,t.ONE))throw new Error("invZ was invalid");return{x:w,y}}isTorsionFree(){const{h:b,isTorsionFree:I}=e;if(b===Er)return!0;if(I)return I(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:I}=e;return b===Er?this:I?I(f,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return this.assertValidity(),n(f,this,b)}toHex(b=!0){return Ri(this.toRawBytes(b))}}f.BASE=new f(e.Gx,e.Gy,t.ONE),f.ZERO=new f(t.ZERO,t.ONE,t.ZERO);const d=e.nBitLength,p=l8(f,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function p8(r){const e=r1(r);return Bo(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function g8(r){const e=p8(r),{Fp:t,n}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(C){return xn<C&&C<t.ORDER}function a(C){return er(C,n)}function c(C){return Gu(C,n)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:f,isWithinCurveOrder:d}=d8({...e,toBytes(C,E,R){const k=E.toAffine(),H=t.toBytes(k.x),M=To;return R?M(Uint8Array.from([E.hasEvenY()?2:3]),H):M(Uint8Array.from([4]),H,t.toBytes(k.y))},fromBytes(C){const E=C.length,R=C[0],k=C.subarray(1);if(E===s&&(R===2||R===3)){const H=Os(k);if(!o(H))throw new Error("Point is not on curve");const M=f(H);let K=t.sqrt(M);const W=(K&Er)===Er;return(R&1)===1!==W&&(K=t.neg(K)),{x:H,y:K}}else if(E===i&&R===4){const H=t.fromBytes(k.subarray(0,t.BYTES)),M=t.fromBytes(k.subarray(t.BYTES,2*t.BYTES));return{x:H,y:M}}else throw new Error(`Point of length ${E} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),p=C=>Ri(Ti(C,e.nByteLength));function m(C){const E=n>>Er;return C>E}function b(C){return m(C)?a(-C):C}const I=(C,E,R)=>Os(C.slice(E,R));class _{constructor(E,R,k){this.r=E,this.s=R,this.recovery=k,this.assertValidity()}static fromCompact(E){const R=e.nByteLength;return E=Lr("compactSignature",E,R*2),new _(I(E,0,R),I(E,R,2*R))}static fromDER(E){const{r:R,s:k}=Ns.toSig(Lr("DER",E));return new _(R,k)}assertValidity(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new _(this.r,this.s,E)}recoverPublicKey(E){const{r:R,s:k,recovery:H}=this,M=h(Lr("msgHash",E));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const K=H===2||H===3?R+e.n:R;if(K>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=(H&1)===0?"02":"03",F=l.fromHex(W+p(K)),G=c(K),j=a(-M*G),X=a(k*G),se=l.BASE.multiplyAndAddUnsafe(F,j,X);if(!se)throw new Error("point at infinify");return se.assertValidity(),se}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Di(this.toDERHex())}toDERHex(){return Ns.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Di(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const A={isValidPrivateKey(C){try{return u(C),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const C=t1(e.n);return a8(e.randomBytes(C),e.n)},precompute(C=8,E=l.BASE){return E._setWindowSize(C),E.multiply(BigInt(3)),E}};function v(C,E=!0){return l.fromPrivateKey(C).toRawBytes(E)}function w(C){const E=C instanceof Uint8Array,R=typeof C=="string",k=(E||R)&&C.length;return E?k===s||k===i:R?k===2*s||k===2*i:C instanceof l}function y(C,E,R=!0){if(w(C))throw new Error("first arg must be private key");if(!w(E))throw new Error("second arg must be public key");return l.fromHex(E).multiply(u(C)).toRawBytes(R)}const g=e.bits2int||function(C){const E=Os(C),R=C.length*8-e.nBitLength;return R>0?E>>BigInt(R):E},h=e.bits2int_modN||function(C){return a(g(C))},x=ju(e.nBitLength);function S(C){if(typeof C!="bigint")throw new Error("bigint expected");if(!(xn<=C&&C<x))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ti(C,e.nByteLength)}function P(C,E,R=D){if(["recovered","canonical"].some(ie=>ie in R))throw new Error("sign() legacy options not supported");const{hash:k,randomBytes:H}=e;let{lowS:M,prehash:K,extraEntropy:W}=R;M==null&&(M=!0),C=Lr("msgHash",C),K&&(C=Lr("prehashed msgHash",k(C)));const F=h(C),G=u(E),j=[S(G),S(F)];if(W!=null){const ie=W===!0?H(t.BYTES):W;j.push(Lr("extraEntropy",ie))}const X=To(...j),se=F;function ne(ie){const ce=g(ie);if(!d(ce))return;const me=c(ce),le=l.BASE.multiply(ce).toAffine(),we=a(le.x);if(we===xn)return;const Nt=a(me*a(se+we*G));if(Nt===xn)return;let xr=(le.x===we?0:2)|Number(le.y&Er),Dr=Nt;return M&&m(Nt)&&(Dr=b(Nt),xr^=1),new _(we,Dr,xr)}return{seed:X,k2sig:ne}}const D={lowS:e.lowS,prehash:!1},B={lowS:e.lowS,prehash:!1};function L(C,E,R=D){const{seed:k,k2sig:H}=P(C,E,R),M=e;return Jg(M.hash.outputLen,M.nByteLength,M.hmac)(k,H)}l.BASE._setWindowSize(8);function U(C,E,R,k=B){const H=C;if(E=Lr("msgHash",E),R=Lr("publicKey",R),"strict"in k)throw new Error("options.strict was renamed to lowS");const{lowS:M,prehash:K}=k;let W,F;try{if(typeof H=="string"||H instanceof Uint8Array)try{W=_.fromDER(H)}catch(le){if(!(le instanceof Ns.Err))throw le;W=_.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:le,s:we}=H;W=new _(le,we)}else throw new Error("PARSE");F=l.fromHex(R)}catch(le){if(le.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(M&&W.hasHighS())return!1;K&&(E=e.hash(E));const{r:G,s:j}=W,X=h(E),se=c(j),ne=a(X*se),ie=a(G*se),ce=l.BASE.multiplyAndAddUnsafe(F,ne,ie)?.toAffine();return ce?a(ce.x)===G:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:y,sign:L,verify:U,ProjectivePoint:l,Signature:_,utils:A}}class s1 extends Kg{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,P4(e);const n=$u(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(n.length>s?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return yc(this),this.iHash.update(e),this}digestInto(e){yc(this),Vg(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i1=(r,e,t)=>new s1(r,e).update(t).digest();i1.create=(r,e)=>new s1(r,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function m8(r){return{hash:r,hmac:(e,...t)=>i1(r,e,D4(...t)),randomBytes:B4}}function b8(r,e){const t=n=>g8({...r,...m8(n)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const o1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),a1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),x8=BigInt(1),Wu=BigInt(2),c1=(r,e)=>(r+e/Wu)/e;function w8(r){const e=o1,t=BigInt(3),n=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=r*r*r%e,u=l*l*r%e,f=vr(u,t,e)*u%e,d=vr(f,t,e)*u%e,p=vr(d,Wu,e)*l%e,m=vr(p,s,e)*p%e,b=vr(m,i,e)*m%e,I=vr(b,a,e)*b%e,_=vr(I,c,e)*I%e,A=vr(_,a,e)*b%e,v=vr(A,t,e)*u%e,w=vr(v,o,e)*m%e,y=vr(w,n,e)*l%e,g=vr(y,Wu,e);if(!qu.eql(qu.sqr(g),r))throw new Error("Cannot find square root");return g}const qu=o8(o1,void 0,void 0,{sqrt:w8}),Xn=b8({a:BigInt(0),b:BigInt(7),Fp:qu,n:a1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=a1,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-x8*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=c1(i*r,e),c=c1(-n*r,e);let l=er(r-a*t-c*s,e),u=er(-a*n-c*i,e);const f=l>o,d=u>o;if(f&&(l=e-l),d&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:f,k1:l,k2neg:d,k2:u}}}},H4);BigInt(0),Xn.ProjectivePoint;const Bi="0x0000000000000000000000000000000000000000",Qu="0x0000000000000000000000000000000000000000000000000000000000000000",y8=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),v8=BigInt("1000000000000000000"),E8=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),A8=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),_8=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),I8="Ξ",l1=`Ethereum Signed Message:
`,u1=BigInt(0),f1=BigInt(1),h1=BigInt(2),d1=BigInt(27),p1=BigInt(28),Ac=BigInt(35),Ui={};function g1(r){return ur(Me(r),32)}class He{#e;#t;#r;#n;get r(){return this.#e}set r(e){N(Fn(e)===32,"invalid r","value",e),this.#e=V(e)}get s(){return N(parseInt(this.#t.substring(0,3))<8,"non-canonical s; use ._s","s",this.#t),this.#t}set s(e){N(Fn(e)===32,"invalid s","value",e),this.#t=V(e)}get _s(){return this.#t}isValid(){return parseInt(this.#t.substring(0,3))<8}get v(){return this.#r}set v(e){const t=ae(e,"value");N(t===27||t===28,"invalid v","v",e),this.#r=t}get networkV(){return this.#n}get legacyChainId(){const e=this.networkV;return e==null?null:He.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=q(this.s);return this.yParity&&(e[0]|=128),V(e)}get compactSerialized(){return ye([this.r,this.yParityAndS])}get serialized(){return ye([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,n,s){gn(e,Ui,"Signature"),this.#e=t,this.#t=n,this.#r=s,this.#n=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new He(Ui,this.r,this._s,this.v);return this.networkV&&(e.#n=this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const t=Y(e,"v");return t==d1||t==p1?u1:(N(t>=Ac,"invalid EIP-155 v","v",e),(t-Ac)/h1)}static getChainIdV(e,t){return Y(e)*h1+BigInt(35+t-27)}static getNormalizedV(e){const t=Y(e);return t===u1||t===d1?27:t===f1||t===p1?28:(N(t>=Ac,"invalid v","v",e),t&f1?27:28)}static from(e){function t(l,u){N(l,u,"signature",e)}if(e==null)return new He(Ui,Qu,Qu,27);if(typeof e=="string"){const l=q(e,"signature");if(l.length===64){const u=V(l.slice(0,32)),f=l.slice(32,64),d=f[0]&128?28:27;return f[0]&=127,new He(Ui,u,V(f),d)}if(l.length===65){const u=V(l.slice(0,32)),f=V(l.slice(32,64)),d=He.getNormalizedV(l[64]);return new He(Ui,u,f,d)}t(!1,"invalid raw signature length")}if(e instanceof He)return e.clone();const n=e.r;t(n!=null,"missing r");const s=g1(n),i=(function(l,u){if(l!=null)return g1(l);if(u!=null){t(Ne(u,32),"invalid yParityAndS");const f=q(u);return f[0]&=127,V(f)}t(!1,"missing s")})(e.s,e.yParityAndS),{networkV:o,v:a}=(function(l,u,f){if(l!=null){const d=Y(l);return{networkV:d>=Ac?d:void 0,v:He.getNormalizedV(d)}}if(u!=null)return t(Ne(u,32),"invalid yParityAndS"),{v:q(u)[0]&128?28:27};if(f!=null){switch(ae(f,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),c=new He(Ui,s,i,a);return o&&(c.#n=o),t(e.yParity==null||ae(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}}class Wt{#e;constructor(e){N(Fn(e)===32,"invalid private key","privateKey","[REDACTED]"),this.#e=V(e)}get privateKey(){return this.#e}get publicKey(){return Wt.computePublicKey(this.#e)}get compressedPublicKey(){return Wt.computePublicKey(this.#e,!0)}sign(e){N(Fn(e)===32,"invalid digest length","digest",e);const t=Xn.sign(vt(e),vt(this.#e),{lowS:!0});return He.from({r:Kr(t.r,32),s:Kr(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Wt.computePublicKey(e);return V(Xn.getSharedSecret(vt(this.#e),q(t),!1))}static computePublicKey(e,t){let n=q(e,"key");if(n.length===32){const i=Xn.getPublicKey(n,!!t);return V(i)}if(n.length===64){const i=new Uint8Array(65);i[0]=4,i.set(n,1),n=i}const s=Xn.ProjectivePoint.fromHex(n);return V(s.toRawBytes(t))}static recoverPublicKey(e,t){N(Fn(e)===32,"invalid digest length","digest",e);const n=He.from(t);let s=Xn.Signature.fromCompact(vt(ye([n.r,n.s])));s=s.addRecoveryBit(n.yParity);const i=s.recoverPublicKey(vt(e));return N(i!=null,"invalid signature for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,n){const s=Xn.ProjectivePoint.fromHex(Wt.computePublicKey(e).substring(2)),i=Xn.ProjectivePoint.fromHex(Wt.computePublicKey(t).substring(2));return"0x"+s.add(i).toHex(!!n)}}function C8(){Wn.lock(),Re.lock(),Zr.lock(),yr.lock(),qn.lock(),Qn.lock(),Jn.lock(),Kt.lock(),Do.lock(),yr.lock()}const S8=BigInt(0),O8=BigInt(36);function m1(r){r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);const n=q(Re(t));for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(n[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Ju={};for(let r=0;r<10;r++)Ju[String(r)]=String(r);for(let r=0;r<26;r++)Ju[String.fromCharCode(65+r)]=String(10+r);const b1=15;function x1(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(n=>Ju[n]).join("");for(;e.length>=b1;){let n=e.substring(0,b1);e=parseInt(n,10)%97+e.substring(n.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const P8=(function(){const r={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];r[t]=BigInt(e)}return r})();function N8(r){r=r.toLowerCase();let e=S8;for(let t=0;t<r.length;t++)e=e*O8+P8[r[t]];return e}function fe(r){if(N(typeof r=="string","invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/)){r.startsWith("0x")||(r="0x"+r);const e=m1(r);return N(!r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===r,"bad address checksum","address",r),e}if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){N(r.substring(2,4)===x1(r),"bad icap checksum","address",r);let e=N8(r.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return m1("0x"+e)}N(!1,"invalid address","address",r)}function R8(r){let e=BigInt(fe(r)).toString(36).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+x1("XE00"+e)+e}function Zu(r){const e=fe(r.from);let n=Y(r.nonce,"tx.nonce").toString(16);return n==="0"?n="0x":n.length%2?n="0x0"+n:n="0x"+n,fe(Be(Re(qr([e,n])),12))}function D8(r,e,t){const n=fe(r),s=q(e,"salt"),i=q(t,"initCodeHash");return N(s.length===32,"salt must be 32 bytes","salt",e),N(i.length===32,"initCodeHash must be 32 bytes","initCodeHash",t),fe(Be(Re(ye(["0xff",n,s,i])),12))}function Yu(r){return r&&typeof r.getAddress=="function"}function T8(r){try{return fe(r),!0}catch{}return!1}async function Xu(r,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&($(typeof r!="string","unconfigured name","UNCONFIGURED_NAME",{value:r}),N(!1,"invalid AddressLike value; did not resolve to a value address","target",r)),fe(t)}function pt(r,e){if(typeof r=="string")return r.match(/^0x[0-9a-f]{40}$/i)?fe(r):($(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Xu(r,e.resolveName(r)));if(Yu(r))return Xu(r,r.getAddress());if(r&&typeof r.then=="function")return Xu(r,r);N(!1,"unsupported addressable value","target",r)}const wn={};function ee(r,e){let t=!1;return e<0&&(t=!0,e*=-1),new je(wn,`${t?"":"u"}int${e}`,r,{signed:t,width:e})}function Ce(r,e){return new je(wn,`bytes${e||""}`,r,{size:e})}const w1=Symbol.for("_ethers_typed");class je{type;value;#e;_typedSymbol;constructor(e,t,n,s){s==null&&(s=null),gn(wn,e,"Typed"),Z(this,{_typedSymbol:w1,type:t,value:n}),this.#e=s,this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#e}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return this.#e===!0?-1:this.#e===!1?this.value.length:null}static from(e,t){return new je(wn,e,t)}static uint8(e){return ee(e,8)}static uint16(e){return ee(e,16)}static uint24(e){return ee(e,24)}static uint32(e){return ee(e,32)}static uint40(e){return ee(e,40)}static uint48(e){return ee(e,48)}static uint56(e){return ee(e,56)}static uint64(e){return ee(e,64)}static uint72(e){return ee(e,72)}static uint80(e){return ee(e,80)}static uint88(e){return ee(e,88)}static uint96(e){return ee(e,96)}static uint104(e){return ee(e,104)}static uint112(e){return ee(e,112)}static uint120(e){return ee(e,120)}static uint128(e){return ee(e,128)}static uint136(e){return ee(e,136)}static uint144(e){return ee(e,144)}static uint152(e){return ee(e,152)}static uint160(e){return ee(e,160)}static uint168(e){return ee(e,168)}static uint176(e){return ee(e,176)}static uint184(e){return ee(e,184)}static uint192(e){return ee(e,192)}static uint200(e){return ee(e,200)}static uint208(e){return ee(e,208)}static uint216(e){return ee(e,216)}static uint224(e){return ee(e,224)}static uint232(e){return ee(e,232)}static uint240(e){return ee(e,240)}static uint248(e){return ee(e,248)}static uint256(e){return ee(e,256)}static uint(e){return ee(e,256)}static int8(e){return ee(e,-8)}static int16(e){return ee(e,-16)}static int24(e){return ee(e,-24)}static int32(e){return ee(e,-32)}static int40(e){return ee(e,-40)}static int48(e){return ee(e,-48)}static int56(e){return ee(e,-56)}static int64(e){return ee(e,-64)}static int72(e){return ee(e,-72)}static int80(e){return ee(e,-80)}static int88(e){return ee(e,-88)}static int96(e){return ee(e,-96)}static int104(e){return ee(e,-104)}static int112(e){return ee(e,-112)}static int120(e){return ee(e,-120)}static int128(e){return ee(e,-128)}static int136(e){return ee(e,-136)}static int144(e){return ee(e,-144)}static int152(e){return ee(e,-152)}static int160(e){return ee(e,-160)}static int168(e){return ee(e,-168)}static int176(e){return ee(e,-176)}static int184(e){return ee(e,-184)}static int192(e){return ee(e,-192)}static int200(e){return ee(e,-200)}static int208(e){return ee(e,-208)}static int216(e){return ee(e,-216)}static int224(e){return ee(e,-224)}static int232(e){return ee(e,-232)}static int240(e){return ee(e,-240)}static int248(e){return ee(e,-248)}static int256(e){return ee(e,-256)}static int(e){return ee(e,-256)}static bytes1(e){return Ce(e,1)}static bytes2(e){return Ce(e,2)}static bytes3(e){return Ce(e,3)}static bytes4(e){return Ce(e,4)}static bytes5(e){return Ce(e,5)}static bytes6(e){return Ce(e,6)}static bytes7(e){return Ce(e,7)}static bytes8(e){return Ce(e,8)}static bytes9(e){return Ce(e,9)}static bytes10(e){return Ce(e,10)}static bytes11(e){return Ce(e,11)}static bytes12(e){return Ce(e,12)}static bytes13(e){return Ce(e,13)}static bytes14(e){return Ce(e,14)}static bytes15(e){return Ce(e,15)}static bytes16(e){return Ce(e,16)}static bytes17(e){return Ce(e,17)}static bytes18(e){return Ce(e,18)}static bytes19(e){return Ce(e,19)}static bytes20(e){return Ce(e,20)}static bytes21(e){return Ce(e,21)}static bytes22(e){return Ce(e,22)}static bytes23(e){return Ce(e,23)}static bytes24(e){return Ce(e,24)}static bytes25(e){return Ce(e,25)}static bytes26(e){return Ce(e,26)}static bytes27(e){return Ce(e,27)}static bytes28(e){return Ce(e,28)}static bytes29(e){return Ce(e,29)}static bytes30(e){return Ce(e,30)}static bytes31(e){return Ce(e,31)}static bytes32(e){return Ce(e,32)}static address(e){return new je(wn,"address",e)}static bool(e){return new je(wn,"bool",!!e)}static bytes(e){return new je(wn,"bytes",e)}static string(e){return new je(wn,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new je(wn,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===w1}static dereference(e,t){if(je.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class B8 extends bn{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let n=je.dereference(t,"string");try{n=fe(n)}catch(s){return this._throwError(s.message,t)}return e.writeValue(n)}decode(e){return fe(Kr(e.readValue(),20))}}class U8 extends bn{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function y1(r,e,t){let n=[];if(Array.isArray(t))n=t;else if(t&&typeof t=="object"){let c={};n=e.map(l=>{const u=l.localName;return $(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:t}),$(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:t}),c[u]=!0,t[u]})}else N(!1,"invalid tuple value","tuple",t);N(e.length===n.length,"types/value length mismatch","tuple",t);let s=new _u,i=new _u,o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=i.length;c.encode(i,u);let d=s.writeUpdatableValue();o.push(p=>{d(p+f)})}else c.encode(s,u)}),o.forEach(c=>{c(s.length)});let a=r.appendWriter(s);return a+=r.appendWriter(i),a}function v1(r,e){let t=[],n=[],s=r.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=r.readIndex(),c=s.subReader(a);try{o=i.decode(c)}catch(l){if(Ze(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(r)}catch(a){if(Ze(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");t.push(o),n.push(i.localName||null)}),Qr.fromItems(t,n)}class k8 extends bn{coder;length;constructor(e,t,n){const s=e.type+"["+(t>=0?t:"")+"]",i=t===-1||e.dynamic;super("array",s,n,i),Z(this,{coder:e,length:t})}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let n=0;n<this.length;n++)t.push(e);return t}encode(e,t){const n=je.dereference(t,"array");Array.isArray(n)||this._throwError("expected array value",n);let s=this.length;s===-1&&(s=n.length,e.writeValue(n.length)),gu(n.length,s,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let o=0;o<n.length;o++)i.push(this.coder);return y1(e,i,n)}decode(e){let t=this.length;t===-1&&(t=e.readIndex(),$(t*Gt<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:t*Gt,length:e.dataLength}));let n=[];for(let s=0;s<t;s++)n.push(new U8(this.coder));return v1(e,n)}}class L8 extends bn{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const n=je.dereference(t,"bool");return e.writeValue(n?1:0)}decode(e){return!!e.readValue()}}class E1 extends bn{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=vt(t);let n=e.writeValue(t.length);return n+=e.writeBytes(t),n}decode(e){return e.readBytes(e.readIndex(),!0)}}class $8 extends E1{constructor(e){super("bytes",e)}decode(e){return V(super.decode(e))}}class M8 extends bn{size;constructor(e,t){let n="bytes"+String(e);super(n,n,t,!1),Z(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let n=vt(je.dereference(t,this.type));return n.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(n)}decode(e){return V(e.readBytes(this.size))}}const F8=new Uint8Array([]);class H8 extends bn{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(F8)}decode(e){return e.readBytes(0),null}}const j8=BigInt(0),z8=BigInt(1),V8=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class G8 extends bn{size;signed;constructor(e,t,n){const s=(t?"int":"uint")+e*8;super(s,s,n,!1),Z(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let n=Y(je.dereference(t,this.type)),s=Hn(V8,Gt*8);if(this.signed){let i=Hn(s,this.size*8-1);(n>i||n<-(i+z8))&&this._throwError("value out-of-bounds",t),n=cc(n,8*Gt)}else(n<j8||n>Hn(s,this.size*8))&&this._throwError("value out-of-bounds",t);return e.writeValue(n)}decode(e){let t=Hn(e.readValue(),this.size*8);return this.signed&&(t=Co(t,this.size*8)),t}}class K8 extends E1{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,ht(je.dereference(t,"string")))}decode(e){return jn(super.decode(e))}}class _c extends bn{coders;constructor(e,t){let n=!1;const s=[];e.forEach(o=>{o.dynamic&&(n=!0),s.push(o.type)});const i="tuple("+s.join(",")+")";super("tuple",i,t,n),Z(this,{coders:Object.freeze(e.slice())})}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const t=this.coders.reduce((n,s)=>{const i=s.localName;return i&&(n[i]||(n[i]=0),n[i]++),n},{});return this.coders.forEach((n,s)=>{let i=n.localName;!i||t[i]!==1||(i==="length"&&(i="_length"),e[i]==null&&(e[i]=e[s]))}),Object.freeze(e)}encode(e,t){const n=je.dereference(t,"tuple");return y1(e,this.coders,n)}decode(e){return v1(e,this.coders)}}function ef(r,e){return{address:fe(r),storageKeys:e.map((t,n)=>(N(Ne(t,32),"invalid slot",`storageKeys[${n}]`,t),t.toLowerCase()))}}function yn(r){if(Array.isArray(r))return r.map((t,n)=>Array.isArray(t)?(N(t.length===2,"invalid slot set",`value[${n}]`,t),ef(t[0],t[1])):(N(t!=null&&typeof t=="object","invalid address-slot set","value",r),ef(t.address,t.storageKeys)));N(r!=null&&typeof r=="object","invalid access list","value",r);const e=Object.keys(r).map(t=>{const n=r[t].reduce((s,i)=>(s[i]=!0,s),{});return ef(t,Object.keys(n).sort())});return e.sort((t,n)=>t.address.localeCompare(n.address)),e}function tf(r){return{address:fe(r.address),nonce:Y(r.nonce!=null?r.nonce:0),chainId:Y(r.chainId!=null?r.chainId:0),signature:He.from(r.signature)}}function ki(r){let e;return typeof r=="string"?e=Wt.computePublicKey(r,!1):e=r.publicKey,fe(Re("0x"+e.substring(4)).substring(26))}function Uo(r,e){return ki(Wt.recoverPublicKey(r,e))}const At=BigInt(0),W8=BigInt(2),q8=BigInt(27),Q8=BigInt(28),J8=BigInt(35),Z8=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),rf=4096*32;function Y8(r){return{blobToKzgCommitment:n=>{if("computeBlobProof"in r){if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return q(r.blobToKzgCommitment(V(n)))}else if("blobToKzgCommitment"in r&&typeof r.blobToKzgCommitment=="function")return q(r.blobToKzgCommitment(n));if("blobToKZGCommitment"in r&&typeof r.blobToKZGCommitment=="function")return q(r.blobToKZGCommitment(V(n)));N(!1,"unsupported KZG library","kzg",r)},computeBlobKzgProof:(n,s)=>{if("computeBlobProof"in r&&typeof r.computeBlobProof=="function")return q(r.computeBlobProof(V(n),V(s)));if("computeBlobKzgProof"in r&&typeof r.computeBlobKzgProof=="function")return r.computeBlobKzgProof(n,s);if("computeBlobKZGProof"in r&&typeof r.computeBlobKZGProof=="function")return q(r.computeBlobKZGProof(V(n),V(s)));N(!1,"unsupported KZG library","kzg",r)}}}function A1(r,e){let t=r.toString(16);for(;t.length<2;)t="0"+t;return t+=Kt(e).substring(4),"0x"+t}function Li(r){return r==="0x"?null:fe(r)}function Ic(r,e){try{return yn(r)}catch(t){N(!1,t.message,e,r)}}function X8(r,e){try{if(!Array.isArray(r))throw new Error("authorizationList: invalid array");const t=[];for(let n=0;n<r.length;n++){const s=r[n];if(!Array.isArray(s))throw new Error(`authorization[${n}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${n}]: wrong length`);if(!s[1])throw new Error(`authorization[${n}]: null address`);t.push({address:Li(s[1]),nonce:De(s[2],"nonce"),chainId:De(s[0],"chainId"),signature:He.from({yParity:Rs(s[3],"yParity"),r:ur(s[4],32),s:ur(s[5],32)})})}return t}catch(t){N(!1,t.message,e,r)}}function Rs(r,e){return r==="0x"?0:ae(r,e)}function De(r,e){if(r==="0x")return At;const t=Y(r,e);return N(t<=Z8,"value exceeds uint size",e,t),t}function ve(r,e){const t=Y(r,"value"),n=Me(t);return N(n.length<=32,"value too large",`tx.${e}`,t),n}function Cc(r){return yn(r).map(e=>[e.address,e.storageKeys])}function e6(r){return r.map(e=>[ve(e.chainId,"chainId"),e.address,ve(e.nonce,"nonce"),ve(e.signature.yParity,"yParity"),Me(e.signature.r),Me(e.signature.s)])}function t6(r,e){N(Array.isArray(r),`invalid ${e}`,"value",r);for(let t=0;t<r.length;t++)N(Ne(r[t],32),"invalid ${ param } hash",`value[${t}]`,r[t]);return r}function r6(r){const e=Si(r);N(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",r);const t={type:0,nonce:Rs(e[0],"nonce"),gasPrice:De(e[1],"gasPrice"),gasLimit:De(e[2],"gasLimit"),to:Li(e[3]),value:De(e[4],"value"),data:V(e[5]),chainId:At};if(e.length===6)return t;const n=De(e[6],"v"),s=De(e[7],"r"),i=De(e[8],"s");if(s===At&&i===At)t.chainId=n;else{let o=(n-J8)/W8;o<At&&(o=At),t.chainId=o,N(o!==At||n===q8||n===Q8,"non-canonical legacy v","v",e[6]),t.signature=He.from({r:ur(e[7],32),s:ur(e[8],32),v:n})}return t}function n6(r,e){const t=[ve(r.nonce,"nonce"),ve(r.gasPrice||0,"gasPrice"),ve(r.gasLimit,"gasLimit"),r.to||"0x",ve(r.value,"value"),r.data];let n=At;if(r.chainId!=At)n=Y(r.chainId,"tx.chainId"),N(!e||e.networkV==null||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(r.signature){const i=r.signature.legacyChainId;i!=null&&(n=i)}if(!e)return n!==At&&(t.push(Me(n)),t.push("0x"),t.push("0x")),qr(t);let s=BigInt(27+e.yParity);return n!==At?s=He.getChainIdV(n,e.v):BigInt(e.v)!==s&&N(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(Me(s)),t.push(Me(e.r)),t.push(Me(e.s)),qr(t)}function Sc(r,e){let t;try{if(t=Rs(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{N(!1,"invalid yParity","yParity",e[0])}const n=ur(e[1],32),s=ur(e[2],32),i=He.from({r:n,s,yParity:t});r.signature=i}function s6(r){const e=Si(q(r).slice(1));N(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",V(r));const t={type:2,chainId:De(e[0],"chainId"),nonce:Rs(e[1],"nonce"),maxPriorityFeePerGas:De(e[2],"maxPriorityFeePerGas"),maxFeePerGas:De(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:De(e[4],"gasLimit"),to:Li(e[5]),value:De(e[6],"value"),data:V(e[7]),accessList:Ic(e[8],"accessList")};return e.length===9||Sc(t,e.slice(9)),t}function i6(r,e){const t=[ve(r.chainId,"chainId"),ve(r.nonce,"nonce"),ve(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ve(r.maxFeePerGas||0,"maxFeePerGas"),ve(r.gasLimit,"gasLimit"),r.to||"0x",ve(r.value,"value"),r.data,Cc(r.accessList||[])];return e&&(t.push(ve(e.yParity,"yParity")),t.push(Me(e.r)),t.push(Me(e.s))),ye(["0x02",qr(t)])}function o6(r){const e=Si(q(r).slice(1));N(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",V(r));const t={type:1,chainId:De(e[0],"chainId"),nonce:Rs(e[1],"nonce"),gasPrice:De(e[2],"gasPrice"),gasLimit:De(e[3],"gasLimit"),to:Li(e[4]),value:De(e[5],"value"),data:V(e[6]),accessList:Ic(e[7],"accessList")};return e.length===8||Sc(t,e.slice(8)),t}function a6(r,e){const t=[ve(r.chainId,"chainId"),ve(r.nonce,"nonce"),ve(r.gasPrice||0,"gasPrice"),ve(r.gasLimit,"gasLimit"),r.to||"0x",ve(r.value,"value"),r.data,Cc(r.accessList||[])];return e&&(t.push(ve(e.yParity,"recoveryParam")),t.push(Me(e.r)),t.push(Me(e.s))),ye(["0x01",qr(t)])}function c6(r){let e=Si(q(r).slice(1)),t="3",n=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const i=e[1],o=e[2],a=e[3];N(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),N(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),N(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),N(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),N(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let c=0;c<e[1].length;c++)n.push({data:i[c],commitment:o[c],proof:a[c]});e=e[0]}N(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",V(r));const s={type:3,chainId:De(e[0],"chainId"),nonce:Rs(e[1],"nonce"),maxPriorityFeePerGas:De(e[2],"maxPriorityFeePerGas"),maxFeePerGas:De(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:De(e[4],"gasLimit"),to:Li(e[5]),value:De(e[6],"value"),data:V(e[7]),accessList:Ic(e[8],"accessList"),maxFeePerBlobGas:De(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(s.blobs=n),N(s.to!=null,`invalid address for transaction type: ${t}`,"data",r),N(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",r);for(let i=0;i<s.blobVersionedHashes.length;i++)N(Ne(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",r);return e.length===11||Sc(s,e.slice(11)),s}function l6(r,e,t){const n=[ve(r.chainId,"chainId"),ve(r.nonce,"nonce"),ve(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ve(r.maxFeePerGas||0,"maxFeePerGas"),ve(r.gasLimit,"gasLimit"),r.to||Bi,ve(r.value,"value"),r.data,Cc(r.accessList||[]),ve(r.maxFeePerBlobGas||0,"maxFeePerBlobGas"),t6(r.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(ve(e.yParity,"yParity")),n.push(Me(e.r)),n.push(Me(e.s)),t)?ye(["0x03",qr([n,t.map(s=>s.data),t.map(s=>s.commitment),t.map(s=>s.proof)])]):ye(["0x03",qr(n)])}function u6(r){const e=Si(q(r).slice(1));N(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",V(r));const t={type:4,chainId:De(e[0],"chainId"),nonce:Rs(e[1],"nonce"),maxPriorityFeePerGas:De(e[2],"maxPriorityFeePerGas"),maxFeePerGas:De(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:De(e[4],"gasLimit"),to:Li(e[5]),value:De(e[6],"value"),data:V(e[7]),accessList:Ic(e[8],"accessList"),authorizationList:X8(e[9],"authorizationList")};return e.length===10||Sc(t,e.slice(10)),t}function f6(r,e){const t=[ve(r.chainId,"chainId"),ve(r.nonce,"nonce"),ve(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ve(r.maxFeePerGas||0,"maxFeePerGas"),ve(r.gasLimit,"gasLimit"),r.to||"0x",ve(r.value,"value"),r.data,Cc(r.accessList||[]),e6(r.authorizationList||[])];return e&&(t.push(ve(e.yParity,"yParity")),t.push(Me(e.r)),t.push(Me(e.s))),ye(["0x04",qr(t)])}class tr{#e;#t;#r;#n;#s;#o;#i;#a;#f;#l;#p;#g;#c;#u;#h;#d;#b;get type(){return this.#e}set type(e){switch(e){case null:this.#e=null;break;case 0:case"legacy":this.#e=0;break;case 1:case"berlin":case"eip-2930":this.#e=1;break;case 2:case"london":case"eip-1559":this.#e=2;break;case 3:case"cancun":case"eip-4844":this.#e=3;break;case 4:case"pectra":case"eip-7702":this.#e=4;break;default:N(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=this.#t;return e==null&&this.type===3?Bi:e}set to(e){this.#t=e==null?null:fe(e)}get nonce(){return this.#n}set nonce(e){this.#n=ae(e,"value")}get gasLimit(){return this.#s}set gasLimit(e){this.#s=Y(e)}get gasPrice(){const e=this.#o;return e==null&&(this.type===0||this.type===1)?At:e}set gasPrice(e){this.#o=e==null?null:Y(e,"gasPrice")}get maxPriorityFeePerGas(){const e=this.#i;return e??(this.type===2||this.type===3?At:null)}set maxPriorityFeePerGas(e){this.#i=e==null?null:Y(e,"maxPriorityFeePerGas")}get maxFeePerGas(){const e=this.#a;return e??(this.type===2||this.type===3?At:null)}set maxFeePerGas(e){this.#a=e==null?null:Y(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=V(e)}get value(){return this.#f}set value(e){this.#f=Y(e,"value")}get chainId(){return this.#l}set chainId(e){this.#l=Y(e)}get signature(){return this.#p||null}set signature(e){this.#p=e==null?null:He.from(e)}get accessList(){const e=this.#g||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){this.#g=e==null?null:yn(e)}get authorizationList(){const e=this.#b||null;return e==null&&this.type===4?[]:e}set authorizationList(e){this.#b=e==null?null:e.map(t=>tf(t))}get maxFeePerBlobGas(){const e=this.#c;return e==null&&this.type===3?At:e}set maxFeePerBlobGas(e){this.#c=e==null?null:Y(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#u;return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){N(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)N(Ne(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#u=e}get blobs(){return this.#d==null?null:this.#d.map(e=>Object.assign({},e))}set blobs(e){if(e==null){this.#d=null;return}const t=[],n=[];for(let s=0;s<e.length;s++){const i=e[s];if(Io(i)){$(this.#h,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=q(i);if(N(o.length<=rf,"blob is too large",`blobs[${s}]`,i),o.length!==rf){const l=new Uint8Array(rf);l.set(o),o=l}const a=this.#h.blobToKzgCommitment(o),c=V(this.#h.computeBlobKzgProof(o,a));t.push({data:V(o),commitment:V(a),proof:c}),n.push(A1(1,a))}else{const o=V(i.commitment);t.push({data:V(i.data),commitment:o,proof:V(i.proof)}),n.push(A1(1,o))}}this.#d=t,this.#u=n}get kzg(){return this.#h}set kzg(e){e==null?this.#h=null:this.#h=Y8(e)}constructor(){this.#e=null,this.#t=null,this.#n=0,this.#s=At,this.#o=null,this.#i=null,this.#a=null,this.#r="0x",this.#f=At,this.#l=At,this.#p=null,this.#g=null,this.#c=null,this.#u=null,this.#h=null,this.#d=null,this.#b=null}get hash(){return this.signature==null?null:Re(this.#m(!0,!1))}get unsignedHash(){return Re(this.unsignedSerialized)}get from(){return this.signature==null?null:Uo(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Wt.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#m(e,t){$(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const n=e?this.signature:null;switch(this.inferType()){case 0:return n6(this,n);case 1:return a6(this,n);case 2:return i6(this,n);case 3:return l6(this,n,t?this.blobs:null);case 4:return f6(this,n)}$(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#m(!0,!0)}get unsignedSerialized(){return this.#m(!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,n=this.accessList!=null,s=this.#c!=null||this.#u;this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&$(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),$(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),$(this.type!==0||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):t?i.push(2):e?(i.push(1),n||i.push(0)):n?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return tr.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new tr;if(typeof e=="string"){const n=q(e);if(n[0]>=127)return tr.from(r6(n));switch(n[0]){case 1:return tr.from(o6(n));case 2:return tr.from(s6(n));case 3:return tr.from(c6(n));case 4:return tr.from(u6(n))}$(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new tr;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=He.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.authorizationList!=null&&(t.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(N(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),N(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(N(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),N(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}function nf(r){return N(typeof r.address=="string","invalid address for hashAuthorization","auth.address",r),Re(ye(["0x05",qr([r.chainId!=null?Me(r.chainId):"0x",fe(r.address),r.nonce!=null?Me(r.nonce):"0x"])]))}function h6(r,e){return Uo(nf(r),e)}function Xr(r){return Re(ht(r))}var d6="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const _1=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),I1=4;function p6(r){let e=0;function t(){return r[e++]<<8|r[e++]}let n=t(),s=1,i=[0,1];for(let y=1;y<n;y++)i.push(s+=t());let o=t(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|r[e++],c=8),l>>--c&1}const f=31,d=2**f,p=d>>>1,m=p>>1,b=d-1;let I=0;for(let y=0;y<f;y++)I=I<<1|u();let _=[],A=0,v=d;for(;;){let y=Math.floor(((I-A+1)*s-1)/v),g=0,h=n;for(;h-g>1;){let P=g+h>>>1;y<i[P]?h=P:g=P}if(g==0)break;_.push(g);let x=A+Math.floor(v*i[g]/s),S=A+Math.floor(v*i[g+1]/s)-1;for(;((x^S)&p)==0;)I=I<<1&b|u(),x=x<<1&b,S=S<<1&b|1;for(;x&~S&m;)I=I&p|I<<1&b>>>1|u(),x=x<<1^p,S=(S^p)<<1|p|1;A=x,v=1+S-x}let w=n-4;return _.map(y=>{switch(y-w){case 3:return w+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return w+256+(r[a++]<<8|r[a++]);case 1:return w+r[a++];default:return y-1}})}function g6(r){let e=0;return()=>r[e++]}function C1(r){return g6(p6(m6(r)))}function m6(r){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let t=r.length,n=new Uint8Array(6*t>>3);for(let s=0,i=0,o=0,a=0;s<t;s++)a=a<<6|e[r.charCodeAt(s)],o+=6,o>=8&&(n[i++]=a>>(o-=8));return n}function b6(r){return r&1?~r>>1:r>>1}function x6(r,e){let t=Array(r);for(let n=0,s=0;n<r;n++)t[n]=s+=b6(e());return t}function ko(r,e=0){let t=[];for(;;){let n=r(),s=r();if(!s)break;e+=n;for(let i=0;i<s;i++)t.push(e+i);e+=s+1}return t}function S1(r){return Lo(()=>{let e=ko(r);if(e.length)return e})}function O1(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(w6(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(y6(t,r))}return e.flat()}function Lo(r){let e=[];for(;;){let t=r(e.length);if(!t)break;e.push(t)}return e}function P1(r,e,t){let n=Array(r).fill().map(()=>[]);for(let s=0;s<e;s++)x6(r,t).forEach((i,o)=>n[o].push(i));return n}function w6(r,e){let t=1+e(),n=e(),s=Lo(e);return P1(s.length,1+r,e).flatMap((o,a)=>{let[c,...l]=o;return Array(s[a]).fill().map((u,f)=>{let d=f*n;return[c+f*t,l.map(p=>p+d)]})})}function y6(r,e){let t=1+e();return P1(t,1+r,e).map(s=>[s[0],s.slice(1)])}function v6(r){let e=[],t=ko(r);return s(n([]),[]),e;function n(i){let o=r(),a=Lo(()=>{let c=ko(r).map(l=>t[l]);if(c.length)return n(c)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,c){if(!(i&4&&c===a[a.length-1])){i&2&&(c=a[a.length-1]),i&1&&e.push(a);for(let l of o)for(let u of l.Q)s(l,[...a,u],c)}}}function E6(r){return r.toString(16).toUpperCase().padStart(2,"0")}function N1(r){return`{${E6(r)}}`}function A6(r){let e=[];for(let t=0,n=r.length;t<n;){let s=r.codePointAt(t);t+=s<65536?1:2,e.push(s)}return e}function $i(r){let t=r.length;if(t<4096)return String.fromCodePoint(...r);let n=[];for(let s=0;s<t;)n.push(String.fromCodePoint(...r.slice(s,s+=4096)));return n.join("")}function _6(r,e){let t=r.length,n=t-e.length;for(let s=0;n==0&&s<t;s++)n=r[s]-e[s];return n}var I6="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const $o=44032,Oc=4352,Pc=4449,Nc=4519,R1=19,D1=21,Mi=28,Rc=D1*Mi,C6=R1*Rc,S6=$o+C6,O6=Oc+R1,P6=Pc+D1,N6=Nc+Mi;function Mo(r){return r>>24&255}function T1(r){return r&16777215}let sf,B1,of,Dc;function R6(){let r=C1(I6);sf=new Map(S1(r).flatMap((e,t)=>e.map(n=>[n,t+1<<24]))),B1=new Set(ko(r)),of=new Map,Dc=new Map;for(let[e,t]of O1(r)){if(!B1.has(e)&&t.length==2){let[n,s]=t,i=Dc.get(n);i||(i=new Map,Dc.set(n,i)),i.set(s,e)}of.set(e,t.reverse())}}function U1(r){return r>=$o&&r<S6}function D6(r,e){if(r>=Oc&&r<O6&&e>=Pc&&e<P6)return $o+(r-Oc)*Rc+(e-Pc)*Mi;if(U1(r)&&e>Nc&&e<N6&&(r-$o)%Mi==0)return r+(e-Nc);{let t=Dc.get(r);return t&&(t=t.get(e),t)?t:-1}}function k1(r){sf||R6();let e=[],t=[],n=!1;function s(i){let o=sf.get(i);o&&(n=!0,i|=o),e.push(i)}for(let i of r)for(;;){if(i<128)e.push(i);else if(U1(i)){let o=i-$o,a=o/Rc|0,c=o%Rc/Mi|0,l=o%Mi;s(Oc+a),s(Pc+c),l>0&&s(Nc+l)}else{let o=of.get(i);o?t.push(...o):s(i)}if(!t.length)break;i=t.pop()}if(n&&e.length>1){let i=Mo(e[0]);for(let o=1;o<e.length;o++){let a=Mo(e[o]);if(a==0||i<=a){i=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(i=Mo(e[--c]),i<=a))break}i=Mo(e[o])}}return e}function T6(r){let e=[],t=[],n=-1,s=0;for(let i of r){let o=Mo(i),a=T1(i);if(n==-1)o==0?n=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(n,...t),t.length=0,n=a):t.push(a),s=o;else{let c=D6(n,a);c>=0?n=c:s==0&&o==0?(e.push(n),n=a):(t.push(a),s=o)}}return n>=0&&e.push(n,...t),e}function L1(r){return k1(r).map(T1)}function B6(r){return T6(k1(r))}const $1=45,M1=".",F1=65039,H1=1,Tc=r=>Array.from(r);function Fo(r,e){return r.P.has(e)||r.Q.has(e)}class U6 extends Array{get is_emoji(){return!0}}let af,j1,Ds,cf,z1,Fi,lf,Hi,Ts,V1,uf;function ff(){if(af)return;let r=C1(d6);const e=()=>ko(r),t=()=>new Set(e()),n=(u,f)=>f.forEach(d=>u.add(d));af=new Map(O1(r)),j1=t(),Ds=e(),cf=new Set(e().map(u=>Ds[u])),Ds=new Set(Ds),z1=t(),t();let s=S1(r),i=r();const o=()=>{let u=new Set;return e().forEach(f=>n(u,s[f])),n(u,e()),u};Fi=Lo(u=>{let f=Lo(r).map(d=>d+96);if(f.length){let d=u>=i;f[0]-=32,f=$i(f),d&&(f=`Restricted[${f}]`);let p=o(),m=o(),b=!r();return{N:f,P:p,Q:m,M:b,R:d}}}),lf=t(),Hi=new Map;let a=e().concat(Tc(lf)).sort((u,f)=>u-f);a.forEach((u,f)=>{let d=r(),p=a[f]=d?a[f-d]:{V:[],M:new Map};p.V.push(u),lf.has(u)||Hi.set(u,p)});for(let{V:u,M:f}of new Set(Hi.values())){let d=[];for(let m of u){let b=Fi.filter(_=>Fo(_,m)),I=d.find(({G:_})=>b.some(A=>_.has(A)));I||(I={G:new Set,V:[]},d.push(I)),I.V.push(m),n(I.G,b)}let p=d.flatMap(m=>Tc(m.G));for(let{G:m,V:b}of d){let I=new Set(p.filter(_=>!m.has(_)));for(let _ of b)f.set(_,I)}}Ts=new Set;let c=new Set;const l=u=>Ts.has(u)?c.add(u):Ts.add(u);for(let u of Fi){for(let f of u.P)l(f);for(let f of u.Q)l(f)}for(let u of Ts)!Hi.has(u)&&!c.has(u)&&Hi.set(u,H1);n(Ts,L1(Ts)),V1=v6(r).map(u=>U6.from(u)).sort(_6),uf=new Map;for(let u of V1){let f=[uf];for(let d of u){let p=f.map(m=>{let b=m.get(d);return b||(b=new Map,m.set(d,b)),b});d===F1?f.push(...p):f=p}for(let d of f)d.V=u}}function hf(r){return(G1(r)?"":`${df(Bc([r]))} `)+N1(r)}function df(r){return`"${r}"‎`}function k6(r){if(r.length>=4&&r[2]==$1&&r[3]==$1)throw new Error(`invalid label extension: "${$i(r.slice(0,4))}"`)}function L6(r){for(let t=r.lastIndexOf(95);t>0;)if(r[--t]!==95)throw new Error("underscore allowed only at start")}function $6(r){let e=r[0],t=_1.get(e);if(t)throw Ho(`leading ${t}`);let n=r.length,s=-1;for(let i=1;i<n;i++){e=r[i];let o=_1.get(e);if(o){if(s==i)throw Ho(`${t} + ${o}`);s=i+1,t=o}}if(s==n)throw Ho(`trailing ${t}`)}function Bc(r,e=1/0,t=N1){let n=[];M6(r[0])&&n.push("◌"),r.length>e&&(e>>=1,r=[...r.slice(0,e),8230,...r.slice(-e)]);let s=0,i=r.length;for(let o=0;o<i;o++){let a=r[o];G1(a)&&(n.push($i(r.slice(s,o))),n.push(t(a)),s=o+1)}return n.push($i(r.slice(s,i))),n.join("")}function M6(r){return ff(),Ds.has(r)}function G1(r){return ff(),z1.has(r)}function F6(r){return V6(H6(r,B6,W6))}function H6(r,e,t){if(!r)return[];ff();let n=0;return r.split(M1).map(s=>{let i=A6(s),o={input:i,offset:n};n+=i.length+1;try{let a=o.tokens=K6(i,e,t),c=a.length,l;if(!c)throw new Error("empty label");let u=o.output=a.flat();if(L6(u),!(o.emoji=c>1||a[0].is_emoji)&&u.every(d=>d<128))k6(u),l="ASCII";else{let d=a.flatMap(p=>p.is_emoji?[]:p);if(!d.length)l="Emoji";else{if(Ds.has(u[0]))throw Ho("leading combining mark");for(let b=1;b<c;b++){let I=a[b];if(!I.is_emoji&&Ds.has(I[0]))throw Ho(`emoji + combining mark: "${$i(a[b-1])} + ${Bc([I[0]])}"`)}$6(u);let p=Tc(new Set(d)),[m]=z6(p);G6(m,d),j6(m,p),l=m.N}}o.type=l}catch(a){o.error=a}return o})}function j6(r,e){let t,n=[];for(let s of e){let i=Hi.get(s);if(i===H1)return;if(i){let o=i.M.get(s);if(t=t?t.filter(a=>o.has(a)):Tc(o),!t.length)return}else n.push(s)}if(t){for(let s of t)if(n.every(i=>Fo(s,i)))throw new Error(`whole-script confusable: ${r.N}/${s.N}`)}}function z6(r){let e=Fi;for(let t of r){let n=e.filter(s=>Fo(s,t));if(!n.length)throw Fi.some(s=>Fo(s,t))?W1(e[0],t):K1(t);if(e=n,n.length==1)break}return e}function V6(r){return r.map(({input:e,error:t,output:n})=>{if(t){let s=t.message;throw new Error(r.length==1?s:`Invalid label ${df(Bc(e,63))}: ${s}`)}return $i(n)}).join(M1)}function K1(r){return new Error(`disallowed character: ${hf(r)}`)}function W1(r,e){let t=hf(e),n=Fi.find(s=>s.P.has(e));return n&&(t=`${n.N} ${t}`),new Error(`illegal mixture: ${r.N} + ${t}`)}function Ho(r){return new Error(`illegal placement: ${r}`)}function G6(r,e){for(let t of e)if(!Fo(r,t))throw W1(r,t);if(r.M){let t=L1(e);for(let n=1,s=t.length;n<s;n++)if(cf.has(t[n])){let i=n+1;for(let o;i<s&&cf.has(o=t[i]);i++)for(let a=n;a<i;a++)if(t[a]==o)throw new Error(`duplicate non-spacing marks: ${hf(o)}`);if(i-n>I1)throw new Error(`excessive non-spacing marks: ${df(Bc(t.slice(n-1,i)))} (${i-n}/${I1})`);n=i}}}function K6(r,e,t){let n=[],s=[];for(r=r.slice().reverse();r.length;){let i=q6(r);if(i)s.length&&(n.push(e(s)),s=[]),n.push(t(i));else{let o=r.pop();if(Ts.has(o))s.push(o);else{let a=af.get(o);if(a)s.push(...a);else if(!j1.has(o))throw K1(o)}}}return s.length&&n.push(e(s)),n}function W6(r){return r.filter(e=>e!=F1)}function q6(r,e){let t=uf,n,s=r.length;for(;s&&(t=t.get(r[--s]),!!t);){let{V:i}=t;i&&(n=i,r.length=s)}return n}const q1=new Uint8Array(32);q1.fill(0);function Q1(r){return N(r.length!==0,"invalid ENS name; empty component","comp",r),r}function pf(r){const e=ht(J1(r)),t=[];if(r.length===0)return t;let n=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(Q1(e.slice(n,s))),n=s+1);return N(n<e.length,"invalid ENS name; empty component","name",r),t.push(Q1(e.slice(n))),t}function J1(r){try{if(r.length===0)throw new Error("empty label");return F6(r)}catch(e){N(!1,`invalid ENS name (${e.message})`,"name",r)}}function Q6(r){try{return pf(r).length!==0}catch{}return!1}function Uc(r){N(typeof r=="string","invalid ENS name; not a string","name",r),N(r.length,"invalid ENS name (empty label)","name",r);let e=q1;const t=pf(r);for(;t.length;)e=Re(ye([e,Re(t.pop())]));return V(e)}function Z1(r,e){const t=e??63;return N(t<=255,"DNS encoded label cannot exceed 255","length",t),V(ye(pf(r).map(n=>{N(n.length<=t,`label ${JSON.stringify(r)} exceeds ${t} bytes`,"name",r);const s=new Uint8Array(n.length+1);return s.set(n,1),s[0]=s.length-1,s})))+"00"}function gf(r){return typeof r=="string"&&(r=ht(r)),Re(ye([ht(l1),ht(String(r.length)),r]))}function J6(r,e){const t=gf(r);return Uo(t,e)}const Z6=new RegExp("^bytes([0-9]+)$"),Y6=new RegExp("^(u?int)([0-9]*)$"),X6=new RegExp("^(.*)\\[([0-9]*)\\]$");function Y1(r,e,t){switch(r){case"address":return q(t?ur(e,32):fe(e));case"string":return ht(e);case"bytes":return q(e);case"bool":return e=e?"0x01":"0x00",q(t?ur(e,32):e)}let n=r.match(Y6);if(n){let s=n[1]==="int",i=parseInt(n[2]||"256");return N((!n[2]||n[2]===String(i))&&i%8===0&&i!==0&&i<=256,"invalid number type","type",r),t&&(i=256),s&&(e=cc(e,i)),q(ur(Me(e),i/8))}if(n=r.match(Z6),n){const s=parseInt(n[1]);return N(String(s)===n[1]&&s!==0&&s<=32,"invalid bytes type","type",r),N(Fn(e)===s,`invalid value for ${r}`,"value",e),t?q(oc(e,32)):e}if(n=r.match(X6),n&&Array.isArray(e)){const s=n[1],i=parseInt(n[2]||String(e.length));N(i===e.length,`invalid array length for ${r}`,"value",e);const o=[];return e.forEach(function(a){o.push(Y1(s,a,!0))}),q(ye(o))}N(!1,"invalid type","type",r)}function mf(r,e){N(r.length===e.length,"wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(n,s){t.push(Y1(n,e[s]))}),V(ye(t))}function ev(r,e){return Re(mf(r,e))}function tv(r,e){return Kt(mf(r,e))}const X1=new Uint8Array(32);X1.fill(0);const rv=BigInt(-1),em=BigInt(0),tm=BigInt(1),nv=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function sv(r){const e=q(r),t=e.length%32;return t?ye([e,X1.slice(t)]):V(e)}const iv=Kr(tm,32),ov=Kr(em,32),rm={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},bf=["name","version","chainId","verifyingContract","salt"];function nm(r){return function(e){return N(typeof e=="string",`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const av={name:nm("name"),version:nm("version"),chainId:function(r){const e=Y(r,"domain.chainId");return N(e>=0,"invalid chain ID","domain.chainId",r),Number.isSafeInteger(e)?Number(e):fr(e)},verifyingContract:function(r){try{return fe(r).toLowerCase()}catch{}N(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){const e=q(r,"domain.salt");return N(e.length===32,'invalid domain value "salt"',"domain.salt",r),V(e)}};function xf(r){{const e=r.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",n=parseInt(e[2]);N(n%8===0&&n!==0&&n<=256&&e[2]===String(n),"invalid numeric width","type",r);const s=Hn(nv,t?n-1:n),i=t?(s+tm)*rv:em;return function(o){const a=Y(o,"value");return N(a>=i&&a<=s,`value out-of-bounds for ${r}`,"value",a),Kr(t?cc(a,256):a,32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return N(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",r),function(n){const s=q(n);return N(s.length===t,`invalid length for ${r}`,"value",n),sv(n)}}}switch(r){case"address":return function(e){return ur(fe(e),32)};case"bool":return function(e){return e?iv:ov};case"bytes":return function(e){return Re(e)};case"string":return function(e){return Xr(e)}}return null}function sm(r,e){return`${r}(${e.map(({name:t,type:n})=>n+" "+t).join(",")})`}function kc(r){const e=r.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:r}}class Tt{primaryType;#e;get types(){return JSON.parse(this.#e)}#t;#r;constructor(e){this.#t=new Map,this.#r=new Map;const t=new Map,n=new Map,s=new Map,i={};Object.keys(e).forEach(c=>{i[c]=e[c].map(({name:l,type:u})=>{let{base:f,index:d}=kc(u);return f==="int"&&!e.int&&(f="int256"),f==="uint"&&!e.uint&&(f="uint256"),{name:l,type:f+(d||"")}}),t.set(c,new Set),n.set(c,[]),s.set(c,new Set)}),this.#e=JSON.stringify(i);for(const c in i){const l=new Set;for(const u of i[c]){N(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);const f=kc(u.type).base;N(f!==c,`circular type reference to ${JSON.stringify(f)}`,"types",e),!xf(f)&&(N(n.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),n.get(f).push(c),t.get(c).add(f))}}const o=Array.from(n.keys()).filter(c=>n.get(c).length===0);N(o.length!==0,"missing primary type","types",e),N(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Z(this,{primaryType:o[0]});function a(c,l){N(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(const u of t.get(c))if(n.has(u)){a(u,l);for(const f of l)s.get(f).add(u)}l.delete(c)}a(this.primaryType,new Set);for(const[c,l]of s){const u=Array.from(l);u.sort(),this.#t.set(c,sm(c,i[c])+u.map(f=>sm(f,i[f])).join(""))}}getEncoder(e){let t=this.#r.get(e);return t||(t=this.#n(e),this.#r.set(e,t)),t}#n(e){{const s=xf(e);if(s)return s}const t=kc(e).array;if(t){const s=t.prefix,i=this.getEncoder(s);return o=>{N(t.count===-1||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let a=o.map(i);return this.#t.has(s)&&(a=a.map(Re)),Re(ye(a))}}const n=this.types[e];if(n){const s=Xr(this.#t.get(e));return i=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(i[a]);return this.#t.has(c)?Re(l):l});return o.unshift(s),ye(o)}}N(!1,`unknown type: ${e}`,"type",e)}encodeType(e){const t=this.#t.get(e);return N(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Re(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(xf(e))return n(e,t);const s=kc(e).array;if(s)return N(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(o=>this._visit(s.prefix,o,n));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,t[a],n),o),{});N(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Tt(e)}static getPrimaryType(e){return Tt.from(e).primaryType}static hashStruct(e,t,n){return Tt.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){if(e[n]==null)continue;const s=rm[n];N(s,`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:s})}return t.sort((n,s)=>bf.indexOf(n.name)-bf.indexOf(s.name)),Tt.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return ye(["0x1901",Tt.hashDomain(e),Tt.from(t).hash(n)])}static hash(e,t,n){return Re(Tt.encode(e,t,n))}static async resolveNames(e,t,n,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!Ne(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=Tt.from(t);o.visit(n,(a,c)=>(a==="address"&&!Ne(c,20)&&(i[c]="0x"),c));for(const a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&i[c]?i[c]:c),{domain:e,value:n}}static getPayload(e,t,n){Tt.hashDomain(e);const s={},i=[];bf.forEach(c=>{const l=e[c];l!=null&&(s[c]=av[c](l),i.push({name:c,type:rm[c]}))});const o=Tt.from(t);t=o.types;const a=Object.assign({},t);return N(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=i,o.encode(n),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return V(q(l));if(c.match(/^u?int/))return Y(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return N(typeof l=="string","invalid string","value",l),l}N(!1,"unsupported type","type",c)})}}}function cv(r,e,t,n){return Uo(Tt.hash(r,e,t),n)}function qt(r){const e=new Set;return r.forEach(t=>e.add(t)),Object.freeze(e)}const lv=qt("external public payable override".split(" ")),im="constant external internal payable private public pure view override",uv=qt(im.split(" ")),om="constructor error event fallback function receive struct",am=qt(om.split(" ")),cm="calldata memory storage payable indexed",fv=qt(cm.split(" ")),hv=[om,cm,"tuple returns",im].join(" "),dv=qt(hv.split(" ")),pv={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},gv=new RegExp("^(\\s*)"),mv=new RegExp("^([0-9]+)"),bv=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),lm=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),um=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Ar{#e;#t;get offset(){return this.#e}get length(){return this.#t.length-this.#e}constructor(e){this.#e=0,this.#t=e.slice()}clone(){return new Ar(this.#t)}reset(){this.#e=0}#r(e=0,t=0){return new Ar(this.#t.slice(e,t).map(n=>Object.freeze(Object.assign({},n,{match:n.match-e,linkBack:n.linkBack-e,linkNext:n.linkNext-e}))))}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=this.#r(this.#e+1,e.match+1);return this.#e=e.match+1,t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;this.#e<e.match-1;){const n=this.peek().linkNext;t.push(this.#r(this.#e+1,n)),this.#e=n}return this.#e=e.match+1,t}peek(){if(this.#e>=this.#t.length)throw new Error("out-of-bounds");return this.#t[this.#e]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return this.#e++,e}toString(){const e=[];for(let t=this.#e;t<this.#t.length;t++){const n=this.#t[t];e.push(`${n.type}:${n.text}`)}return`<TokenString ${e.join(" ")}>`}}function es(r){const e=[],t=o=>{const a=i<r.length?JSON.stringify(r[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let n=[],s=[],i=0;for(;i<r.length;){let o=r.substring(i),a=o.match(gv);a&&(i+=a[1].length,o=r.substring(i));const c={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let l=pv[o[0]]||"";if(l){if(c.type=l,c.text=o[0],i++,l==="OPEN_PAREN")n.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")n.length===0&&t("no matching open bracket"),c.match=n.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;u=f+u,e[e.length-1].value=ae(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(bv),a){if(c.text=a[1],i+=c.text.length,dv.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(um)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(mv),a){c.text=a[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new Ar(e.map(o=>Object.freeze(o)))}function fm(r,e){let t=[];for(const n in e.keys())r.has(n)&&t.push(n);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function Lc(r,e){if(e.peekKeyword(am)){const t=e.pop().text;if(t!==r)throw new Error(`expected ${r}, got ${t}`)}return e.popType("ID")}function vn(r,e){const t=new Set;for(;;){const n=r.peekType("KEYWORD");if(n==null||e&&!e.has(n))break;if(r.pop(),t.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);t.add(n)}return Object.freeze(t)}function hm(r){let e=vn(r,uv);return fm(e,qt("constant payable nonpayable".split(" "))),fm(e,qt("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function En(r,e){return r.popParams().map(t=>Ue.from(t,e))}function dm(r){if(r.peekType("AT")){if(r.pop(),r.peekType("NUMBER"))return Y(r.pop().text);throw new Error("invalid gas")}return null}function Bs(r){if(r.length)throw new Error(`unexpected tokens at offset ${r.offset}: ${r.toString()}`)}const xv=new RegExp(/^(.*)\[([0-9]*)\]$/);function pm(r){const e=r.match(um);if(N(e,"invalid type","type",r),r==="uint")return"uint256";if(r==="int")return"int256";if(e[2]){const t=parseInt(e[2]);N(t!==0&&t<=32,"invalid bytes length","type",r)}else if(e[3]){const t=parseInt(e[3]);N(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",r)}return r}const ze={},rr=Symbol.for("_ethers_internal"),gm="_ParamTypeInternal",mm="_ErrorInternal",bm="_EventInternal",xm="_ConstructorInternal",wm="_FallbackInternal",ym="_FunctionInternal",vm="_StructInternal";class Ue{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,n,s,i,o,a,c){if(gn(e,ze,"ParamType"),Object.defineProperty(this,rr,{value:gm}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");Z(this,{name:t,type:n,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const n=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=n,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(n=>n.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return e.map(s=>n.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const n=this;return e.map((s,i)=>n.components[i].walk(s,t))}return t(this.type,e)}#e(e,t,n,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=t.slice();a.forEach((c,l)=>{o.#e(e,c,n,u=>{a[l]=u})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in t))throw new Error(`missing value for component ${c.name}`);return t[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{o[l].#e(e,c,n,u=>{a[l]=u})}),s(a);return}const i=n(this.type,t);i.then?e.push((async function(){s(await i)})()):s(i)}async walkAsync(e,t){const n=[],s=[e];return this.#e(n,e,t,i=>{s[0]=i}),n.length&&await Promise.all(n),s[0]}static from(e,t){if(Ue.isParamType(e))return e;if(typeof e=="string")try{return Ue.from(es(e),t)}catch{N(!1,"invalid param type","obj",e)}else if(e instanceof Ar){let a="",c="",l=null;vn(e,qt(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(b=>Ue.from(b)),a=`tuple(${l.map(b=>b.format()).join(",")})`):(a=pm(e.popType("TYPE")),c=a);let u=null,f=null;for(;e.length&&e.peekType("BRACKET");){const b=e.pop();u=new Ue(ze,"",a,c,null,l,f,u),f=b.value,a+=b.text,c="array",l=null}let d=null;if(vn(e,fv).has("indexed")){if(!t)throw new Error("");d=!0}const m=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Ue(ze,m,a,c,d,l,f,u)}const n=e.name;N(!n||typeof n=="string"&&n.match(lm),"invalid name","obj.name",n);let s=e.indexed;s!=null&&(N(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(xv);if(o){const a=parseInt(o[2]||"-1"),c=Ue.from({type:o[1],components:e.components});return new Ue(ze,n||"",i,"array",s,null,a,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(l=>Ue.from(l)):null;return new Ue(ze,n||"",i,"tuple",s,a,null,null)}return i=pm(e.type),new Ue(ze,n||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[rr]===gm}}class ts{type;inputs;constructor(e,t,n){gn(e,ze,"Fragment"),n=Object.freeze(n.slice()),Z(this,{type:t,inputs:n})}static from(e){if(typeof e=="string"){try{ts.from(JSON.parse(e))}catch{}return ts.from(es(e))}if(e instanceof Ar)switch(e.peekKeyword(am)){case"constructor":return en.from(e);case"error":return Qt.from(e);case"event":return $r.from(e);case"fallback":case"receive":return tn.from(e);case"function":return Mr.from(e);case"struct":return rs.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return en.from(e);case"error":return Qt.from(e);case"event":return $r.from(e);case"fallback":case"receive":return tn.from(e);case"function":return Mr.from(e);case"struct":return rs.from(e)}$(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}N(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return en.isFragment(e)}static isError(e){return Qt.isFragment(e)}static isEvent(e){return $r.isFragment(e)}static isFunction(e){return Mr.isFragment(e)}static isStruct(e){return rs.isFragment(e)}}class jo extends ts{name;constructor(e,t,n,s){super(e,t,s),N(typeof n=="string"&&n.match(lm),"invalid identifier","name",n),s=Object.freeze(s.slice()),Z(this,{name:n})}}function zo(r,e){return"("+e.map(t=>t.format(r)).join(r==="full"?", ":",")+")"}class Qt extends jo{constructor(e,t,n){super(e,"error",t,n),Object.defineProperty(this,rr,{value:mm})}get selector(){return Xr(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+zo(e,this.inputs)),t.join(" ")}static from(e){if(Qt.isFragment(e))return e;if(typeof e=="string")return Qt.from(es(e));if(e instanceof Ar){const t=Lc("error",e),n=En(e);return Bs(e),new Qt(ze,t,n)}return new Qt(ze,e.name,e.inputs?e.inputs.map(Ue.from):[])}static isFragment(e){return e&&e[rr]===mm}}class $r extends jo{anonymous;constructor(e,t,n,s){super(e,"event",t,n),Object.defineProperty(this,rr,{value:bm}),Z(this,{anonymous:s})}get topicHash(){return Xr(this.format("sighash"))}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const t=[];return e!=="sighash"&&t.push("event"),t.push(this.name+zo(e,this.inputs)),e!=="sighash"&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return t=(t||[]).map(s=>Ue.from(s)),new $r(ze,e,t,!1).topicHash}static from(e){if($r.isFragment(e))return e;if(typeof e=="string")try{return $r.from(es(e))}catch{N(!1,"invalid event fragment","obj",e)}else if(e instanceof Ar){const t=Lc("event",e),n=En(e,!0),s=!!vn(e,qt(["anonymous"])).has("anonymous");return Bs(e),new $r(ze,t,n,s)}return new $r(ze,e.name,e.inputs?e.inputs.map(t=>Ue.from(t,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[rr]===bm}}class en extends ts{payable;gas;constructor(e,t,n,s,i){super(e,t,n),Object.defineProperty(this,rr,{value:xm}),Z(this,{payable:s,gas:i})}format(e){if($(e!=null&&e!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),e==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});const t=[`constructor${zo(e,this.inputs)}`];return this.payable&&t.push("payable"),this.gas!=null&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(en.isFragment(e))return e;if(typeof e=="string")try{return en.from(es(e))}catch{N(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof Ar){vn(e,qt(["constructor"]));const t=En(e),n=!!vn(e,lv).has("payable"),s=dm(e);return Bs(e),new en(ze,"constructor",t,n,s)}return new en(ze,"constructor",e.inputs?e.inputs.map(Ue.from):[],!!e.payable,e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[rr]===xm}}class tn extends ts{payable;constructor(e,t,n){super(e,"fallback",t),Object.defineProperty(this,rr,{value:wm}),Z(this,{payable:n})}format(e){const t=this.inputs.length===0?"receive":"fallback";if(e==="json"){const n=this.payable?"payable":"nonpayable";return JSON.stringify({type:t,stateMutability:n})}return`${t}()${this.payable?" payable":""}`}static from(e){if(tn.isFragment(e))return e;if(typeof e=="string")try{return tn.from(es(e))}catch{N(!1,"invalid fallback fragment","obj",e)}else if(e instanceof Ar){const t=e.toString(),n=e.peekKeyword(qt(["fallback","receive"]));if(N(n,"type must be fallback or receive","obj",t),e.popKeyword(qt(["fallback","receive"]))==="receive"){const a=En(e);return N(a.length===0,"receive cannot have arguments","obj.inputs",a),vn(e,qt(["payable"])),Bs(e),new tn(ze,[],!0)}let i=En(e);i.length?N(i.length===1&&i[0].type==="bytes","invalid fallback inputs","obj.inputs",i.map(a=>a.format("minimal")).join(", ")):i=[Ue.from("bytes")];const o=hm(e);if(N(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),vn(e,qt(["returns"])).has("returns")){const a=En(e);N(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(c=>c.format("minimal")).join(", "))}return Bs(e),new tn(ze,i,o==="payable")}if(e.type==="receive")return new tn(ze,[],!0);if(e.type==="fallback"){const t=[Ue.from("bytes")],n=e.stateMutability==="payable";return new tn(ze,t,n)}N(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[rr]===wm}}class Mr extends jo{constant;outputs;stateMutability;payable;gas;constructor(e,t,n,s,i,o){super(e,"function",t,s),Object.defineProperty(this,rr,{value:ym}),i=Object.freeze(i.slice()),Z(this,{constant:n==="view"||n==="pure",gas:o,outputs:i,payable:n==="payable",stateMutability:n})}get selector(){return Xr(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});const t=[];return e!=="sighash"&&t.push("function"),t.push(this.name+zo(e,this.inputs)),e!=="sighash"&&(this.stateMutability!=="nonpayable"&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(zo(e,this.outputs))),this.gas!=null&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return t=(t||[]).map(s=>Ue.from(s)),new Mr(ze,e,"view",t,[],null).selector}static from(e){if(Mr.isFragment(e))return e;if(typeof e=="string")try{return Mr.from(es(e))}catch{N(!1,"invalid function fragment","obj",e)}else if(e instanceof Ar){const n=Lc("function",e),s=En(e),i=hm(e);let o=[];vn(e,qt(["returns"])).has("returns")&&(o=En(e));const a=dm(e);return Bs(e),new Mr(ze,n,i,s,o,a)}let t=e.stateMutability;return t==null&&(t="payable",typeof e.constant=="boolean"?(t="view",e.constant||(t="payable",typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable"))):typeof e.payable=="boolean"&&!e.payable&&(t="nonpayable")),new Mr(ze,e.name,t,e.inputs?e.inputs.map(Ue.from):[],e.outputs?e.outputs.map(Ue.from):[],e.gas!=null?e.gas:null)}static isFragment(e){return e&&e[rr]===ym}}class rs extends jo{constructor(e,t,n){super(e,"struct",t,n),Object.defineProperty(this,rr,{value:vm})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return rs.from(es(e))}catch{N(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ar){const t=Lc("struct",e),n=En(e);return Bs(e),new rs(ze,t,n)}return new rs(ze,e.name,e.inputs?e.inputs.map(Ue.from):[])}static isFragment(e){return e&&e[rr]===vm}}const Fr=new Map;Fr.set(0,"GENERIC_PANIC"),Fr.set(1,"ASSERT_FALSE"),Fr.set(17,"OVERFLOW"),Fr.set(18,"DIVIDE_BY_ZERO"),Fr.set(33,"ENUM_RANGE_ERROR"),Fr.set(34,"BAD_STORAGE_DATA"),Fr.set(49,"STACK_UNDERFLOW"),Fr.set(50,"ARRAY_RANGE_ERROR"),Fr.set(65,"OUT_OF_MEMORY"),Fr.set(81,"UNINITIALIZED_FUNCTION_CALL");const wv=new RegExp(/^bytes([0-9]*)$/),yv=new RegExp(/^(u?int)([0-9]*)$/);let wf=null,Em=1024;function vv(r,e,t,n){let s="missing revert data",i=null;const o=null;let a=null;if(t){s="execution reverted";const l=q(t);if(t=V(t),l.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(V(l.slice(0,4))==="0x08c379a0")try{i=n.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(V(l.slice(0,4))==="0x4e487b71")try{const u=Number(n.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${Fr.get(u)||"UNKNOWN"}(${u})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?fe(e.to):null,data:e.data||"0x"};return e.from&&(c.from=fe(e.from)),Te(s,"CALL_EXCEPTION",{action:r,data:t,reason:i,transaction:c,invocation:o,revert:a})}class ns{#e(e){if(e.isArray())return new k8(this.#e(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new _c(e.components.map(n=>this.#e(n)),e.name);switch(e.baseType){case"address":return new B8(e.name);case"bool":return new L8(e.name);case"string":return new K8(e.name);case"bytes":return new $8(e.name);case"":return new H8(e.name)}let t=e.type.match(yv);if(t){let n=parseInt(t[2]||"256");return N(n!==0&&n<=256&&n%8===0,"invalid "+t[1]+" bit length","param",e),new G8(n/8,t[1]==="int",e.name)}if(t=e.type.match(wv),t){let n=parseInt(t[1]);return N(n!==0&&n<=32,"invalid bytes length","param",e),new M8(n,e.name)}N(!1,"invalid type","type",e.type)}getDefaultValue(e){const t=e.map(s=>this.#e(Ue.from(s)));return new _c(t,"_").defaultValue()}encode(e,t){gu(t.length,e.length,"types/values length mismatch");const n=e.map(o=>this.#e(Ue.from(o))),s=new _c(n,"_"),i=new _u;return s.encode(i,t),i.data}decode(e,t,n){const s=e.map(o=>this.#e(Ue.from(o)));return new _c(s,"_").decode(new Iu(t,n,Em))}static _setDefaultMaxInflation(e){N(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),Em=e}static defaultAbiCoder(){return wf==null&&(wf=new ns),wf}static getBuiltinCallException(e,t,n){return vv(e,t,n,ns.defaultAbiCoder())}}function Ev(r){const e=ht(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return oc(e,32)}function Av(r){const e=q(r,"bytes");if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return jn(e.slice(0,t))}class Am{fragment;name;signature;topic;args;constructor(e,t,n){const s=e.name,i=e.format();Z(this,{fragment:e,name:s,signature:i,topic:t,args:n})}}class _m{fragment;name;args;signature;selector;value;constructor(e,t,n,s){const i=e.name,o=e.format();Z(this,{fragment:e,name:i,args:n,signature:o,selector:t,value:s})}}class Im{fragment;name;args;signature;selector;constructor(e,t,n){const s=e.name,i=e.format();Z(this,{fragment:e,name:s,args:n,signature:i,selector:t})}}class yf{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){Z(this,{hash:e,_isIndexed:!0})}}const Cm={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Sm={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:r=>`reverted with reason string ${JSON.stringify(r)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:r=>{let e="unknown panic code";return r>=0&&r<=255&&Cm[r.toString()]&&(e=Cm[r.toString()]),`reverted with panic code 0x${r.toString(16)} (${e})`}}};class An{fragments;deploy;fallback;receive;#e;#t;#r;#n;constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,this.#r=new Map,this.#e=new Map,this.#t=new Map;const n=[];for(const o of t)try{n.push(ts.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}Z(this,{fragments:Object.freeze(n)});let s=null,i=!1;this.#n=this.getAbiCoder(),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Z(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(N(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":c=this.#r;break;case"event":c=this.#t;break;case"error":c=this.#e;break;default:return}const l=o.format();c.has(l)||c.set(l,o)}),this.deploy||Z(this,{deploy:en.from("constructor()")}),Z(this,{fallback:s,receive:i})}format(e){const t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return ns.defaultAbiCoder()}#s(e,t,n){if(Ne(e)){const i=e.toLowerCase();for(const o of this.#r.values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of this.#r)o.split("(")[0]===e&&i.push(a);if(t){const o=t.length>0?t[t.length-1]:null;let a=t.length,c=!0;je.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let l=i.length-1;l>=0;l--){const u=i[l].inputs.length;u!==a&&(!c||u!==a-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){const u=i[l].inputs;for(let f=0;f<t.length;f++)if(je.isTyped(t[f])){if(f>=u.length){if(t[f].type==="overrides")continue;i.splice(l,1);break}if(t[f].type!==u[f].baseType){i.splice(l,1);break}}}}if(i.length===1&&t&&t.length!==i[0].inputs.length){const o=t[t.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&n){const o=i.map(a=>JSON.stringify(a.format())).join(", ");N(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=this.#r.get(Mr.from(e).format());return s||null}getFunctionName(e){const t=this.#s(e,null,!1);return N(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#s(e,null,!1)}getFunction(e,t){return this.#s(e,t||null,!0)}forEachFunction(e){const t=Array.from(this.#r.keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){const s=t[n];e(this.#r.get(s),n)}}#o(e,t,n){if(Ne(e)){const i=e.toLowerCase();for(const o of this.#t.values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of this.#t)o.split("(")[0]===e&&i.push(a);if(t){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<t.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let c=0;c<t.length;c++)if(je.isTyped(t[c])&&t[c].type!==a[c].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&n){const o=i.map(a=>JSON.stringify(a.format())).join(", ");N(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=this.#t.get($r.from(e).format());return s||null}getEventName(e){const t=this.#o(e,null,!1);return N(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#o(e,null,!1)}getEvent(e,t){return this.#o(e,t||null,!0)}forEachEvent(e){const t=Array.from(this.#t.keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){const s=t[n];e(this.#t.get(s),n)}}getError(e,t){if(Ne(e)){const s=e.toLowerCase();if(Sm[s])return Qt.from(Sm[s].signature);for(const i of this.#e.values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of this.#e)i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?Qt.from("error Error(string)"):e==="Panic"?Qt.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");N(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=Qt.from(e).format(),e==="Error(string)")return Qt.from("error Error(string)");if(e==="Panic(uint256)")return Qt.from("error Panic(uint256)");const n=this.#e.get(e);return n||null}forEachError(e){const t=Array.from(this.#e.keys());t.sort((n,s)=>n.localeCompare(s));for(let n=0;n<t.length;n++){const s=t[n];e(this.#e.get(s),n)}}_decodeParams(e,t){return this.#n.decode(e,t)}_encodeParams(e,t){return this.#n.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const n=this.getError(e);N(n,"unknown error","fragment",e),e=n}return N(Be(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Be(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const n=this.getError(e);N(n,"unknown error","fragment",e),e=n}return ye([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const n=this.getFunction(e);N(n,"unknown function","fragment",e),e=n}return N(Be(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Be(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const n=this.getFunction(e);N(n,"unknown function","fragment",e),e=n}return ye([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const i=this.getFunction(e);N(i,"unknown function","fragment",e),e=i}let n="invalid length for result data";const s=vt(t);if(s.length%32===0)try{return this.#n.decode(e.outputs,s)}catch{n="could not decode result data"}$(!1,n,"BAD_DATA",{value:V(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){const n=q(e,"data"),s=ns.getBuiltinCallException("call",t,n);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=V(n.slice(0,4)),c=this.getError(a);if(c)try{const l=this.#n.decode(c.inputs,n.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(t);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){const n=this.getFunction(e);N(n,"unknown function","fragment",e),e=n}return V(this.#n.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const i=this.getEvent(e);N(i,"unknown event","eventFragment",e),e=i}$(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const n=[];e.anonymous||n.push(e.topicHash);const s=(i,o)=>i.type==="string"?Xr(o):i.type==="bytes"?Re(V(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Kr(o):i.type.match(/^bytes/)?o=oc(o,32):i.type==="address"&&this.#n.encode(["address"],[o]),ur(V(o),32));for(t.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){N(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?N(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?n.push(i.map(c=>s(a,c))):n.push(s(a,i))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,t){if(typeof e=="string"){const o=this.getEvent(e);N(o,"unknown event","eventFragment",e),e=o}const n=[],s=[],i=[];return e.anonymous||n.push(e.topicHash),N(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{const c=t[a];if(o.indexed)if(o.type==="string")n.push(Xr(c));else if(o.type==="bytes")n.push(Re(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this.#n.encode([o.type],[c]))}else s.push(o),i.push(c)}),{data:this.#n.encode(s,i),topics:n}}decodeEventLog(e,t,n){if(typeof e=="string"){const p=this.getEvent(e);N(p,"unknown event","eventFragment",e),e=p}if(n!=null&&!e.anonymous){const p=e.topicHash;N(Ne(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((p,m)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push(Ue.from({type:"bytes32",name:p.name})),o.push(!0)):(s.push(p),o.push(!1)):(i.push(p),o.push(!1))});const a=n!=null?this.#n.decode(s,ye(n)):null,c=this.#n.decode(i,t,!0),l=[],u=[];let f=0,d=0;return e.inputs.forEach((p,m)=>{let b=null;if(p.indexed)if(a==null)b=new yf(null);else if(o[m])b=new yf(a[d++]);else try{b=a[d++]}catch(I){b=I}else try{b=c[f++]}catch(I){b=I}l.push(b),u.push(p.name||null)}),Qr.fromItems(l,u)}parseTransaction(e){const t=q(e.data,"tx.data"),n=Y(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(V(t.slice(0,4)));if(!s)return null;const i=this.#n.decode(s.inputs,t.slice(4));return new _m(s,s.selector,i,n)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Am(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=V(e),n=this.getError(Be(t,0,4));if(!n)return null;const s=this.#n.decode(n.inputs,Be(t,4));return new Im(n,n.selector,s)}static from(e){return e instanceof An?e:typeof e=="string"?new An(JSON.parse(e)):typeof e.formatJson=="function"?new An(e.formatJson()):typeof e.format=="function"?new An(e.format("json")):new An(e)}}const Om=BigInt(0);function ji(r){return r??null}function Xe(r){return r==null?null:r.toString()}class vf{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,n){Z(this,{gasPrice:ji(e),maxFeePerGas:ji(t),maxPriorityFeePerGas:ji(n)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:n}=this;return{_type:"FeeData",gasPrice:Xe(e),maxFeePerGas:Xe(t),maxPriorityFeePerGas:Xe(n)}}}function zi(r){const e={};r.to&&(e.to=r.to),r.from&&(e.from=r.from),r.data&&(e.data=V(r.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of t)!(s in r)||r[s]==null||(e[s]=Y(r[s],`request.${s}`));const n="type,nonce".split(/,/);for(const s of n)!(s in r)||r[s]==null||(e[s]=ae(r[s],`request.${s}`));return r.accessList&&(e.accessList=yn(r.accessList)),r.authorizationList&&(e.authorizationList=r.authorizationList.slice()),"blockTag"in r&&(e.blockTag=r.blockTag),"enableCcipRead"in r&&(e.enableCcipRead=!!r.enableCcipRead),"customData"in r&&(e.customData=r.customData),"blobVersionedHashes"in r&&r.blobVersionedHashes&&(e.blobVersionedHashes=r.blobVersionedHashes.slice()),"kzg"in r&&(e.kzg=r.kzg),"blobs"in r&&r.blobs&&(e.blobs=r.blobs.map(s=>Io(s)?V(s):Object.assign({},s))),e}class Pm{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#e;constructor(e,t){this.#e=e.transactions.map(n=>typeof n!="string"?new Gi(n,t):n),Z(this,{provider:t,hash:ji(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:ji(e.prevRandao),extraData:e.extraData,baseFeePerGas:ji(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#e.map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=this.#e.slice();return e.length===0?[]:($(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:n,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:f,parentBeaconBlockRoot:d,stateRoot:p,receiptsRoot:m,timestamp:b,transactions:I}=this;return{_type:"Block",baseFeePerGas:Xe(e),difficulty:Xe(t),extraData:n,gasLimit:Xe(s),gasUsed:Xe(i),blobGasUsed:Xe(this.blobGasUsed),excessBlobGas:Xe(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:f,timestamp:b,parentBeaconBlockRoot:d,stateRoot:p,receiptsRoot:m,transactions:I}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#e.length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=this.#e[e];else{const n=e.toLowerCase();for(const s of this.#e)if(typeof s=="string"){if(s!==n)continue;t=s;break}else{if(s.hash!==n)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const n of t)if(n.hash===e)return n;N(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return _v(this)}}class Vi{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const n=Object.freeze(e.topics.slice());Z(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:n,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:n,data:s,index:i,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return $(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return $(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return $(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return Iv(this)}}class Ef{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#e;constructor(e,t){this.#e=Object.freeze(e.logs.map(s=>new Vi(s,t)));let n=Om;e.effectiveGasPrice!=null?n=e.effectiveGasPrice:e.gasPrice!=null&&(n=e.gasPrice),Z(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:n,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#e}toJSON(){const{to:e,from:t,contractAddress:n,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:u,root:f}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:n,cumulativeGasUsed:Xe(this.cumulativeGasUsed),from:t,gasPrice:Xe(this.gasPrice),blobGasUsed:Xe(this.blobGasUsed),blobGasPrice:Xe(this.blobGasPrice),gasUsed:Xe(this.gasUsed),hash:s,index:i,logs:l,logsBloom:c,root:f,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Rm(this)}reorderedEvent(e){return $(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Nm(this,e)}}class Gi{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#e;constructor(e,t){this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,this.#e=-1}toJSON(){const{blockNumber:e,blockHash:t,index:n,hash:s,type:i,to:o,from:a,nonce:c,data:l,signature:u,accessList:f,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:Xe(this.chainId),data:l,from:a,gasLimit:Xe(this.gasLimit),gasPrice:Xe(this.gasPrice),hash:s,maxFeePerGas:Xe(this.maxFeePerGas),maxPriorityFeePerGas:Xe(this.maxPriorityFeePerGas),maxFeePerBlobGas:Xe(this.maxFeePerBlobGas),nonce:c,signature:u,to:o,index:n,type:i,value:Xe(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const n=await this.getTransaction();n&&(e=n.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:n}=await yt({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:n-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const n=e??1,s=t??0;let i=this.#e,o=-1,a=i===-1;const c=async()=>{if(a)return null;const{blockNumber:d,nonce:p}=await yt({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=d;return}if(a)return null;const m=await this.getTransaction();if(!(m&&m.blockNumber!=null))for(o===-1&&(o=i-3,o<this.#e&&(o=this.#e));o<=d;){if(a)return null;const b=await this.provider.getBlock(o,!0);if(b==null)return;for(const I of b)if(I===this.hash)return;for(let I=0;I<b.length;I++){const _=await b.getTransaction(I);if(_.from===this.from&&_.nonce===this.nonce){if(a)return null;const A=await this.provider.getTransactionReceipt(_.hash);if(A==null||d-A.blockNumber+1<n)return;let v="replaced";_.data===this.data&&_.to===this.to&&_.value===this.value?v="repriced":_.data==="0x"&&_.from===_.to&&_.value===Om&&(v="cancelled"),$(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:v==="replaced"||v==="cancelled",reason:v,replacement:_.replaceableTransaction(i),hash:_.hash,receipt:A})}}o++}},l=d=>{if(d==null||d.status!==0)return d;$(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:d.to,from:d.from,data:""},receipt:d})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return l(u);if(u){if(n===1||await u.confirmations()>=n)return l(u)}else if(await c(),n===0)return null;return await new Promise((d,p)=>{const m=[],b=()=>{m.forEach(_=>_())};if(m.push(()=>{a=!0}),s>0){const _=setTimeout(()=>{b(),p(Te("wait for transaction timeout","TIMEOUT"))},s);m.push(()=>{clearTimeout(_)})}const I=async _=>{if(await _.confirmations()>=n){b();try{d(l(_))}catch(A){p(A)}}};if(m.push(()=>{this.provider.off(this.hash,I)}),this.provider.on(this.hash,I),i>=0){const _=async()=>{try{await c()}catch(A){if(Ze(A,"TRANSACTION_REPLACED")){b(),p(A);return}}a||this.provider.once("block",_)};m.push(()=>{this.provider.off("block",_)}),this.provider.once("block",_)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return $(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Rm(this)}reorderedEvent(e){return $(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),$(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Nm(this,e)}replaceableTransaction(e){N(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Gi(this,this.provider);return t.#e=e,t}}function _v(r){return{orphan:"drop-block",hash:r.hash,number:r.number}}function Nm(r,e){return{orphan:"reorder-transaction",tx:r,other:e}}function Rm(r){return{orphan:"drop-transaction",tx:r}}function Iv(r){return{orphan:"drop-log",log:{transactionHash:r.transactionHash,blockHash:r.blockHash,blockNumber:r.blockNumber,address:r.address,data:r.data,topics:Object.freeze(r.topics.slice()),index:r.index}}}class $c extends Vi{interface;fragment;args;constructor(e,t,n){super(e,e.provider);const s=t.decodeEventLog(n,e.data,e.topics);Z(this,{args:s,fragment:n,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Af extends Vi{error;constructor(e,t){super(e,e.provider),Z(this,{error:t})}}class Dm extends Ef{#e;constructor(e,t,n){super(n,t),this.#e=e}get logs(){return super.logs.map(e=>{const t=e.topics.length?this.#e.getEvent(e.topics[0]):null;if(t)try{return new $c(e,this.#e,t)}catch(n){return new Af(e,n)}return e})}}class Mc extends Gi{#e;constructor(e,t,n){super(n,t),this.#e=e}async wait(e,t){const n=await super.wait(e,t);return n==null?null:new Dm(this.#e,this.provider,n)}}class _f extends wu{log;constructor(e,t,n,s){super(e,t,n),Z(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Tm extends _f{constructor(e,t,n,s,i){super(e,t,n,new $c(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);Z(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Bm=BigInt(0);function Um(r){return r&&typeof r.call=="function"}function km(r){return r&&typeof r.estimateGas=="function"}function Fc(r){return r&&typeof r.resolveName=="function"}function Lm(r){return r&&typeof r.sendTransaction=="function"}function $m(r){if(r!=null){if(Fc(r))return r;if(r.provider)return r.provider}}class Cv{#e;fragment;constructor(e,t,n){if(Z(this,{fragment:t}),t.inputs.length<n.length)throw new Error("too many arguments");const s=Us(e.runner,"resolveName"),i=Fc(s)?s:null;this.#e=(async function(){const o=await Promise.all(t.inputs.map((a,c)=>n[c]==null?null:a.walkAsync(n[c],(u,f)=>u==="address"?Array.isArray(f)?Promise.all(f.map(d=>pt(d,i))):pt(f,i):f)));return e.interface.encodeFilterTopics(t,o)})()}getTopicFilter(){return this.#e}}function Us(r,e){return r==null?null:typeof r[e]=="function"?r:r.provider&&typeof r.provider[e]=="function"?r.provider:null}function ks(r){return r==null?null:r.provider||null}async function If(r,e){const t=je.dereference(r,"overrides");N(typeof t=="object","invalid overrides parameter","overrides",r);const n=zi(t);return N(n.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),N(n.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function Mm(r,e,t){const n=Us(r,"resolveName"),s=Fc(n)?n:null;return await Promise.all(e.map((i,o)=>i.walkAsync(t[o],(a,c)=>(c=je.dereference(c,a),a==="address"?pt(c,s):c))))}function Sv(r){const e=async function(o){const a=await If(o,["data"]);a.to=await r.getAddress(),a.from&&(a.from=await pt(a.from,$m(r.runner)));const c=r.interface,l=Y(a.value||Bm,"overrides.value")===Bm,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&N(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),N(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const f=c.receive||c.fallback&&c.fallback.payable;return N(f||l,"cannot send value to non-payable fallback","overrides.value",a.value),N(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},t=async function(o){const a=Us(r.runner,"call");$(Um(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(l){throw ic(l)&&l.data?r.interface.makeError(l.data,c):l}},n=async function(o){const a=r.runner;$(Lm(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),l=ks(r.runner);return new Mc(r.interface,l,c)},s=async function(o){const a=Us(r.runner,"estimateGas");return $(km(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await n(o);return Z(i,{_contract:r,estimateGas:s,populateTransaction:e,send:n,staticCall:t}),i}function Ov(r,e){const t=function(...l){const u=r.interface.getFunction(e,l);return $(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},n=async function(...l){const u=t(...l);let f={};if(u.inputs.length+1===l.length&&(f=await If(l.pop()),f.from&&(f.from=await pt(f.from,$m(r.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const d=await Mm(r.runner,u.inputs,l);return Object.assign({},f,await yt({to:r.getAddress(),data:r.interface.encodeFunctionData(u,d)}))},s=async function(...l){const u=await a(...l);return u.length===1?u[0]:u},i=async function(...l){const u=r.runner;$(Lm(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await u.sendTransaction(await n(...l)),d=ks(r.runner);return new Mc(r.interface,d,f)},o=async function(...l){const u=Us(r.runner,"estimateGas");return $(km(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...l))},a=async function(...l){const u=Us(r.runner,"call");$(Um(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await n(...l);let d="0x";try{d=await u.call(f)}catch(m){throw ic(m)&&m.data?r.interface.makeError(m.data,f):m}const p=t(...l);return r.interface.decodeFunctionResult(p,d)},c=async(...l)=>t(...l).constant?await s(...l):await i(...l);return Z(c,{name:r.interface.getFunctionName(e),_contract:r,_key:e,getFragment:t,estimateGas:o,populateTransaction:n,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=r.interface.getFunction(e);return $(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function Pv(r,e){const t=function(...s){const i=r.interface.getEvent(e,s);return $(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},n=function(...s){return new Cv(r,t(...s),s)};return Z(n,{name:r.interface.getEventName(e),_contract:r,_key:e,getFragment:t}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=r.interface.getEvent(e);return $(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),n}const Hc=Symbol.for("_ethersInternal_contract"),Fm=new WeakMap;function Nv(r,e){Fm.set(r[Hc],e)}function dr(r){return Fm.get(r[Hc])}function Rv(r){return r&&typeof r=="object"&&"getTopicFilter"in r&&typeof r.getTopicFilter=="function"&&r.fragment}async function Cf(r,e){let t,n=null;if(Array.isArray(e)){const i=function(o){if(Ne(o,32))return o;const a=r.interface.getEvent(o);return N(a,"unknown fragment","name",o),a.topicHash};t=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?t=[null]:typeof e=="string"?Ne(e,32)?t=[e]:(n=r.interface.getEvent(e),N(n,"unknown fragment","event",e),t=[n.topicHash]):Rv(e)?t=await e.getTopicFilter():"fragment"in e?(n=e.fragment,t=[n.topicHash]):N(!1,"unknown event name","event",e);t=t.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=t.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:n,tag:s,topics:t}}async function Vo(r,e){const{subs:t}=dr(r);return t.get((await Cf(r,e)).tag)||null}async function Hm(r,e,t){const n=ks(r.runner);$(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await Cf(r,t),{addr:a,subs:c}=dr(r);let l=c.get(i);if(!l){const f={address:a||r,topics:o},d=I=>{let _=s;if(_==null)try{_=r.interface.getEvent(I.topics[0])}catch{}if(_){const A=_,v=s?r.interface.decodeEventLog(s,I.data,I.topics):[];Of(r,t,v,w=>new Tm(r,w,t,A,I))}else Of(r,t,[],A=>new _f(r,A,t,I))};let p=[];l={tag:i,listeners:[],start:()=>{p.length||p.push(n.on(f,d))},stop:async()=>{if(p.length==0)return;let I=p;p=[],await Promise.all(I),n.off(f,d)}},c.set(i,l)}return l}let Sf=Promise.resolve();async function Dv(r,e,t,n){await Sf;const s=await Vo(r,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const c=Array.from(t);n&&c.push(n(a?null:o));try{o.call(r,...c)}catch{}return!a}),s.listeners.length===0&&(s.stop(),dr(r).subs.delete(s.tag)),i>0}async function Of(r,e,t,n){try{await Sf}catch{}const s=Dv(r,e,t,n);return Sf=s,await s}const jc=["then"];class ss{target;interface;runner;filters;[Hc];fallback;constructor(e,t,n,s){N(typeof e=="string"||Yu(e),"invalid value for Contract target","target",e),n==null&&(n=null);const i=An.from(t);Z(this,{target:e,runner:n,interface:i}),Object.defineProperty(this,Hc,{value:{}});let o,a=null,c=null;if(s){const f=ks(n);c=new Mc(this.interface,f,s)}let l=new Map;if(typeof e=="string")if(Ne(e))a=e,o=Promise.resolve(e);else{const f=Us(n,"resolveName");if(!Fc(f))throw Te("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=f.resolveName(e).then(d=>{if(d==null)throw Te("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return dr(this).addr=d,d})}else o=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return dr(this).addr=f,f});Nv(this,{addrPromise:o,addr:a,deployTx:c,subs:l});const u=new Proxy({},{get:(f,d,p)=>{if(typeof d=="symbol"||jc.indexOf(d)>=0)return Reflect.get(f,d,p);try{return this.getEvent(d)}catch(m){if(!Ze(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(f,d)=>jc.indexOf(d)>=0?Reflect.has(f,d):Reflect.has(f,d)||this.interface.hasEvent(String(d))});return Z(this,{filters:u}),Z(this,{fallback:i.receive||i.fallback?Sv(this):null}),new Proxy(this,{get:(f,d,p)=>{if(typeof d=="symbol"||d in f||jc.indexOf(d)>=0)return Reflect.get(f,d,p);try{return f.getFunction(d)}catch(m){if(!Ze(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(f,d)=>typeof d=="symbol"||d in f||jc.indexOf(d)>=0?Reflect.has(f,d):f.interface.hasFunction(d)})}connect(e){return new ss(this.target,this.interface,e)}attach(e){return new ss(e,this.interface,this.runner)}async getAddress(){return await dr(this).addrPromise}async getDeployedCode(){const e=ks(this.runner);$(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=ks(this.runner);return $(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);n.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return dr(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),Ov(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Pv(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,n){t==null&&(t=0),n==null&&(n="latest");const{addr:s,addrPromise:i}=dr(this),o=s||await i,{fragment:a,topics:c}=await Cf(this,e),l={address:o,topics:c,fromBlock:t,toBlock:n},u=ks(this.runner);return $(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(f=>{let d=a;if(d==null)try{d=this.interface.getEvent(f.topics[0])}catch{}if(d)try{return new $c(f,this.interface,d)}catch(p){return new Af(f,p)}return new Vi(f,u)})}async on(e,t){const n=await Hm(this,"on",e);return n.listeners.push({listener:t,once:!1}),n.start(),this}async once(e,t){const n=await Hm(this,"once",e);return n.listeners.push({listener:t,once:!0}),n.start(),this}async emit(e,...t){return await Of(this,e,t,null)}async listenerCount(e){if(e){const s=await Vo(this,e);return s?s.listeners.length:0}const{subs:t}=dr(this);let n=0;for(const{listeners:s}of t.values())n+=s.length;return n}async listeners(e){if(e){const s=await Vo(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:t}=dr(this);let n=[];for(const{listeners:s}of t.values())n=n.concat(s.map(({listener:i})=>i));return n}async off(e,t){const n=await Vo(this,e);if(!n)return this;if(t){const s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(t==null||n.listeners.length===0)&&(n.stop(),dr(this).subs.delete(n.tag)),this}async removeAllListeners(e){if(e){const t=await Vo(this,e);if(!t)return this;t.stop(),dr(this).subs.delete(t.tag)}else{const{subs:t}=dr(this);for(const{tag:n,stop:s}of t.values())s(),t.delete(n)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends ss{constructor(s,i=null){super(s,e,i)}}return t}static from(e,t,n){return n==null&&(n=null),new this(e,t,n)}}function Tv(){return ss}class Ls extends Tv(){}class Pf{interface;bytecode;runner;constructor(e,t,n){const s=An.from(e);t instanceof Uint8Array||(typeof t=="object"&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),t=V(q(t)),Z(this,{bytecode:t,interface:s,runner:n||null})}attach(e){return new ss(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={};const n=this.interface.deploy;if(n.inputs.length+1===e.length&&(t=await If(e.pop())),n.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");const s=await Mm(this.runner,n.inputs,e),i=ye([this.bytecode,this.interface.encodeDeploy(s)]);return Object.assign({},t,{data:i})}async deploy(...e){const t=await this.getDeployTransaction(...e);$(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const n=await this.runner.sendTransaction(t),s=Zu(n);return new ss(s,this.interface,this.runner,n)}connect(e){return new Pf(this.interface,this.bytecode,e)}static fromSolidity(e,t){N(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));const n=e.abi;let s="";return e.bytecode?s=e.bytecode:e.evm&&e.evm.bytecode&&(s=e.evm.bytecode),new this(n,s,t)}}function Nf(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):N(!1,"unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}class jm{name;constructor(e){Z(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const zm=new RegExp("^(ipfs)://(.*)$","i"),Vm=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),zm,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class $s{provider;address;name;#e;#t;constructor(e,t,n){Z(this,{provider:e,address:t,name:n}),this.#e=null,this.#t=new Ls(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return this.#e==null&&(this.#e=(async()=>{try{return await this.#t.supportsInterface("0x9061b923")}catch(e){if(Ze(e,"CALL_EXCEPTION"))return!1;throw this.#e=null,e}})()),await this.#e}async#r(e,t){t=(t||[]).slice();const n=this.#t.interface;t.unshift(Uc(this.name));let s=null;await this.supportsWildcard()&&(s=n.getFunction(e),$(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[Z1(this.name,255),n.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await this.#t[e](...t);return s?n.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Ze(i,"CALL_EXCEPTION"))throw i}return null}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await this.#r("addr(bytes32)");return i==null||i===Bi?null:i}catch(i){if(Ze(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await this.#r("addr(bytes32,uint)",[i]);if(Ne(o,20))return fe(o)}let t=null;for(const i of this.provider.plugins)if(i instanceof jm&&i.supportsCoinType(e)){t=i;break}if(t==null)return null;const n=await this.#r("addr(bytes32,uint)",[e]);if(n==null||n==="0x")return null;const s=await t.decodeAddress(e,n);if(s!=null)return s;$(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:n}})}async getText(e){const t=await this.#r("text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await this.#r("contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=t[1]==="e3010170"?"ipfs":"ipns",i=parseInt(t[4],16);if(t[5].length===i*2)return`${s}://${xu("0x"+t[2])}`}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return`bzz://${n[1]}`;$(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let n=0;n<Vm.length;n++){const s=t.match(Vm[n]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const o=Nf(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const l=c[1],u=new Ls(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const b=await u.ownerOf(l);if(a!==b)return e.push({type:"!owner",value:b}),{url:null,linkage:e};e.push({type:"owner",value:b})}else if(i==="erc1155"){const b=await u.balanceOf(a,l);if(!b)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:b.toString()})}let f=await u[o](l);if(f==null||f==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:f}),i==="erc1155"&&(f=f.replace("{id}",Kr(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:f})),f.match(/^ipfs:/i)&&(f=Nf(f)),e.push({type:"metadata-url",value:f});let d={};const p=await new dt(f).send();p.assertOk();try{d=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const _=p.body;return _&&e.push({type:"!metadata",value:V(_)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!d)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(d)});let m=d.image;if(typeof m!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(zm)==null)return e.push({type:"!imageUrl-ipfs",value:m}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:m}),m=Nf(m)}return e.push({type:"url",value:m}),{linkage:e,url:m}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),n=t.getPlugin("org.ethers.plugins.network.Ens");return $(n,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),n.address}static async#n(e,t){const n=await $s.getEnsAddress(e);try{const i=await new Ls(n,["function resolver(bytes32) view returns (address)"],e).resolver(Uc(t),{enableCcipRead:!0});return i===Bi?null:i}catch(s){throw s}return null}static async fromName(e,t){let n=t;for(;;){if(n===""||n==="."||t!=="eth"&&n==="eth")return null;const s=await $s.#n(e,n);if(s!=null){const i=new $s(e,s,t);return n!==t&&!await i.supportsWildcard()?null:i}n=n.split(".").slice(1).join(".")}}}const Gm=BigInt(0);function Ee(r,e){return(function(t){return t==null?e:r(t)})}function Go(r,e){return(t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(n=>r(n))})}function Ko(r,e){return(t=>{const n={};for(const s in r){let i=s;if(e&&s in e&&!(i in t)){for(const o of e[s])if(o in t){i=o;break}}try{const o=r[s](t[i]);o!==void 0&&(n[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";$(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:t})}}return n})}function Bv(r){switch(r){case!0:case"true":return!0;case!1:case"false":return!1}N(!1,`invalid boolean; ${JSON.stringify(r)}`,"value",r)}function Ki(r){return N(Ne(r,!0),"invalid data","value",r),r}function Bt(r){return N(Ne(r,32),"invalid hash","value",r),r}const Uv=Ko({address:fe,blockHash:Bt,blockNumber:ae,data:Ki,index:ae,removed:Ee(Bv,!1),topics:Go(Bt),transactionHash:Bt,transactionIndex:ae},{index:["logIndex"]});function kv(r){return Uv(r)}const Lv=Ko({hash:Ee(Bt),parentHash:Bt,parentBeaconBlockRoot:Ee(Bt,null),number:ae,timestamp:ae,nonce:Ee(Ki),difficulty:Y,gasLimit:Y,gasUsed:Y,stateRoot:Ee(Bt,null),receiptsRoot:Ee(Bt,null),blobGasUsed:Ee(Y,null),excessBlobGas:Ee(Y,null),miner:Ee(fe),prevRandao:Ee(Bt,null),extraData:Ki,baseFeePerGas:Ee(Y)},{prevRandao:["mixHash"]});function $v(r){const e=Lv(r);return e.transactions=r.transactions.map(t=>typeof t=="string"?t:Km(t)),e}const Mv=Ko({transactionIndex:ae,blockNumber:ae,transactionHash:Bt,address:fe,topics:Go(Bt),data:Ki,index:ae,blockHash:Bt},{index:["logIndex"]});function Fv(r){return Mv(r)}const Hv=Ko({to:Ee(fe,null),from:Ee(fe,null),contractAddress:Ee(fe,null),index:ae,root:Ee(V),gasUsed:Y,blobGasUsed:Ee(Y,null),logsBloom:Ee(Ki),blockHash:Bt,hash:Bt,logs:Go(Fv),blockNumber:ae,cumulativeGasUsed:Y,effectiveGasPrice:Ee(Y),blobGasPrice:Ee(Y,null),status:Ee(ae),type:Ee(ae,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function jv(r){return Hv(r)}function Km(r){r.to&&Y(r.to)===Gm&&(r.to="0x0000000000000000000000000000000000000000");const e=Ko({hash:Bt,index:Ee(ae,void 0),type:t=>t==="0x"||t==null?0:ae(t),accessList:Ee(yn,null),blobVersionedHashes:Ee(Go(Bt,!0),null),authorizationList:Ee(Go(t=>{let n;if(t.signature)n=t.signature;else{let s=t.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),n=Object.assign({},t,{yParity:s})}return{address:fe(t.address),chainId:Y(t.chainId),nonce:Y(t.nonce),signature:He.from(n)}},!1),null),blockHash:Ee(Bt,null),blockNumber:Ee(ae,null),transactionIndex:Ee(ae,null),from:fe,gasPrice:Ee(Y),maxPriorityFeePerGas:Ee(Y),maxFeePerGas:Ee(Y),maxFeePerBlobGas:Ee(Y,null),gasLimit:Y,to:Ee(fe,null),value:Y,nonce:ae,data:Ki,creates:Ee(fe,null),chainId:Ee(Y,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(r);if(e.to==null&&e.creates==null&&(e.creates=Zu(e)),(r.type===1||r.type===2)&&r.accessList==null&&(e.accessList=[]),r.signature?e.signature=He.from(r.signature):e.signature=He.from(r),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&Y(e.blockHash)===Gm&&(e.blockHash=null),e}const zv="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class is{name;constructor(e){Z(this,{name:e})}clone(){return new is(this.name)}}class Wo extends is{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){e==null&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const n={effectiveBlock:e};function s(i,o){let a=(t||{})[i];a==null&&(a=o),N(typeof a=="number",`invalud value for ${i}`,"costs",t),n[i]=a}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),Z(this,n)}clone(){return new Wo(this.effectiveBlock,this)}}class qo extends is{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),Z(this,{address:e||zv,targetNetwork:t??1})}clone(){return new qo(this.address,this.targetNetwork)}}class Rf extends is{#e;get feeDataFunc(){return this.#e}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#e=e}async getFeeData(e){return await this.#e(e)}clone(){return new Rf(this.#e)}}class Wm extends is{#e;#t;get url(){return this.#e}get processFunc(){return this.#t}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#e=e,this.#t=t}clone(){return this}}const Df=new Map;class Le{#e;#t;#r;constructor(e,t){this.#e=e,this.#t=Y(t),this.#r=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#e}set name(e){this.#e=e}get chainId(){return this.#t}set chainId(e){this.#t=Y(e,"chainId")}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Y(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Y(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Y(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(this.#r.values())}attachPlugin(e){if(this.#r.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#r.set(e.name,e.clone()),this}getPlugin(e){return this.#r.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new Le(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new Wo;let n=t.txBase;if(e.to==null&&(n+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?n+=t.txDataZero:n+=t.txDataNonzero;if(e.accessList){const s=yn(e.accessList);for(const i in s)n+=t.txAccessListAddress+t.txAccessListStorageKey*s[i].storageKeys.length}return n}static from(e){if(Vv(),e==null)return Le.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=Df.get(e);if(t)return t();if(typeof e=="bigint")return new Le("unknown",e);N(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){N(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new Le(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new qo(e.ensAddress,e.ensNetwork)),t}N(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const n=Df.get(e);n&&N(!1,`conflicting network for ${JSON.stringify(n.name)}`,"nameOrChainId",e),Df.set(e,t)}}function qm(r,e){const t=String(r);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${r}`);const n=t.split(".");if(n.length===1&&n.push(""),n.length!==2)throw new Error(`invalid gwei value: ${r}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let s=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||s++,n[1]=s.toString()}return BigInt(n[0]+n[1])}function Qm(r){return new Wm(r,async(e,t,n)=>{n.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([n.send(),e()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:qm(a.maxFee,9),maxPriorityFeePerGas:qm(a.maxPriorityFee,9)}}catch(i){$(!1,`error encountered with polygon gas station (${JSON.stringify(n.url)})`,"SERVER_ERROR",{request:n,response:s,error:i})}})}let Jm=!1;function Vv(){if(Jm)return;Jm=!0;function r(e,t,n){const s=function(){const i=new Le(e,t);return n.ensNetwork!=null&&i.attachPlugin(new qo(null,n.ensNetwork)),i.attachPlugin(new Wo),(n.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};Le.register(e,s),Le.register(t,s),n.altNames&&n.altNames.forEach(i=>{Le.register(i,s)})}r("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),r("ropsten",3,{ensNetwork:3}),r("rinkeby",4,{ensNetwork:4}),r("goerli",5,{ensNetwork:5}),r("kovan",42,{ensNetwork:42}),r("sepolia",11155111,{ensNetwork:11155111}),r("holesky",17e3,{ensNetwork:17e3}),r("classic",61,{}),r("classicKotti",6,{}),r("arbitrum",42161,{ensNetwork:1}),r("arbitrum-goerli",421613,{}),r("arbitrum-sepolia",421614,{}),r("base",8453,{ensNetwork:1}),r("base-goerli",84531,{}),r("base-sepolia",84532,{}),r("bnb",56,{ensNetwork:1}),r("bnbt",97,{}),r("linea",59144,{ensNetwork:1}),r("linea-goerli",59140,{}),r("linea-sepolia",59141,{}),r("matic",137,{ensNetwork:1,plugins:[Qm("https://gasstation.polygon.technology/v2")]}),r("matic-amoy",80002,{}),r("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Qm("https://gasstation-testnet.polygon.technology/v2")]}),r("optimism",10,{ensNetwork:1,plugins:[]}),r("optimism-goerli",420,{}),r("optimism-sepolia",11155420,{}),r("xdai",100,{ensNetwork:1})}function Tf(r){return JSON.parse(JSON.stringify(r))}class Gv{#e;#t;#r;#n;constructor(e){this.#e=e,this.#t=null,this.#r=4e3,this.#n=-2}get pollingInterval(){return this.#r}set pollingInterval(e){this.#r=e}async#s(){try{const e=await this.#e.getBlockNumber();if(this.#n===-2){this.#n=e;return}if(e!==this.#n){for(let t=this.#n+1;t<=e;t++){if(this.#t==null)return;await this.#e.emit("block",t)}this.#n=e}}catch{}this.#t!=null&&(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#r))}start(){this.#t||(this.#t=this.#e._setTimeout(this.#s.bind(this),this.#r),this.#s())}stop(){this.#t&&(this.#e._clearTimeout(this.#t),this.#t=null)}pause(e){this.stop(),e&&(this.#n=-2)}resume(){this.start()}}class Bf{#e;#t;#r;constructor(e){this.#e=e,this.#r=!1,this.#t=t=>{this._poll(t,this.#e)}}async _poll(e,t){throw new Error("sub-classes must override this")}start(){this.#r||(this.#r=!0,this.#t(-2),this.#e.on("block",this.#t))}stop(){this.#r&&(this.#r=!1,this.#e.off("block",this.#t))}pause(e){this.stop()}resume(){this.start()}}class Kv extends Bf{#e;#t;constructor(e,t){super(e),this.#e=t,this.#t=-2}pause(e){e&&(this.#t=-2),super.pause(e)}async _poll(e,t){const n=await t.getBlock(this.#e);n!=null&&(this.#t===-2?this.#t=n.number:n.number>this.#t&&(t.emit(this.#e,n.number),this.#t=n.number))}}class Wv extends Bf{#e;constructor(e,t){super(e),this.#e=Tf(t)}async _poll(e,t){throw new Error("@TODO")}}class qv extends Bf{#e;constructor(e,t){super(e),this.#e=t}async _poll(e,t){const n=await t.getTransactionReceipt(this.#e);n&&t.emit(this.#e,n)}}class Uf{#e;#t;#r;#n;#s;constructor(e,t){this.#e=e,this.#t=Tf(t),this.#r=this.#o.bind(this),this.#n=!1,this.#s=-2}async#o(e){if(this.#s===-2)return;const t=Tf(this.#t);t.fromBlock=this.#s+1,t.toBlock=e;const n=await this.#e.getLogs(t);if(n.length===0){this.#s<e-60&&(this.#s=e-60);return}for(const s of n)this.#e.emit(this.#t,s),this.#s=s.blockNumber}start(){this.#n||(this.#n=!0,this.#s===-2&&this.#e.getBlockNumber().then(e=>{this.#s=e}),this.#e.on("block",this.#r))}stop(){this.#n&&(this.#n=!1,this.#e.off("block",this.#r))}pause(e){this.stop(),e&&(this.#s=-2)}resume(){this.start()}}const Qv=BigInt(2),Jv=10;function zc(r){return r&&typeof r.then=="function"}function Vc(r,e){return r+":"+JSON.stringify(e,(t,n)=>{if(n==null)return"null";if(typeof n=="bigint")return`bigint:${n.toString()}`;if(typeof n=="string")return n.toLowerCase();if(typeof n=="object"&&!Array.isArray(n)){const s=Object.keys(n);return s.sort(),s.reduce((i,o)=>(i[o]=n[o],i),{})}return n})}class Qo{name;constructor(e){Z(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function Zv(r){return JSON.parse(JSON.stringify(r))}function kf(r){return r=Array.from(new Set(r).values()),r.sort(),r}async function Lf(r,e){if(r==null)throw new Error("invalid event");if(Array.isArray(r)&&(r={topics:r}),typeof r=="string")switch(r){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:r,tag:r}}if(Ne(r,32)){const t=r.toLowerCase();return{type:"transaction",tag:Vc("tx",{hash:t}),hash:t}}if(r.orphan){const t=r;return{type:"orphan",tag:Vc("orphan",t),filter:Zv(t)}}if(r.address||r.topics){const t=r,n={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?kf(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(t.address){const s=[],i=[],o=a=>{Ne(a)?s.push(a):i.push((async()=>{s.push(await pt(a,e))})())};Array.isArray(t.address)?t.address.forEach(o):o(t.address),i.length&&await Promise.all(i),n.address=kf(s.map(a=>a.toLowerCase()))}return{filter:n,tag:Vc("event",n),type:"event"}}N(!1,"unknown ProviderEvent","event",r)}function $f(){return new Date().getTime()}const Yv={cacheTimeout:250,pollingInterval:4e3};class Jo{#e;#t;#r;#n;#s;#o;#i;#a;#f;#l;#p;#g;constructor(e,t){if(this.#g=Object.assign({},Yv,t||{}),e==="any")this.#o=!0,this.#s=null;else if(e){const n=Le.from(e);this.#o=!1,this.#s=Promise.resolve(n),setTimeout(()=>{this.emit("network",n,null)},0)}else this.#o=!1,this.#s=null;this.#a=-1,this.#i=new Map,this.#e=new Map,this.#t=new Map,this.#r=null,this.#n=!1,this.#f=1,this.#l=new Map,this.#p=!1}get pollingInterval(){return this.#g.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#t.values())}attachPlugin(e){if(this.#t.get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return this.#t.set(e.name,e.connect(this)),this}getPlugin(e){return this.#t.get(e)||null}get disableCcipRead(){return this.#p}set disableCcipRead(e){this.#p=!!e}async#c(e){const t=this.#g.cacheTimeout;if(t<0)return await this._perform(e);const n=Vc(e.method,e);let s=this.#i.get(n);return s||(s=this._perform(e),this.#i.set(n,s),setTimeout(()=>{this.#i.get(n)===s&&this.#i.delete(n)},t)),await s}async ccipReadFetch(e,t,n){if(this.disableCcipRead||n.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],l=c.replace("{sender}",s).replace("{data}",i),u=new dt(l);c.indexOf("{data}")===-1&&(u.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:n});let f="unknown error",d;try{d=await u.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{const p=d.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(f=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}$(d.statusCode<400||d.statusCode>=500,`response not found during CCIP fetch: ${f}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:f}}),o.push(f)}$(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:n,errorMessages:o}})}_wrapBlock(e,t){return new Pm($v(e),this)}_wrapLog(e,t){return new Vi(kv(e),this)}_wrapTransactionReceipt(e,t){return new Ef(jv(e),this)}_wrapTransactionResponse(e,t){return new Gi(Km(e),this)}_detectNetwork(){$(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){$(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=ae(await this.#c({method:"getBlockNumber"}),"%response");return this.#a>=0&&(this.#a=e),e}_getAddress(e){return pt(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Ne(e))return Ne(e,32)?e:fr(e);if(typeof e=="bigint"&&(e=ae(e,"blockTag")),typeof e=="number")return e>=0?fr(e):this.#a>=0?fr(this.#a+e):this.getBlockNumber().then(t=>fr(t+e));N(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?kf(c.map(l=>l.toLowerCase())):c.toLowerCase()),n="blockHash"in e?e.blockHash:void 0,s=(c,l,u)=>{let f;switch(c.length){case 0:break;case 1:f=c[0];break;default:c.sort(),f=c}if(n&&(l!=null||u!=null))throw new Error("invalid filter");const d={};return f&&(d.address=f),t.length&&(d.topics=t),l&&(d.fromBlock=l),u&&(d.toBlock=u),n&&(d.blockHash=n),d};let i=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)i.push(this._getAddress(c));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(c=>s(c[0],c[1],c[2])):s(i,o,a)}_getTransactionRequest(e){const t=zi(e),n=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;const i=pt(t[s],this);zc(i)?n.push((async function(){t[s]=await i})()):t[s]=i}),t.blockTag!=null){const s=this._getBlockTag(t.blockTag);zc(s)?n.push((async function(){t.blockTag=await s})()):t.blockTag=s}return n.length?(async function(){return await Promise.all(n),t})():t}async getNetwork(){if(this.#s==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw this.#s===s&&(this.#s=null),i}})();return this.#s=s,(await s).clone()}const e=this.#s,[t,n]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==n.chainId&&(this.#o?(this.emit("network",n,t),this.#s===e&&(this.#s=Promise.resolve(n))):$(!1,`network changed: ${t.chainId} => ${n.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await yt({_block:this.#b("latest",!1),gasPrice:(async()=>{try{const u=await this.#c({method:"getGasPrice"});return Y(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await this.#c({method:"getPriorityFee"});return Y(u,"%response")}catch{}return null})()});let a=null,c=null;const l=this._wrapBlock(s,e);return l&&l.baseFeePerGas&&(c=o??BigInt("1000000000"),a=l.baseFeePerGas*Qv+c),new vf(i,a,c)},n=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(n){const s=new dt(n.url),i=await n.processFunc(t,this,s);return new vf(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return zc(t)&&(t=await t),Y(await this.#c({method:"estimateGas",transaction:t}),"%response")}async#u(e,t,n){$(n<Jv,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const s=zi(e);try{return V(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(i){if(!this.disableCcipRead&&ic(i)&&i.data&&n>=0&&t==="latest"&&s.to!=null&&Be(i.data,0,4)==="0x556f1830"){const o=i.data,a=await pt(s.to,this);let c;try{c=nE(Be(i.data,4))}catch(f){$(!1,f.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}$(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(s,c.calldata,c.urls);$(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:c.errorArgs}});const u={to:a,data:ye([c.selector,rE([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const f=await this.#u(u,t,n+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:f}),f}catch(f){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:f}),f}}throw i}}async#h(e){const{value:t}=await yt({network:this.getNetwork(),value:e});return t}async call(e){const{tx:t,blockTag:n}=await yt({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#h(this.#u(t,n,e.enableCcipRead?0:-1))}async#d(e,t,n){let s=this._getAddress(t),i=this._getBlockTag(n);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await this.#h(this.#c(Object.assign(e,{address:s,blockTag:i})))}async getBalance(e,t){return Y(await this.#d({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return ae(await this.#d({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return V(await this.#d({method:"getCode"},e,t))}async getStorage(e,t,n){const s=Y(t,"position");return V(await this.#d({method:"getStorage",position:s},e,n))}async broadcastTransaction(e){const{blockNumber:t,hash:n,network:s}=await yt({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=tr.from(e);if(i.hash!==n)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(t)}async#b(e,t){if(Ne(e,32))return await this.#c({method:"getBlock",blockHash:e,includeTransactions:t});let n=this._getBlockTag(e);return typeof n!="string"&&(n=await n),await this.#c({method:"getBlock",blockTag:n,includeTransactions:t})}async getBlock(e,t){const{network:n,params:s}=await yt({network:this.getNetwork(),params:this.#b(e,!!t)});return s==null?null:this._wrapBlock(s,n)}async getTransaction(e){const{network:t,params:n}=await yt({network:this.getNetwork(),params:this.#c({method:"getTransaction",hash:e})});return n==null?null:this._wrapTransactionResponse(n,t)}async getTransactionReceipt(e){const{network:t,params:n}=await yt({network:this.getNetwork(),params:this.#c({method:"getTransactionReceipt",hash:e})});if(n==null)return null;if(n.gasPrice==null&&n.effectiveGasPrice==null){const s=await this.#c({method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");n.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(n,t)}async getTransactionResult(e){const{result:t}=await yt({network:this.getNetwork(),result:this.#c({method:"getTransactionResult",hash:e})});return t==null?null:V(t)}async getLogs(e){let t=this._getFilter(e);zc(t)&&(t=await t);const{network:n,params:s}=await yt({network:this.getNetwork(),params:this.#c({method:"getLogs",filter:t})});return s.map(i=>this._wrapLog(i,n))}_getProvider(e){$(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await $s.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=fe(e);const t=Uc(e.substring(2).toLowerCase()+".addr.reverse");try{const n=await $s.getEnsAddress(this),i=await new Ls(n,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(i==null||i===Bi)return null;const a=await new Ls(i,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(n){if(Ze(n,"BAD_DATA")&&n.value==="0x"||Ze(n,"CALL_EXCEPTION"))return null;throw n}return null}async waitForTransaction(e,t,n){const s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const c=(async l=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=s){i(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)});n!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(Te("timeout","TIMEOUT",{reason:"timeout"})))},n)),c(await this.getBlockNumber())})}async waitForBlock(e){$(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=this.#l.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#l.delete(e))}_setTimeout(e,t){t==null&&(t=0);const n=this.#f++,s=()=>{this.#l.delete(n),e()};if(this.paused)this.#l.set(n,{timer:null,func:s,time:t});else{const i=setTimeout(s,t);this.#l.set(n,{timer:i,func:s,time:$f()})}return n}_forEachSubscriber(e){for(const t of this.#e.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Qo(e.type);case"block":{const t=new Gv(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new Kv(this,e.type);case"event":return new Uf(this,e.filter);case"transaction":return new qv(this,e.hash);case"orphan":return new Wv(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const n of this.#e.values())if(n.subscriber===e){n.started&&n.subscriber.stop(),n.subscriber=t,n.started&&t.start(),this.#r!=null&&t.pause(this.#r);break}}async#m(e,t){let n=await Lf(e,this);return n.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(n=await Lf({orphan:"drop-log",log:t[0]},this)),this.#e.get(n.tag)||null}async#x(e){const t=await Lf(e,this),n=t.tag;let s=this.#e.get(n);return s||(s={subscriber:this._getSubscriber(t),tag:n,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#e.set(n,s)),s}async on(e,t){const n=await this.#x(e);return n.listeners.push({listener:t,once:!1}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async once(e,t){const n=await this.#x(e);return n.listeners.push({listener:t,once:!0}),n.started||(n.subscriber.start(),n.started=!0,this.#r!=null&&n.subscriber.pause(this.#r)),this}async emit(e,...t){const n=await this.#m(e,t);if(!n||n.listeners.length===0)return!1;const s=n.listeners.length;return n.listeners=n.listeners.filter(({listener:i,once:o})=>{const a=new wu(this,o?null:i,e);try{i.call(this,...t,a)}catch{}return!o}),n.listeners.length===0&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),s>0}async listenerCount(e){if(e){const n=await this.#m(e);return n?n.listeners.length:0}let t=0;for(const{listeners:n}of this.#e.values())t+=n.length;return t}async listeners(e){if(e){const n=await this.#m(e);return n?n.listeners.map(({listener:s})=>s):[]}let t=[];for(const{listeners:n}of this.#e.values())t=t.concat(n.map(({listener:s})=>s));return t}async off(e,t){const n=await this.#m(e);if(!n)return this;if(t){const s=n.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&n.listeners.splice(s,1)}return(!t||n.listeners.length===0)&&(n.started&&n.subscriber.stop(),this.#e.delete(n.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:n,subscriber:s}=await this.#x(e);n&&s.stop(),this.#e.delete(t)}else for(const[t,{started:n,subscriber:s}]of this.#e)n&&s.stop(),this.#e.delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#n}destroy(){this.removeAllListeners();for(const e of this.#l.keys())this._clearTimeout(e);this.#n=!0}get paused(){return this.#r!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#a=-1,this.#r!=null){if(this.#r==!!e)return;$(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),this.#r=!!e;for(const t of this.#l.values())t.timer&&clearTimeout(t.timer),t.time=$f()-t.time}resume(){if(this.#r!=null){this._forEachSubscriber(e=>e.resume()),this.#r=null;for(const e of this.#l.values()){let t=e.time;t<0&&(t=0),e.time=$f(),setTimeout(e.func,t)}}}}function Xv(r,e){try{const t=Mf(r,e);if(t)return jn(t)}catch{}return null}function Mf(r,e){if(r==="0x")return null;try{const t=ae(Be(r,e,e+32)),n=ae(Be(r,t,t+32));return Be(r,t+32,t+32+n)}catch{}return null}function Zm(r){const e=Me(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function eE(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}const tE=new Uint8Array([]);function rE(r){const e=[];let t=0;for(let n=0;n<r.length;n++)e.push(tE),t+=32;for(let n=0;n<r.length;n++){const s=q(r[n]);e[n]=Zm(t),e.push(Zm(s.length)),e.push(eE(s)),t+=32+Math.ceil(s.length/32)*32}return ye(e)}const Ym="0x0000000000000000000000000000000000000000000000000000000000000000";function nE(r){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};$(Fn(r)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=Be(r,0,32);$(Be(t,0,12)===Be(Ym,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Be(t,12);try{const n=[],s=ae(Be(r,32,64)),i=ae(Be(r,s,s+32)),o=Be(r,s+32);for(let a=0;a<i;a++){const c=Xv(o,a*32);if(c==null)throw new Error("abort");n.push(c)}e.urls=n}catch{$(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const n=Mf(r,64);if(n==null)throw new Error("abort");e.calldata=n}catch{$(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}$(Be(r,100,128)===Be(Ym,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Be(r,96,100);try{const n=Mf(r,128);if(n==null)throw new Error("abort");e.extraData=n}catch{$(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(n=>e[n]),e}function Ms(r,e){if(r.provider)return r.provider;$(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function Xm(r,e){let t=zi(e);if(t.to!=null&&(t.to=pt(t.to,r)),t.from!=null){const n=t.from;t.from=Promise.all([r.getAddress(),pt(n,r)]).then(([s,i])=>(N(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else t.from=r.getAddress();return await yt(t)}class Zo{provider;constructor(e){Z(this,{provider:e||null})}async getNonce(e){return Ms(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await Xm(this,e)}async populateTransaction(e){const t=Ms(this,"populateTransaction"),n=await Xm(this,e);n.nonce==null&&(n.nonce=await this.getNonce("pending")),n.gasLimit==null&&(n.gasLimit=await this.estimateGas(n));const s=await this.provider.getNetwork();if(n.chainId!=null){const o=Y(n.chainId);N(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else n.chainId=s.chainId;const i=n.maxFeePerGas!=null||n.maxPriorityFeePerGas!=null;if(n.gasPrice!=null&&(n.type===2||i)?N(!1,"eip-1559 transaction do not support gasPrice","tx",e):(n.type===0||n.type===1)&&i&&N(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(n.type===2||n.type==null)&&n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)n.type=2;else if(n.type===0||n.type===1){const o=await t.getFeeData();$(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice)}else{const o=await t.getFeeData();if(n.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(n.authorizationList&&n.authorizationList.length?n.type=4:n.type=2,n.gasPrice!=null){const a=n.gasPrice;delete n.gasPrice,n.maxFeePerGas=a,n.maxPriorityFeePerGas=a}else n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?($(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),n.gasPrice==null&&(n.gasPrice=o.gasPrice),n.type=0):$(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(n.type===2||n.type===3||n.type===4)&&(n.maxFeePerGas==null&&(n.maxFeePerGas=o.maxFeePerGas),n.maxPriorityFeePerGas==null&&(n.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await yt(n)}async populateAuthorization(e){const t=Object.assign({},e);return t.chainId==null&&(t.chainId=(await Ms(this,"getNetwork").getNetwork()).chainId),t.nonce==null&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return Ms(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Ms(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Ms(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=Ms(this,"sendTransaction"),n=await this.populateTransaction(e);delete n.from;const s=tr.from(n);return await t.broadcastTransaction(await this.signTransaction(s))}authorize(e){$(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}class Gc extends Zo{address;constructor(e,t){super(t),Z(this,{address:e})}async getAddress(){return this.address}connect(e){return new Gc(this.address,e)}#e(e,t){$(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#e("transactions","signTransaction")}async signMessage(e){this.#e("messages","signMessage")}async signTypedData(e,t,n){this.#e("typed-data","signTypedData")}}const eb=new Set;function os(r){eb.has(r)||(eb.add(r),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${r} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function sE(r){return JSON.parse(JSON.stringify(r))}class tb{#e;#t;#r;#n;#s;#o;constructor(e){this.#e=e,this.#t=null,this.#r=this.#i.bind(this),this.#n=!1,this.#s=null,this.#o=!1}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}async#i(e){try{this.#t==null&&(this.#t=this._subscribe(this.#e));let t=null;try{t=await this.#t}catch(i){if(!Ze(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(t==null){this.#t=null,this.#e._recoverSubscriber(this,this._recover(this.#e));return}const n=await this.#e.getNetwork();if(this.#s||(this.#s=n),this.#s.chainId!==n.chainId)throw new Error("chaid changed");if(this.#o)return;const s=await this.#e.send("eth_getFilterChanges",[t]);await this._emitResults(this.#e,s)}catch(t){console.log("@TODO",t)}this.#e.once("block",this.#r)}#a(){const e=this.#t;e&&(this.#t=null,e.then(t=>{this.#e.destroyed||this.#e.send("eth_uninstallFilter",[t])}))}start(){this.#n||(this.#n=!0,this.#i(-2))}stop(){this.#n&&(this.#n=!1,this.#o=!0,this.#a(),this.#e.off("block",this.#r))}pause(e){e&&this.#a(),this.#e.off("block",this.#r)}resume(){this.start()}}class iE extends tb{#e;constructor(e,t){super(e),this.#e=sE(t)}_recover(e){return new Uf(e,this.#e)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e])}async _emitResults(e,t){for(const n of t)e.emit(this.#e,e._wrapLog(n,e._network))}}class oE extends tb{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const n of t)e.emit("pending",n)}}const aE="bigint,boolean,function,number,string,symbol".split(/,/g);function Kc(r){if(r==null||aE.indexOf(typeof r)>=0||typeof r.getAddress=="function")return r;if(Array.isArray(r))return r.map(Kc);if(typeof r=="object")return Object.keys(r).reduce((e,t)=>(e[t]=r[t],e),{});throw new Error(`should not happen: ${r} (${typeof r})`)}function cE(r){return new Promise(e=>{setTimeout(e,r)})}function Wi(r){return r&&r.toLowerCase()}function rb(r){return r&&typeof r.pollingInterval=="number"}const nb={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Wc extends Zo{address;constructor(e,t){super(e),t=fe(t),Z(this,{address:t})}connect(e){$(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){const t=Kc(e),n=[];if(t.from){const i=t.from;n.push((async()=>{const o=await pt(i,this.provider);N(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=o})())}else t.from=this.address;if(t.gasLimit==null&&n.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),t.to!=null){const i=t.to;n.push((async()=>{t.to=await pt(i,this.provider)})())}n.length&&await Promise.all(n);const s=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(e){const t=await this.provider.getBlockNumber(),n=await this.sendUncheckedTransaction(e);return await new Promise((s,i)=>{const o=[1e3,100];let a=0;const c=async()=>{try{const l=await this.provider.getTransaction(n);if(l!=null){s(l.replaceableTransaction(t));return}}catch(l){if(Ze(l,"CANCELLED")||Ze(l,"BAD_DATA")||Ze(l,"NETWORK_ERROR")||Ze(l,"UNSUPPORTED_OPERATION")){l.info==null&&(l.info={}),l.info.sendTransactionHash=n,i(l);return}if(Ze(l,"INVALID_ARGUMENT")&&(a++,l.info==null&&(l.info={}),l.info.sendTransactionHash=n,a>10)){i(l);return}this.provider.emit("error",Te("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:l}))}this.provider._setTimeout(()=>{c()},o.pop()||4e3)};c()})}async signTransaction(e){const t=Kc(e);if(t.from){const s=await pt(t.from,this.provider);N(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=s}else t.from=this.address;const n=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[n])}async signMessage(e){const t=typeof e=="string"?ht(e):e;return await this.provider.send("personal_sign",[V(t),this.address.toLowerCase()])}async signTypedData(e,t,n){const s=Kc(n),i=await Tt.resolveNames(e,t,s,async o=>{const a=await pt(o);return N(a!=null,"TypedData does not support null address","value",o),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Tt.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){const t=typeof e=="string"?ht(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),V(t)])}}class Ff extends Jo{#e;#t;#r;#n;#s;#o;#i;#a(){if(this.#n)return;const e=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#n=setTimeout(()=>{this.#n=null;const t=this.#r;for(this.#r=[];t.length;){const n=[t.shift()];for(;t.length&&n.length!==this.#e.batchMaxCount;)if(n.push(t.shift()),JSON.stringify(n.map(i=>i.payload)).length>this.#e.batchMaxSize){t.unshift(n.pop());break}(async()=>{const s=n.length===1?n[0].payload:n.map(i=>i.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const i=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:i});for(const{resolve:o,reject:a,payload:c}of n){if(this.destroyed){a(Te("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const l=i.filter(u=>u.id===c.id)[0];if(l==null){const u=Te("missing response for request","BAD_DATA",{value:i,info:{payload:c}});this.emit("error",u),a(u);continue}if("error"in l){a(this.getRpcError(c,l));continue}o(l.result)}}catch(i){this.emit("debug",{action:"receiveRpcError",error:i});for(const{reject:o}of n)o(i)}})()}},e)}constructor(e,t){super(e,t),this.#t=1,this.#e=Object.assign({},nb,t||{}),this.#r=[],this.#n=null,this.#o=null,this.#i=null;{let s=null;const i=new Promise(o=>{s=o});this.#s={promise:i,resolve:s}}const n=this._getOption("staticNetwork");typeof n=="boolean"?(N(!n||e!=="any","staticNetwork cannot be used on special network 'any'","options",t),n&&e!=null&&(this.#o=Le.from(e))):n&&(N(e==null||n.matches(e),"staticNetwork MUST match network object","options",t),this.#o=n)}_getOption(e){return this.#e[e]}get _network(){return $(this.#o,"network is not available yet","NETWORK_ERROR"),this.#o}async _perform(e){if(e.method==="call"||e.method==="estimateGas"){let n=e.transaction;if(n&&n.type!=null&&Y(n.type)&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(e=Object.assign({},e,{transaction:Object.assign({},n,{type:void 0})}))}}const t=this.getRpcRequest(e);return t!=null?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){const e=this._getOption("staticNetwork");if(e)if(e===!0){if(this.#o)return this.#o}else return e;return this.#i?await this.#i:this.ready?(this.#i=(async()=>{try{const t=Le.from(Y(await this.send("eth_chainId",[])));return this.#i=null,t}catch(t){throw this.#i=null,t}})(),await this.#i):(this.#i=(async()=>{const t={id:this.#t++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});let n;try{n=(await this._send(t))[0],this.#i=null}catch(s){throw this.#i=null,this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:n}),"result"in n)return Le.from(Y(n.result));throw this.getRpcError(t,n)})(),await this.#i)}_start(){this.#s==null||this.#s.resolve==null||(this.#s.resolve(),this.#s=null,(async()=>{for(;this.#o==null&&!this.destroyed;)try{this.#o=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Te("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await cE(1e3)}this.#a()})())}async _waitUntilReady(){if(this.#s!=null)return await this.#s.promise}_getSubscriber(e){return e.type==="pending"?new oE(this):e.type==="event"?this._getOption("polling")?new Uf(this,e.filter):new iE(this,e.filter):e.type==="orphan"&&e.filter.orphan==="drop-log"?new Qo("orphan"):super._getSubscriber(e)}get ready(){return this.#s==null}getRpcTransaction(e){const t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(n=>{if(e[n]==null)return;let s=n;n==="gasLimit"&&(s="gas"),t[s]=fr(Y(e[n],`tx.${n}`))}),["from","to","data"].forEach(n=>{e[n]!=null&&(t[n]=V(e[n]))}),e.accessList&&(t.accessList=yn(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(n=>n.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(n=>{const s=tf(n);return{address:s.address,nonce:fr(s.nonce),chainId:fr(s.chainId),yParity:fr(s.signature.yParity),r:fr(s.signature.r),s:fr(s.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Wi(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Wi(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[Wi(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Wi(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&e.filter.address!=null&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(Wi):e.filter.address=Wi(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){const{method:n}=e,{error:s}=t;if(n==="eth_estimateGas"&&s.message){const a=s.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return Te("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:s}});if(a.match(/nonce/i)&&a.match(/too low/i))return Te("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:s}})}if(n==="eth_call"||n==="eth_estimateGas"){const a=Hf(s),c=ns.getBuiltinCallException(n==="eth_call"?"call":"estimateGas",e.params[0],a?a.data:null);return c.info={error:s,payload:e},c}const i=JSON.stringify(lE(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return Te("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:s}});if(n==="eth_sendRawTransaction"||n==="eth_sendTransaction"){const a=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return Te("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:s}});if(i.match(/nonce/i)&&i.match(/too low/i))return Te("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:s}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return Te("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:s}});if(i.match(/only replay-protected/i))return Te("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:a,info:{error:s}}})}let o=!!i.match(/the method .* does not exist/i);return o||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(o=!0),o?Te("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:s,payload:e}}):Te("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(Te("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));const n=this.#t++,s=new Promise((i,o)=>{this.#r.push({resolve:i,reject:o,payload:{method:e,params:t,id:n,jsonrpc:"2.0"}})});return this.#a(),s}async getSigner(e){e==null&&(e=0);const t=this.send("eth_accounts",[]);if(typeof e=="number"){const s=await t;if(e>=s.length)throw new Error("no such account");return new Wc(this,s[e])}const{accounts:n}=await yt({network:this.getNetwork(),accounts:t});e=fe(e);for(const s of n)if(fe(s)===e)return new Wc(this,e);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(t=>new Wc(this,t))}destroy(){this.#n&&(clearTimeout(this.#n),this.#n=null);for(const{payload:e,reject:t}of this.#r)t(Te("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#r=[],super.destroy()}}class sb extends Ff{#e;constructor(e,t){super(e,t);let n=this._getOption("pollingInterval");n==null&&(n=nb.pollingInterval),this.#e=n}_getSubscriber(e){const t=super._getSubscriber(e);return rb(t)&&(t.pollingInterval=this.#e),t}get pollingInterval(){return this.#e}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw new Error("invalid interval");this.#e=e,this._forEachSubscriber(t=>{rb(t)&&(t.pollingInterval=this.#e)})}}let _r=class extends sb{#e;constructor(e,t,n){e==null&&(e="http://localhost:8545"),super(t,n),typeof e=="string"?this.#e=new dt(e):this.#e=e.clone()}_getConnection(){return this.#e.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){const t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");const n=await t.send();n.assertOk();let s=n.bodyJson;return Array.isArray(s)||(s=[s]),s}};function Hf(r){if(r==null)return null;if(typeof r.message=="string"&&r.message.match(/revert/i)&&Ne(r.data))return{message:r.message,data:r.data};if(typeof r=="object"){for(const e in r){const t=Hf(r[e]);if(t)return t}return null}if(typeof r=="string")try{return Hf(JSON.parse(r))}catch{}return null}function jf(r,e){if(r!=null){if(typeof r.message=="string"&&e.push(r.message),typeof r=="object")for(const t in r)jf(r[t],e);if(typeof r=="string")try{return jf(JSON.parse(r),e)}catch{}}}function lE(r){const e=[];return jf(r,e),e}const qc="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";function uE(r){switch(r){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}N(!1,"unsupported network","network",r)}class Yo extends _r{apiKey;constructor(e,t){e==null&&(e="mainnet");const n=Le.from(e);t==null&&(t=qc);const s={polling:!0,staticNetwork:n},i=Yo.getRequest(n,t);super(i,n,s),Z(this,{apiKey:t})}_getProvider(e){try{return new Yo(e,this.apiKey)}catch{}return super._getProvider(e)}static getRequest(e,t){t==null&&(t=qc);const n=new dt(`https://${uE(e.name)}/${t}`);return n.allowGzip=!0,t===qc&&(n.retryFunc=async(s,i,o)=>(os("AnkrProvider"),!0)),n}getRpcError(e,t){return e.method==="eth_sendRawTransaction"&&t&&t.error&&t.error.message==="INTERNAL_ERROR: could not replace existing tx"&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===qc}}const Qc="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";function fE(r){switch(r){case"mainnet":return"eth-mainnet.alchemyapi.io";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}N(!1,"unsupported network","network",r)}class Xo extends _r{apiKey;constructor(e,t){e==null&&(e="mainnet");const n=Le.from(e);t==null&&(t=Qc);const s=Xo.getRequest(n,t);super(s,n,{staticNetwork:n}),Z(this,{apiKey:t})}_getProvider(e){try{return new Xo(e,this.apiKey)}catch{}return super._getProvider(e)}async _perform(e){if(e.method==="getTransactionResult"){const{trace:t,tx:n}=await yt({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(t==null||n==null)return null;let s,i=!1;try{s=t[0].result.output,i=t[0].error==="Reverted"}catch{}if(s)return $(!i,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:s,reason:null,transaction:n,invocation:null,revert:null}),s;$(!1,"could not parse trace result","BAD_DATA",{value:t})}return await super._perform(e)}isCommunityResource(){return this.apiKey===Qc}static getRequest(e,t){t==null&&(t=Qc);const n=new dt(`https://${fE(e.name)}/v2/${t}`);return n.allowGzip=!0,t===Qc&&(n.retryFunc=async(s,i,o)=>(os("alchemy"),!0)),n}}function Jc(r){switch(r){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}N(!1,"unsupported network","network",r)}function hE(r){switch(r){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}N(!1,"unsupported network","network",r)}class ea extends _r{apiKey;constructor(e,t){e==null&&(e="mainnet");const n=Le.from(e);t==null&&(t=Jc(n.name));const s=ea.getRequest(n,t);super(s,n,{staticNetwork:n}),Z(this,{apiKey:t})}_getProvider(e){try{return new ea(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===Jc(this._network.name)}static getRequest(e,t){t==null&&(t=Jc(e.name));const n=new dt(`https://${hE(e.name)}/${t}`);return n.allowGzip=!0,t===Jc(e.name)&&(n.retryFunc=async(s,i,o)=>(os("ChainstackProvider"),!0)),n}}class ib extends _r{constructor(e){e==null&&(e="mainnet");const t=Le.from(e);N(t.name==="mainnet","unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}}const ob=2e3;function dE(r){return r&&typeof r.then=="function"}const ab="org.ethers.plugins.provider.Etherscan";class zf extends is{baseUrl;constructor(e){super(ab),Z(this,{baseUrl:e})}clone(){return new zf(this.baseUrl)}}const pE=["enableCcipRead"];let gE=1;class cb extends Jo{network;apiKey;#e;constructor(e,t){const n=t??null;super();const s=Le.from(e);this.#e=s.getPlugin(ab),Z(this,{apiKey:n,network:s})}getBaseUrl(){if(this.#e)return this.#e.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}N(!1,"unsupported network","network",this.network)}getUrl(e,t){let n=Object.keys(t).reduce((s,i)=>{const o=t[i];return o!=null&&(s+=`&${i}=${o}`),s},"");return this.apiKey&&(n+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${e}${n}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t.chainid=this.network.chainId,t}async detectNetwork(){return this.network}async fetch(e,t,n){const s=gE++,i=n?this.getPostUrl():this.getUrl(e,t),o=n?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:s,url:i,payload:o});const a=new dt(i);a.setThrottleParams({slotInterval:1e3}),a.retryFunc=(u,f,d)=>(this.isCommunityResource()&&os("Etherscan"),Promise.resolve(!0)),a.processFunc=async(u,f)=>{const d=f.hasBody()?JSON.parse(jn(f.body)):{},p=(typeof d.result=="string"?d.result:"").toLowerCase().indexOf("rate limit")>=0;return e==="proxy"?d&&d.status==0&&d.message=="NOTOK"&&p&&(this.emit("debug",{action:"receiveError",id:s,reason:"proxy-NOTOK",error:d}),f.throwThrottleError(d.result,ob)):p&&(this.emit("debug",{action:"receiveError",id:s,reason:"null result",error:d.result}),f.throwThrottleError(d.result,ob)),f},o&&(a.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),a.body=Object.keys(o).map(u=>`${u}=${o[u]}`).join("&"));const c=await a.send();try{c.assertOk()}catch(u){this.emit("debug",{action:"receiveError",id:s,error:u,reason:"assertOk"}),$(!1,"response error","SERVER_ERROR",{request:a,response:c})}c.hasBody()||(this.emit("debug",{action:"receiveError",id:s,error:"missing body",reason:"null body"}),$(!1,"missing response","SERVER_ERROR",{request:a,response:c}));const l=JSON.parse(jn(c.body));return e==="proxy"?(l.jsonrpc!="2.0"&&(this.emit("debug",{action:"receiveError",id:s,result:l,reason:"invalid JSON-RPC"}),$(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:a,response:c,info:{result:l}})),l.error&&(this.emit("debug",{action:"receiveError",id:s,result:l,reason:"JSON-RPC error"}),$(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:s,result:l}),l.result):l.status==0&&(l.message==="No records found"||l.message==="No transactions found")?(this.emit("debug",{action:"receiveRequest",id:s,result:l}),l.result):((l.status!=1||typeof l.message=="string"&&!l.message.match(/^OK/))&&(this.emit("debug",{action:"receiveError",id:s,result:l}),$(!1,"error response","SERVER_ERROR",{request:a,response:c,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:s,result:l}),l.result)}_getTransactionPostData(e){const t={};for(let n in e){if(pE.indexOf(n)>=0||e[n]==null)continue;let s=e[n];if(!(n==="type"&&s===0)&&!(n==="blockTag"&&s==="latest")){if({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[n])s=fr(s);else if(n==="accessList")s="["+yn(s).map(i=>`{address:"${i.address}",storageKeys:["${i.storageKeys.join('","')}"]}`).join(",")+"]";else if(n==="blobVersionedHashes"){if(s.length===0)continue;$(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else s=V(s);t[n]=s}}return t}_checkError(e,t,n){let s="";if(Ze(t,"SERVER_ERROR")){try{s=t.info.result.error.message}catch{}if(!s)try{s=t.info.message}catch{}}if(e.method==="estimateGas"&&!s.match(/revert/i)&&s.match(/insufficient funds/i)&&$(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),(e.method==="call"||e.method==="estimateGas")&&s.match(/execution reverted/i)){let i="";try{i=t.info.result.error.data}catch{}const o=ns.getBuiltinCallException(e.method,e.transaction,i);throw o.info={request:e,error:t},o}if(s&&e.method==="broadcastTransaction"){const i=tr.from(e.signedTransaction);s.match(/replacement/i)&&s.match(/underpriced/i)&&$(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:i}),s.match(/insufficient funds/)&&$(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:i}),s.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&$(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:i})}throw t}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if(this.network.name==="mainnet")return"1000000000";if(this.network.name==="optimism")return"1000000";throw new Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(t=>this._checkError(e,t,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});$(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if(e.blockTag!=="latest")throw new Error("EtherscanProvider does not support blockTag for call");const t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_call";try{return await this.fetch("proxy",t,!0)}catch(n){return this._checkError(e,n,e.transaction)}}case"estimateGas":{const t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return await this.fetch("proxy",t,!0)}catch(n){return this._checkError(e,n,e.transaction)}}}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return this.network.name!=="mainnet"?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){let t=this._getAddress(e);dE(t)&&(t=await t);try{const n=await this.fetch("contract",{action:"getabi",address:t}),s=JSON.parse(n);return new Ls(t,s,this)}catch{return null}}isCommunityResource(){return this.apiKey==null}}function mE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const bE=mE().WebSocket;class Zc{#e;#t;get filter(){return JSON.parse(this.#t)}#r;#n;#s;constructor(e,t){this.#e=e,this.#t=JSON.stringify(t),this.#r=null,this.#n=null,this.#s=null}start(){this.#r=this.#e.send("eth_subscribe",this.filter).then(e=>(this.#e._register(e,this),e))}stop(){this.#r.then(e=>{this.#e.destroyed||this.#e.send("eth_unsubscribe",[e])}),this.#r=null}pause(e){$(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#n=!!e}resume(){this.#n=null}_handleMessage(e){if(this.#r!=null&&this.#n===null){let t=this.#s;t==null?t=this._emit(this.#e,e):t=t.then(async()=>{await this._emit(this.#e,e)}),this.#s=t.then(()=>{this.#s===t&&(this.#s=null)})}}async _emit(e,t){throw new Error("sub-classes must implemente this; _emit")}}class lb extends Zc{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}}class ub extends Zc{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}}class fb extends Zc{#e;get logFilter(){return JSON.parse(this.#e)}constructor(e,t){super(e,["logs",t]),this.#e=JSON.stringify(t)}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}}class hb extends Ff{#e;#t;#r;constructor(e,t){const n=Object.assign({},t??{});N(n.batchMaxCount==null||n.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",t),n.batchMaxCount=1,n.staticNetwork==null&&(n.staticNetwork=!0),super(e,n),this.#e=new Map,this.#t=new Map,this.#r=new Map}_getSubscriber(e){switch(e.type){case"close":return new Qo("close");case"block":return new lb(this);case"pending":return new ub(this);case"event":return new fb(this,e.filter);case"orphan":if(e.filter.orphan==="drop-log")return new Qo("drop-log")}return super._getSubscriber(e)}_register(e,t){this.#t.set(e,t);const n=this.#r.get(e);if(n){for(const s of n)t._handleMessage(s);this.#r.delete(e)}}async _send(e){N(!Array.isArray(e),"WebSocket does not support batch send","payload",e);const t=new Promise((n,s)=>{this.#e.set(e.id,{payload:e,resolve:n,reject:s})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await t]}async _processMessage(e){const t=JSON.parse(e);if(t&&typeof t=="object"&&"id"in t){const n=this.#e.get(t.id);if(n==null){this.emit("error",Te("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));return}this.#e.delete(t.id),n.resolve(t)}else if(t&&t.method==="eth_subscription"){const n=t.params.subscription,s=this.#t.get(n);if(s)s._handleMessage(t.params.result);else{let i=this.#r.get(n);i==null&&(i=[],this.#r.set(n,i)),i.push(t.params.result)}}else{this.emit("error",Te("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));return}}async _write(e){throw new Error("sub-classes must override this")}}class Vf extends hb{#e;#t;get websocket(){if(this.#t==null)throw new Error("websocket closed");return this.#t}constructor(e,t,n){super(t,n),typeof e=="string"?(this.#e=()=>new bE(e),this.#t=this.#e()):typeof e=="function"?(this.#e=e,this.#t=e()):(this.#e=null,this.#t=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(s){console.log("failed to start WebsocketProvider",s)}},this.websocket.onmessage=s=>{this._processMessage(s.data)}}async _write(e){this.websocket.send(e)}async destroy(){this.#t!=null&&(this.#t.close(),this.#t=null),super.destroy()}}const ta="84842078b09946638c03157f83405213";function xE(r){switch(r){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}N(!1,"unsupported network","network",r)}class db extends Vf{projectId;projectSecret;constructor(e,t){const n=new qi(e,t),s=n._getConnection();$(!s.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});const i=s.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(i,n._network),Z(this,{projectId:n.projectId,projectSecret:n.projectSecret})}isCommunityResource(){return this.projectId===ta}}class qi extends _r{projectId;projectSecret;constructor(e,t,n){e==null&&(e="mainnet");const s=Le.from(e);t==null&&(t=ta),n==null&&(n=null);const i=qi.getRequest(s,t,n);super(i,s,{staticNetwork:s}),Z(this,{projectId:t,projectSecret:n})}_getProvider(e){try{return new qi(e,this.projectId,this.projectSecret)}catch{}return super._getProvider(e)}isCommunityResource(){return this.projectId===ta}static getWebSocketProvider(e,t){return new db(e,t)}static getRequest(e,t,n){t==null&&(t=ta),n==null&&(n=null);const s=new dt(`https://${xE(e.name)}/v3/${t}`);return s.allowGzip=!0,n&&s.setCredentials("",n),t===ta&&(s.retryFunc=async(i,o,a)=>(os("InfuraProvider"),!0)),s}}const Yc="919b412a057b5e9c9b6dce193c5a60242d6efadb";function wE(r){switch(r){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}N(!1,"unsupported network","network",r)}class ra extends _r{token;constructor(e,t){e==null&&(e="mainnet");const n=Le.from(e);t==null&&(t=Yc);const s=ra.getRequest(n,t);super(s,n,{staticNetwork:n}),Z(this,{token:t})}_getProvider(e){try{return new ra(e,this.token)}catch{}return super._getProvider(e)}isCommunityResource(){return this.token===Yc}static getRequest(e,t){t==null&&(t=Yc);const n=new dt(`https://${wE(e.name)}/${t}`);return n.allowGzip=!0,t===Yc&&(n.retryFunc=async(s,i,o)=>(os("QuickNodeProvider"),!0)),n}}const yE=BigInt("1"),vE=BigInt("2");function EE(r){for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}}function AE(r){return new Promise(e=>{setTimeout(e,r)})}function Gf(){return new Date().getTime()}function Kf(r){return JSON.stringify(r,(e,t)=>typeof t=="bigint"?{type:"bigint",value:t.toString()}:t)}const pb={stallTimeout:400,priority:1,weight:1},gb={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function _E(r,e){for(;(r.blockNumber<0||r.blockNumber<e)&&(r._updateNumber||(r._updateNumber=(async()=>{try{const t=await r.provider.getBlockNumber();t>r.blockNumber&&(r.blockNumber=t)}catch(t){r.blockNumber=-2,r._lastFatalError=t,r._lastFatalErrorTimestamp=Gf()}r._updateNumber=null})()),await r._updateNumber,r.outOfSync++,!r._lastFatalError););}function Qi(r){if(r==null)return"null";if(Array.isArray(r))return"["+r.map(Qi).join(",")+"]";if(typeof r=="object"&&typeof r.toJSON=="function")return Qi(r.toJSON());switch(typeof r){case"boolean":case"symbol":return r.toString();case"bigint":case"number":return BigInt(r).toString();case"string":return JSON.stringify(r);case"object":{const e=Object.keys(r);return e.sort(),"{"+e.map(t=>`${JSON.stringify(t)}:${Qi(r[t])}`).join(",")+"}"}}throw console.log("Could not serialize",r),new Error("Hmm...")}function Wf(r,e){if("error"in e){const n=e.error;let s;return Ze(n,"CALL_EXCEPTION")?s=Qi(Object.assign({},n,{shortMessage:void 0,reason:void 0,info:void 0})):s=Qi(n),{tag:s,value:n}}const t=e.result;return{tag:Qi(t),value:t}}function Xc(r,e){const t=new Map;for(const{value:s,tag:i,weight:o}of e){const a=t.get(i)||{value:s,weight:0};a.weight+=o,t.set(i,a)}let n=null;for(const s of t.values())s.weight>=r&&(!n||s.weight>n.weight)&&(n=s);if(n)return n.value}function qf(r,e){let t=0;const n=new Map;let s=null;const i=[];for(const{value:a,tag:c,weight:l}of e)if(a instanceof Error){const u=n.get(c)||{value:a,weight:0};u.weight+=l,n.set(c,u),(s==null||u.weight>s.weight)&&(s=u)}else i.push(BigInt(a)),t+=l;if(t<r)return s&&s.weight>=r?s.value:void 0;i.sort((a,c)=>a<c?-1:c>a?1:0);const o=Math.floor(i.length/2);return i.length%2?i[o]:(i[o-1]+i[o]+yE)/vE}function Qf(r,e){const t=Xc(r,e);if(t!==void 0)return t;for(const n of e)if(n.value)return n.value}function IE(r,e){if(r===1)return ae(qf(r,e),"%internal");const t=new Map,n=(o,a)=>{const c=t.get(o)||{result:o,weight:0};c.weight+=a,t.set(o,c)};for(const{weight:o,value:a}of e){const c=ae(a);n(c-1,o),n(c,o),n(c+1,o)}let s=0,i;for(const{weight:o,result:a}of t.values())o>=r&&(o>s||i!=null&&o===s&&a>i)&&(s=o,i=a);return i}class mb extends Jo{quorum;eventQuorum;eventWorkers;#e;#t;#r;constructor(e,t,n){super(t,n),this.#e=e.map(s=>s instanceof Jo?Object.assign({provider:s},pb,gb):Object.assign({},pb,s,gb)),this.#t=-2,this.#r=null,n&&n.quorum!=null?this.quorum=n.quorum:this.quorum=Math.ceil(this.#e.reduce((s,i)=>(s+=i.weight,s),0)/2),this.eventQuorum=1,this.eventWorkers=1,N(this.quorum<=this.#e.reduce((s,i)=>s+i.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#e.map(e=>{const t=Object.assign({},e);for(const n in t)n[0]==="_"&&delete t[n];return t})}async _detectNetwork(){return Le.from(Y(await this._perform({method:"chainId"})))}async _translatePerform(e,t){switch(t.method){case"broadcastTransaction":return await e.broadcastTransaction(t.signedTransaction);case"call":return await e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(t.transaction);case"getBalance":return await e.getBalance(t.address,t.blockTag);case"getBlock":{const n="blockHash"in t?t.blockHash:t.blockTag;return await e.getBlock(n,t.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(t.address,t.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(t.filter);case"getStorage":return await e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return await e.getTransaction(t.hash);case"getTransactionCount":return await e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(t.hash);case"getTransactionResult":return await e.getTransactionResult(t.hash)}}#n(e){const t=Array.from(e).map(s=>s.config),n=this.#e.slice();EE(n),n.sort((s,i)=>s.priority-i.priority);for(const s of n)if(!s._lastFatalError&&t.indexOf(s)===-1)return s;return null}#s(e,t){const n=this.#n(e);if(n==null)return null;const s={config:n,result:null,didBump:!1,perform:null,staller:null},i=Gf();return s.perform=(async()=>{try{n.requests++;const a=await this._translatePerform(n.provider,t);s.result={result:a}}catch(a){n.errorResponses++,s.result={error:a}}const o=Gf()-i;n._totalTime+=o,n.rollingDuration=.95*n.rollingDuration+.05*o,s.perform=null})(),s.staller=(async()=>{await AE(n.stallTimeout),s.staller=null})(),e.add(s),s}async#o(){let e=this.#r;if(!e){const t=[];this.#e.forEach(n=>{t.push((async()=>{await _E(n,0),n._lastFatalError||(n._network=await n.provider.getNetwork())})())}),this.#r=e=(async()=>{await Promise.all(t);let n=null;for(const s of this.#e){if(s._lastFatalError)continue;const i=s._network;n==null?n=i.chainId:i.chainId!==n&&$(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async#i(e,t){const n=[];for(const s of e)if(s.result!=null){const{tag:i,value:o}=Wf(t.method,s.result);n.push({tag:i,value:o,weight:s.config.weight})}if(!(n.reduce((s,i)=>s+i.weight,0)<this.quorum)){switch(t.method){case"getBlockNumber":{this.#t===-2&&(this.#t=Math.ceil(ae(qf(this.quorum,this.#e.filter(i=>!i._lastFatalError).map(i=>({value:i.blockNumber,tag:ae(i.blockNumber).toString(),weight:i.weight}))))));const s=IE(this.quorum,n);return s===void 0?void 0:(s>this.#t&&(this.#t=s),this.#t)}case"getGasPrice":case"getPriorityFee":case"estimateGas":return qf(this.quorum,n);case"getBlock":return"blockTag"in t&&t.blockTag==="pending"?Qf(this.quorum,n):Xc(this.quorum,n);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return Xc(this.quorum,n);case"broadcastTransaction":return Qf(this.quorum,n)}$(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${Kf(t.method)})`})}}async#a(e,t){if(e.size===0)throw new Error("no runners?!");const n=[];let s=0;for(const o of e){if(o.perform&&n.push(o.perform),o.staller){n.push(o.staller);continue}o.didBump||(o.didBump=!0,s++)}const i=await this.#i(e,t);if(i!==void 0){if(i instanceof Error)throw i;return i}for(let o=0;o<s;o++)this.#s(e,t);return $(n.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:Array.from(e).map(o=>Kf(o.result))}}),await Promise.race(n),await this.#a(e,t)}async _perform(e){if(e.method==="broadcastTransaction"){const i=this.#e.map(c=>null),o=this.#e.map(async({provider:c,weight:l},u)=>{try{const f=await c._perform(e);i[u]=Object.assign(Wf(e.method,{result:f}),{weight:l})}catch(f){i[u]=Object.assign(Wf(e.method,{error:f}),{weight:l})}});for(;;){const c=i.filter(f=>f!=null);for(const{value:f}of c)if(!(f instanceof Error))return f;const l=Xc(this.quorum,i.filter(f=>f!=null));if(Ze(l,"INSUFFICIENT_FUNDS"))throw l;const u=o.filter((f,d)=>i[d]==null);if(u.length===0)break;await Promise.race(u)}const a=Qf(this.quorum,i);if($(a!==void 0,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:i.map(Kf)}}),a instanceof Error)throw a;return a}await this.#o();const t=new Set;let n=0;for(;;){const i=this.#s(t,e);if(i==null||(n+=i.config.weight,n>=this.quorum))break}const s=await this.#a(t,e);for(const i of t)i.perform&&i.result==null&&i.config.lateResponses++;return s}async destroy(){for(const{provider:e}of this.#e)e.destroy();super.destroy()}}function CE(r){return r&&typeof r.send=="function"&&typeof r.close=="function"}const SE="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function OE(r,e){e==null&&(e={});const t=o=>e[o]==="-"?!1:typeof e.exclusive=="string"?o===e.exclusive:Array.isArray(e.exclusive)?e.exclusive.indexOf(o)!==-1:!0;if(typeof r=="string"&&r.match(/^https?:/))return new _r(r);if(typeof r=="string"&&r.match(/^wss?:/)||CE(r))return new Vf(r);let n=null;try{n=Le.from(r)}catch{}const s=[];if(t("publicPolygon")&&n&&(n.name==="matic"?s.push(new _r("https://polygon-rpc.com/",n,{staticNetwork:n})):n.name==="matic-amoy"&&s.push(new _r("https://rpc-amoy.polygon.technology/",n,{staticNetwork:n}))),t("alchemy"))try{s.push(new Xo(r,e.alchemy))}catch{}if(t("ankr")&&e.ankr!=null)try{s.push(new Yo(r,e.ankr))}catch{}if(t("chainstack"))try{s.push(new ea(r,e.chainstack))}catch{}if(t("cloudflare"))try{s.push(new ib(r))}catch{}if(t("etherscan"))try{s.push(new cb(r,e.etherscan))}catch{}if(t("infura"))try{let o=e.infura,a;typeof o=="object"&&(a=o.projectSecret,o=o.projectId),s.push(new qi(r,o,a))}catch{}if(t("quicknode"))try{let o=e.quicknode;s.push(new ra(r,o))}catch{}if($(s.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),s.length===1)return s[0];let i=Math.floor(s.length/2);return i>2&&(i=2),n&&SE.indexOf(n.name)!==-1&&(i=1),e&&e.quorum&&(i=e.quorum),new mb(s,void 0,{quorum:i})}class Jf extends Zo{signer;#e;#t;constructor(e){super(e.provider),Z(this,{signer:e}),this.#e=null,this.#t=0}async getAddress(){return this.signer.getAddress()}connect(e){return new Jf(this.signer.connect(e))}async getNonce(e){if(e==="pending"){this.#e==null&&(this.#e=super.getNonce("pending"));const t=this.#t;return await this.#e+t}return super.getNonce(e)}increment(){this.#t++}reset(){this.#t=0,this.#e=null}async sendTransaction(e){const t=this.getNonce("pending");return this.increment(),e=await this.signer.populateTransaction(e),e.nonce=await t,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,n){return this.signer.signTypedData(e,t,n)}}class Fs extends sb{#e;#t;constructor(e,t,n){const s=Object.assign({},n??{},{batchMaxCount:1});N(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,s),this.#t=null,n&&n.providerInfo&&(this.#t=n.providerInfo),this.#e=async(i,o)=>{const a={method:i,params:o};this.emit("debug",{action:"sendEip1193Request",payload:a});try{const c=await e.request(a);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const l=new Error(c.message);throw l.code=c.code,l.data=c.data,l.payload=a,this.emit("debug",{action:"receiveEip1193Error",error:l}),l}}}get providerInfo(){return this.#t}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){N(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{const t=await this.#e(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch(t=JSON.parse(JSON.stringify(t)),t.error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`;break}return super.getRpcError(e,t)}async hasSigner(e){e==null&&(e=0);const t=await this.send("eth_accounts",[]);return typeof e=="number"?t.length>e:(e=e.toLowerCase(),t.filter(n=>n.toLowerCase()===e).length!==0)}async getSigner(e){if(e==null&&(e=0),!await this.hasSigner(e))try{await this.#e("eth_requestAccounts",[])}catch(t){const n=t.payload;throw this.getRpcError(n,{id:n.id,error:t})}return await super.getSigner(e)}static async discover(e){if(e==null&&(e={}),e.provider)return new Fs(e.provider);const t=e.window?e.window:typeof window<"u"?window:null;if(t==null)return null;const n=e.anyProvider;if(n&&t.ethereum)return new Fs(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;const s=e.timeout?e.timeout:300;return s===0?null:await new Promise((i,o)=>{let a=[];const c=f=>{a.push(f.detail),n&&l()},l=()=>{if(clearTimeout(u),a.length)if(e&&e.filter){const f=e.filter(a.map(d=>Object.assign({},d.info)));if(f==null)i(null);else if(f instanceof Fs)i(f);else{let d=null;if(f.uuid&&(d=a.filter(m=>f.uuid===m.info.uuid)[0]),d){const{provider:p,info:m}=d;i(new Fs(p,void 0,{providerInfo:m}))}else o(Te("filter returned unknown info","UNSUPPORTED_OPERATION",{value:f}))}}else{const{provider:f,info:d}=a[0];i(new Fs(f,void 0,{providerInfo:d}))}else i(null);t.removeEventListener("eip6963:announceProvider",c)},u=setTimeout(()=>{l()},s);t.addEventListener("eip6963:announceProvider",c),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}function PE(r){switch(r){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}N(!1,"unsupported network","network",r)}class el extends _r{apiKey;constructor(e,t){e==null&&(e="mainnet");const n=Le.from(e);t==null&&(t=null);const s=el.getRequest(n);super(s,n,{staticNetwork:n}),Z(this,{apiKey:t})}_getProvider(e){try{return new el(e,this.apiKey)}catch{}return super._getProvider(e)}isCommunityResource(){return this.apiKey===null}getRpcRequest(e){const t=super.getRpcRequest(e);return t&&t.method==="eth_estimateGas"&&t.args.length==1&&(t.args=t.args.slice(),t.args.push("latest")),t}getRpcError(e,t){const n=t?t.error:null;if(n&&n.code===-32015&&!Ne(n.data||"",!0)){const s={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"};let i="";n.message==="VM execution error."?i=s[n.data]||"":s[n.message||""]&&(i=s[n.message||""]),i&&(n.message+=` (reverted: ${n.data})`,n.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+i)}else n&&n.code===-32e3&&n.message==="wrong transaction nonce"&&(n.message+=" (nonce too low)");return super.getRpcError(e,t)}static getRequest(e){const t=new dt(PE(e.name));return t.allowGzip=!0,t}}const tl="62e1ad51b37b8e00394bda3b";function NE(r){switch(r){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}N(!1,"unsupported network","network",r)}class rl extends _r{applicationId;applicationSecret;constructor(e,t,n){e==null&&(e="mainnet");const s=Le.from(e);t==null&&(t=tl),n==null&&(n=null);const i={staticNetwork:s},o=rl.getRequest(s,t,n);super(o,s,i),Z(this,{applicationId:t,applicationSecret:n})}_getProvider(e){try{return new rl(e,this.applicationId,this.applicationSecret)}catch{}return super._getProvider(e)}static getRequest(e,t,n){t==null&&(t=tl);const s=new dt(`https://${NE(e.name)}/v1/lb/${t}`);return s.allowGzip=!0,n&&s.setCredentials("",n),t===tl&&(s.retryFunc=async(i,o,a)=>(os("PocketProvider"),!0)),s}isCommunityResource(){return this.applicationId===tl}}const RE=void 0;class na extends Zo{address;#e;constructor(e,t){super(t),N(e&&typeof e.sign=="function","invalid private key","privateKey","[ REDACTED ]"),this.#e=e;const n=ki(this.signingKey.publicKey);Z(this,{address:n})}get signingKey(){return this.#e}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new na(this.#e,e)}async signTransaction(e){e=zi(e);const{to:t,from:n}=await yt({to:e.to?pt(e.to,this):void 0,from:e.from?pt(e.from,this):void 0});t!=null&&(e.to=t),n!=null&&(e.from=n),e.from!=null&&(N(fe(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);const s=tr.from(e);return s.signature=this.signingKey.sign(s.unsignedHash),s.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(gf(e)).serialized}authorizeSync(e){N(typeof e.address=="string","invalid address for authorizeSync","auth.address",e);const t=this.signingKey.sign(nf(e));return Object.assign({},{address:fe(e.address),nonce:Y(e.nonce||0),chainId:Y(e.chainId||0)},{signature:t})}async authorize(e){return e=Object.assign({},e,{address:await pt(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,t,n){const s=await Tt.resolveNames(e,t,n,async i=>{$(this.provider!=null,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:i}});const o=await this.provider.resolveName(i);return $(o!=null,"unconfigured ENS name","UNCONFIGURED_NAME",{value:i}),o});return this.signingKey.sign(Tt.hash(s.domain,t,s.value)).serialized}}const nl=" !#$%&'()*+,-./<=>?@[]^_`{|}~",DE=/^[a-z]*$/i;function bb(r,e){let t=97;return r.reduce((n,s)=>(s===e?t++:s.match(DE)?n.push(String.fromCharCode(t)+s):(t=97,n.push(s)),n),[])}function TE(r,e){for(let s=nl.length-1;s>=0;s--)r=r.split(nl[s]).join(e.substring(2*s,2*s+2));const t=[],n=r.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(s,i,o,a)=>{if(o)for(let c=parseInt(o);c>=0;c--)t.push(";");else t.push(i.toLowerCase());return""});if(n)throw new Error(`leftovers: ${JSON.stringify(n)}`);return bb(bb(t,";"),":")}function xb(r){return N(r[0]==="0","unsupported auwl data","data",r),TE(r.substring(1+2*nl.length),r.substring(1,1+2*nl.length))}class wb{locale;constructor(e){Z(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class Zf extends wb{#e;#t;constructor(e,t,n){super(e),this.#e=t,this.#t=n,this.#r=null}get _data(){return this.#e}_decodeWords(){return xb(this.#e)}#r;#n(){if(this.#r==null){const e=this._decodeWords();if(Xr(e.join(`
`)+`
`)!==this.#t)throw new Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#r=e}return this.#r}getWord(e){const t=this.#n();return N(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#n().indexOf(e)}}const BE="0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO",UE="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60";let Yf=null;class _n extends Zf{constructor(){super("en",BE,UE)}static wordlist(){return Yf==null&&(Yf=new _n),Yf}}function yb(r){return(1<<r)-1<<8-r&255}function kE(r){return(1<<r)-1&255}function Xf(r,e){mu("NFKD"),e==null&&(e=_n.wordlist());const t=e.split(r);N(t.length%3===0&&t.length>=12&&t.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");const n=new Uint8Array(Math.ceil(11*t.length/8));let s=0;for(let l=0;l<t.length;l++){let u=e.getWordIndex(t[l].normalize("NFKD"));N(u>=0,`invalid mnemonic word at index ${l}`,"mnemonic","[ REDACTED ]");for(let f=0;f<11;f++)u&1<<10-f&&(n[s>>3]|=1<<7-s%8),s++}const i=32*t.length/3,o=t.length/3,a=yb(o),c=q(Kt(n.slice(0,i/8)))[0]&a;return N(c===(n[n.length-1]&a),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),V(n.slice(0,i/8))}function e0(r,e){N(r.length%4===0&&r.length>=16&&r.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),e==null&&(e=_n.wordlist());const t=[0];let n=11;for(let o=0;o<r.length;o++)n>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],n-=8):(t[t.length-1]<<=n,t[t.length-1]|=r[o]>>8-n,t.push(r[o]&kE(8-n)),n+=3);const s=r.length/4,i=parseInt(Kt(r).substring(2,4),16)&yb(s);return t[t.length-1]<<=s,t[t.length-1]|=i>>8-s,e.join(t.map(o=>e.getWord(o)))}const t0={};class Hs{phrase;password;wordlist;entropy;constructor(e,t,n,s,i){s==null&&(s=""),i==null&&(i=_n.wordlist()),gn(e,t0,"Mnemonic"),Z(this,{phrase:n,password:s,wordlist:i,entropy:t})}computeSeed(){const e=ht("mnemonic"+this.password,"NFKD");return Zr(ht(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,n){const s=Xf(e,n);return e=e0(q(s),n),new Hs(t0,s,e,t,n)}static fromEntropy(e,t,n){const s=q(e,"entropy"),i=e0(s,n);return new Hs(t0,V(s),i,t,n)}static entropyToPhrase(e,t){const n=q(e,"entropy");return e0(n,t)}static phraseToEntropy(e,t){return Xf(e,t)}static isValidMnemonic(e,t){try{return Xf(e,t),!0}catch{}return!1}}/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var Ut=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},r0=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},sl,Ir,rn;const LE={16:10,24:12,32:14},$E=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],Cr=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],il=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],ME=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],FE=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],HE=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],jE=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],zE=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],VE=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],GE=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],KE=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],WE=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],qE=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],QE=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],JE=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function n0(r){const e=[];for(let t=0;t<r.length;t+=4)e.push(r[t]<<24|r[t+1]<<16|r[t+2]<<8|r[t+3]);return e}class s0{get key(){return Ut(this,sl,"f").slice()}constructor(e){if(sl.set(this,void 0),Ir.set(this,void 0),rn.set(this,void 0),!(this instanceof s0))throw Error("AES must be instanitated with `new`");r0(this,sl,new Uint8Array(e),"f");const t=LE[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");r0(this,rn,[],"f"),r0(this,Ir,[],"f");for(let u=0;u<=t;u++)Ut(this,rn,"f").push([0,0,0,0]),Ut(this,Ir,"f").push([0,0,0,0]);const n=(t+1)*4,s=this.key.length/4,i=n0(this.key);let o;for(let u=0;u<s;u++)o=u>>2,Ut(this,rn,"f")[o][u%4]=i[u],Ut(this,Ir,"f")[t-o][u%4]=i[u];let a=0,c=s,l;for(;c<n;){if(l=i[s-1],i[0]^=Cr[l>>16&255]<<24^Cr[l>>8&255]<<16^Cr[l&255]<<8^Cr[l>>24&255]^$E[a]<<24,a+=1,s!=8)for(let p=1;p<s;p++)i[p]^=i[p-1];else{for(let p=1;p<s/2;p++)i[p]^=i[p-1];l=i[s/2-1],i[s/2]^=Cr[l&255]^Cr[l>>8&255]<<8^Cr[l>>16&255]<<16^Cr[l>>24&255]<<24;for(let p=s/2+1;p<s;p++)i[p]^=i[p-1]}let u=0,f,d;for(;u<s&&c<n;)f=c>>2,d=c%4,Ut(this,rn,"f")[f][d]=i[u],Ut(this,Ir,"f")[t-f][d]=i[u++],c++}for(let u=1;u<t;u++)for(let f=0;f<4;f++)l=Ut(this,Ir,"f")[u][f],Ut(this,Ir,"f")[u][f]=WE[l>>24&255]^qE[l>>16&255]^QE[l>>8&255]^JE[l&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=Ut(this,rn,"f").length-1,n=[0,0,0,0];let s=n0(e);for(let a=0;a<4;a++)s[a]^=Ut(this,rn,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)n[c]=ME[s[c]>>24&255]^FE[s[(c+1)%4]>>16&255]^HE[s[(c+2)%4]>>8&255]^jE[s[(c+3)%4]&255]^Ut(this,rn,"f")[a][c];s=n.slice()}const i=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=Ut(this,rn,"f")[t][a],i[4*a]=(Cr[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(Cr[s[(a+1)%4]>>16&255]^o>>16)&255,i[4*a+2]=(Cr[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(Cr[s[(a+3)%4]&255]^o)&255;return i}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=Ut(this,Ir,"f").length-1,n=[0,0,0,0];let s=n0(e);for(let a=0;a<4;a++)s[a]^=Ut(this,Ir,"f")[0][a];for(let a=1;a<t;a++){for(let c=0;c<4;c++)n[c]=zE[s[c]>>24&255]^VE[s[(c+3)%4]>>16&255]^GE[s[(c+2)%4]>>8&255]^KE[s[(c+1)%4]&255]^Ut(this,Ir,"f")[a][c];s=n.slice()}const i=new Uint8Array(16);let o=0;for(let a=0;a<4;a++)o=Ut(this,Ir,"f")[t][a],i[4*a]=(il[s[a]>>24&255]^o>>24)&255,i[4*a+1]=(il[s[(a+3)%4]>>16&255]^o>>16)&255,i[4*a+2]=(il[s[(a+2)%4]>>8&255]^o>>8)&255,i[4*a+3]=(il[s[(a+1)%4]&255]^o)&255;return i}}sl=new WeakMap,Ir=new WeakMap,rn=new WeakMap;class vb{constructor(e,t,n){if(n&&!(this instanceof n))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new s0(t)},name:{enumerable:!0,value:e}})}}var ol=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Ji=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},sa,In;class i0 extends vb{constructor(e,t){if(super("ECC",e,i0),sa.set(this,void 0),In.set(this,void 0),t){if(t.length%16)throw new TypeError("invalid iv size (must be 16 bytes)");ol(this,sa,new Uint8Array(t),"f")}else ol(this,sa,new Uint8Array(16),"f");ol(this,In,this.iv,"f")}get iv(){return new Uint8Array(Ji(this,sa,"f"))}encrypt(e){if(e.length%16)throw new TypeError("invalid plaintext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){for(let s=0;s<16;s++)Ji(this,In,"f")[s]^=e[n+s];ol(this,In,this.aes.encrypt(Ji(this,In,"f")),"f"),t.set(Ji(this,In,"f"),n)}return t}decrypt(e){if(e.length%16)throw new TypeError("invalid ciphertext size (must be multiple of 16 bytes)");const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=16){const s=this.aes.decrypt(e.subarray(n,n+16));for(let i=0;i<16;i++)t[n+i]=s[i]^Ji(this,In,"f")[i],Ji(this,In,"f")[i]=e[n+i]}return t}}sa=new WeakMap,In=new WeakMap;var Zi=function(r,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!s:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(r,t):s?s.value=t:e.set(r,t),t},Sr=function(r,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)},ia,js,Or;class Yi extends vb{constructor(e,t){super("CTR",e,Yi),ia.set(this,void 0),js.set(this,void 0),Or.set(this,void 0),Zi(this,Or,new Uint8Array(16),"f"),Sr(this,Or,"f").fill(0),Zi(this,ia,Sr(this,Or,"f"),"f"),Zi(this,js,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(Sr(this,Or,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)Sr(this,Or,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");Sr(this,Or,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(Sr(this,Or,"f")[e]===255)Sr(this,Or,"f")[e]=0;else{Sr(this,Or,"f")[e]++;break}}encrypt(e){var t,n;const s=new Uint8Array(e);for(let i=0;i<s.length;i++)Sr(this,js,"f")===16&&(Zi(this,ia,this.aes.encrypt(Sr(this,Or,"f")),"f"),Zi(this,js,0,"f"),this.increment()),s[i]^=Sr(this,ia,"f")[Zi(this,js,(n=Sr(this,js,"f"),t=n++,n),"f"),t];return s}decrypt(e){return this.encrypt(e)}}ia=new WeakMap,js=new WeakMap,Or=new WeakMap;function ZE(r){if(r.length<16)throw new TypeError("PKCS#7 invalid length");const e=r[r.length-1];if(e>16)throw new TypeError("PKCS#7 padding byte out of range");const t=r.length-e;for(let n=0;n<e;n++)if(r[t+n]!==e)throw new TypeError("PKCS#7 invalid padding byte");return new Uint8Array(r.subarray(0,t))}function Eb(r){return typeof r=="string"&&!r.startsWith("0x")&&(r="0x"+r),vt(r)}function oa(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function aa(r){return typeof r=="string"?ht(r,"NFKC"):vt(r)}function et(r,e){const t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);N(t!=null,"invalid path","path",e);const n=t[1],s=t[3],i=t[4]==="!";let o=r;for(const a of n.toLowerCase().split(".")){if(Array.isArray(o)){if(!a.match(/^[0-9]+$/))break;o=o[parseInt(a)]}else if(typeof o=="object"){let c=null;for(const l in o)if(l.toLowerCase()===a){c=o[l];break}o=c}else o=null;if(o==null)break}if(N(!i||o!=null,"missing required value","path",n),s&&o!=null){if(s==="int"){if(typeof o=="string"&&o.match(/^-?[0-9]+$/))return parseInt(o);if(Number.isSafeInteger(o))return o}if(s==="number"&&typeof o=="string"&&o.match(/^-?[0-9.]*$/))return parseFloat(o);if(s==="data"&&typeof o=="string")return Eb(o);if(s==="array"&&Array.isArray(o)||s===typeof o)return o;N(!1,`wrong type found for ${s} `,"path",n)}return o}const Ab="m/44'/60'/0'/0/0";function o0(r){try{const e=JSON.parse(r);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function YE(r,e,t){if(et(r,"crypto.cipher:string")==="aes-128-ctr"){const s=et(r,"crypto.cipherparams.iv:data!"),i=new Yi(e,s);return V(i.decrypt(t))}$(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function al(r,e){const t=q(e),n=et(r,"crypto.ciphertext:data!"),s=V(Re(ye([t.slice(16,32),n]))).substring(2);N(s===et(r,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const i=YE(r,t.slice(0,16),n),o=ki(i);if(r.address){let l=r.address.toLowerCase();l.startsWith("0x")||(l="0x"+l),N(fe(l)===o,"keystore address/privateKey mismatch","address",r.address)}const a={address:o,privateKey:i};if(et(r,"x-ethers.version:string")==="0.1"){const l=t.slice(32,64),u=et(r,"x-ethers.mnemonicCiphertext:data!"),f=et(r,"x-ethers.mnemonicCounter:data!"),d=new Yi(l,f);a.mnemonic={path:et(r,"x-ethers.path:string")||Ab,locale:et(r,"x-ethers.locale:string")||"en",entropy:V(q(d.decrypt(u)))}}return a}function _b(r){const e=et(r,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const t=et(r,"crypto.kdfparams.salt:data!"),n=et(r,"crypto.kdfparams.n:int!"),s=et(r,"crypto.kdfparams.r:int!"),i=et(r,"crypto.kdfparams.p:int!");N(n>0&&(n&n-1)===0,"invalid kdf.N","kdf.N",n),N(s>0&&i>0,"invalid kdf","kdf",e);const o=et(r,"crypto.kdfparams.dklen:int!");return N(o===32,"invalid kdf.dklen","kdf.dflen",o),{name:"scrypt",salt:t,N:n,r:s,p:i,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const t=et(r,"crypto.kdfparams.salt:data!"),n=et(r,"crypto.kdfparams.prf:string!"),s=n.split("-").pop();N(s==="sha256"||s==="sha512","invalid kdf.pdf","kdf.pdf",n);const i=et(r,"crypto.kdfparams.c:int!"),o=et(r,"crypto.kdfparams.dklen:int!");return N(o===32,"invalid kdf.dklen","kdf.dklen",o),{name:"pbkdf2",salt:t,count:i,dkLen:o,algorithm:s}}}N(!1,"unsupported key-derivation function","kdf",e)}function Ib(r,e){const t=JSON.parse(r),n=aa(e),s=_b(t);if(s.name==="pbkdf2"){const{salt:f,count:d,dkLen:p,algorithm:m}=s,b=Zr(n,f,d,p,m);return al(t,b)}$(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:i,N:o,r:a,p:c,dkLen:l}=s,u=Jn(n,i,o,a,c,l);return al(t,u)}function Cb(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}async function Sb(r,e,t){const n=JSON.parse(r),s=aa(e),i=_b(n);if(i.name==="pbkdf2"){t&&(t(0),await Cb(0));const{salt:d,count:p,dkLen:m,algorithm:b}=i,I=Zr(s,d,p,m,b);return t&&(t(1),await Cb(0)),al(n,I)}$(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:o,N:a,r:c,p:l,dkLen:u}=i,f=await Qn(s,o,a,c,l,u,t);return al(n,f)}function Ob(r){const e=r.salt!=null?q(r.salt,"options.salt"):yr(32);let t=1<<17,n=8,s=1;return r.scrypt&&(r.scrypt.N&&(t=r.scrypt.N),r.scrypt.r&&(n=r.scrypt.r),r.scrypt.p&&(s=r.scrypt.p)),N(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),N(typeof n=="number"&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),N(typeof s=="number"&&s>0&&Number.isSafeInteger(s),"invalid scrypt p parameter","options.p",s),{name:"scrypt",dkLen:32,salt:e,N:t,r:n,p:s}}function Pb(r,e,t,n){const s=q(t.privateKey,"privateKey"),i=n.iv!=null?q(n.iv,"options.iv"):yr(16);N(i.length===16,"invalid options.iv length","options.iv",n.iv);const o=n.uuid!=null?q(n.uuid,"options.uuid"):yr(16);N(o.length===16,"invalid options.uuid length","options.uuid",n.iv);const a=r.slice(0,16),c=r.slice(16,32),l=new Yi(a,i),u=q(l.encrypt(s)),f=Re(ye([c,u])),d={address:t.address.substring(2).toLowerCase(),id:Hp(o),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:V(i).substring(2)},ciphertext:V(u).substring(2),kdf:"scrypt",kdfparams:{salt:V(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:f.substring(2)}};if(t.mnemonic){const p=n.client!=null?n.client:`ethers/${pu}`,m=t.mnemonic.path||Ab,b=t.mnemonic.locale||"en",I=r.slice(32,64),_=q(t.mnemonic.entropy,"account.mnemonic.entropy"),A=yr(16),v=new Yi(I,A),w=q(v.encrypt(_)),y=new Date,h="UTC--"+(y.getUTCFullYear()+"-"+oa(y.getUTCMonth()+1,2)+"-"+oa(y.getUTCDate(),2)+"T"+oa(y.getUTCHours(),2)+"-"+oa(y.getUTCMinutes(),2)+"-"+oa(y.getUTCSeconds(),2)+".0Z")+"--"+d.address;d["x-ethers"]={client:p,gethFilename:h,path:m,locale:b,mnemonicCounter:V(A).substring(2),mnemonicCiphertext:V(w).substring(2),version:"0.1"}}return JSON.stringify(d)}function a0(r,e,t){t==null&&(t={});const n=aa(e),s=Ob(t),i=Jn(n,s.salt,s.N,s.r,s.p,64);return Pb(q(i),s,r,t)}async function c0(r,e,t){t==null&&(t={});const n=aa(e),s=Ob(t),i=await Qn(n,s.salt,s.N,s.r,s.p,64,t.progressCallback);return Pb(q(i),s,r,t)}const cl="m/44'/60'/0'/0/0",XE=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),nn=2147483648,e7=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),t7="0123456789abcdef";function ll(r,e){let t="";for(;r;)t=t7[r%16]+t,r=Math.trunc(r/16);for(;t.length<e*2;)t="0"+t;return"0x"+t}function l0(r){const e=q(r),t=Be(Kt(Kt(e)),0,4),n=ye([e,t]);return xu(n)}const sn={};function Nb(r,e,t,n){const s=new Uint8Array(37);r&nn?($(n!=null,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),s.set(q(n),1)):s.set(q(t));for(let o=24;o>=0;o-=8)s[33+(o>>3)]=r>>24-o&255;const i=q(Wn("sha512",e,s));return{IL:i.slice(0,32),IR:i.slice(32)}}function Rb(r,e){const t=e.split("/");N(t.length>0,"invalid path","path",e),t[0]==="m"&&(N(r.depth===0,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${r.depth}`,"path",e),t.shift());let n=r;for(let s=0;s<t.length;s++){const i=t[s];if(i.match(/^[0-9]+'$/)){const o=parseInt(i.substring(0,i.length-1));N(o<nn,"invalid path index",`path[${s}]`,i),n=n.deriveChild(nn+o)}else if(i.match(/^[0-9]+$/)){const o=parseInt(i);N(o<nn,"invalid path index",`path[${s}]`,i),n=n.deriveChild(o)}else N(!1,"invalid path component",`path[${s}]`,i)}return n}class pr extends na{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,n,s,i,o,a,c,l){super(t,l),gn(e,sn,"HDNodeWallet"),Z(this,{publicKey:t.compressedPublicKey});const u=Be(qn(Kt(this.publicKey)),0,4);Z(this,{parentFingerprint:n,fingerprint:u,chainCode:s,path:i,index:o,depth:a}),Z(this,{mnemonic:c})}connect(e){return new pr(sn,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#e(){const e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&t.wordlist.locale==="en"&&t.password===""&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await c0(this.#e(),e,{progressCallback:t})}encryptSync(e){return a0(this.#e(),e)}get extendedKey(){return $(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),l0(ye(["0x0488ADE4",ll(this.depth,1),this.parentFingerprint,ll(this.index,4),this.chainCode,ye(["0x00",this.privateKey])]))}hasPath(){return this.path!=null}neuter(){return new Xi(sn,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){const t=ae(e,"index");N(t<=4294967295,"invalid index","index",t);let n=this.path;n&&(n+="/"+(t&~nn),t&nn&&(n+="'"));const{IR:s,IL:i}=Nb(t,this.chainCode,this.publicKey,this.privateKey),o=new Wt(Kr((Ai(i)+BigInt(this.privateKey))%e7,32));return new pr(sn,o,this.fingerprint,V(s),n,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return Rb(this,e)}static#t(e,t){N(Io(e),"invalid seed","seed","[REDACTED]");const n=q(e,"seed");N(n.length>=16&&n.length<=64,"invalid seed","seed","[REDACTED]");const s=q(Wn("sha512",XE,n)),i=new Wt(V(s.slice(0,32)));return new pr(sn,i,"0x00000000",V(s.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){const t=Me(wp(e));N(t.length===82||l0(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");const n=t[4],s=V(t.slice(5,9)),i=parseInt(V(t.slice(9,13)).substring(2),16),o=V(t.slice(13,45)),a=t.slice(45,78);switch(V(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{const c=V(a);return new Xi(sn,ki(c),c,s,o,null,i,n,null)}case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new pr(sn,new Wt(a.slice(1)),s,o,null,i,n,null,null)}N(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,n){e==null&&(e=""),t==null&&(t=cl),n==null&&(n=_n.wordlist());const s=Hs.fromEntropy(yr(16),e,n);return pr.#t(s.computeSeed(),s).derivePath(t)}static fromMnemonic(e,t){return t||(t=cl),pr.#t(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,n,s){t==null&&(t=""),n==null&&(n=cl),s==null&&(s=_n.wordlist());const i=Hs.fromPhrase(e,t,s);return pr.#t(i.computeSeed(),i).derivePath(n)}static fromSeed(e){return pr.#t(e,null)}}class Xi extends Gc{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,n,s,i,o,a,c,l){super(t,l),gn(e,sn,"HDNodeVoidWallet"),Z(this,{publicKey:n});const u=Be(qn(Kt(n)),0,4);Z(this,{publicKey:n,fingerprint:u,parentFingerprint:s,chainCode:i,path:o,index:a,depth:c})}connect(e){return new Xi(sn,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return $(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),l0(ye(["0x0488B21E",ll(this.depth,1),this.parentFingerprint,ll(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return this.path!=null}deriveChild(e){const t=ae(e,"index");N(t<=4294967295,"invalid index","index",t);let n=this.path;n&&(n+="/"+(t&~nn),t&nn&&(n+="'"));const{IR:s,IL:i}=Nb(t,this.chainCode,this.publicKey,null),o=Wt.addPoints(i,this.publicKey,!0),a=ki(o);return new Xi(sn,a,o,this.fingerprint,V(s),n,t,this.depth+1,this.provider)}derivePath(e){return Rb(this,e)}}function r7(r){const e=ae(r,"index");return N(e>=0&&e<nn,"invalid account index","index",e),`m/44'/60'/${e}'/0/0`}function n7(r){const e=ae(r,"index");return N(e>=0&&e<nn,"invalid account index","index",e),`m/44'/60'/0'/0/${e}`}function u0(r){try{if(JSON.parse(r).encseed)return!0}catch{}return!1}function f0(r,e){const t=JSON.parse(r),n=aa(e),s=fe(et(t,"ethaddr:string!")),i=Eb(et(t,"encseed:string!"));N(i&&i.length%16===0,"invalid encseed","json",r);const o=q(Zr(n,n,2e3,32,"sha256")).slice(0,16),a=i.slice(0,16),c=i.slice(16),l=new i0(o,a),u=ZE(q(l.decrypt(c)));let f="";for(let d=0;d<u.length;d++)f+=String.fromCharCode(u[d]);return{address:s,privateKey:Xr(f)}}function Db(r){return new Promise(e=>{setTimeout(()=>{e()},r)})}class eo extends na{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);let n=typeof e=="string"?new Wt(e):e;super(n,t)}connect(e){return new eo(this.signingKey,e)}async encrypt(e,t){const n={address:this.address,privateKey:this.privateKey};return await c0(n,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return a0(t,e)}static#e(e){if(N(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&e.mnemonic.locale==="en"){const n=Hs.fromEntropy(e.mnemonic.entropy),s=pr.fromMnemonic(n,e.mnemonic.path);if(s.address===e.address&&s.privateKey===e.privateKey)return s;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}const t=new eo(e.privateKey);return N(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static async fromEncryptedJson(e,t,n){let s=null;return o0(e)?s=await Sb(e,t,n):u0(e)&&(n&&(n(0),await Db(0)),s=f0(e,t),n&&(n(1),await Db(0))),eo.#e(s)}static fromEncryptedJsonSync(e,t){let n=null;return o0(e)?n=Ib(e,t):u0(e)?n=f0(e,t):N(!1,"invalid JSON wallet","json","[ REDACTED ]"),eo.#e(n)}static createRandom(e){const t=pr.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){const n=pr.fromPhrase(e);return t?n.connect(t):n}}const s7=")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_";function i7(r,e){const t=(1<<r)-1,n=[];let s=0,i=0,o=0;for(let a=0;a<e.length;a++)for(s=s<<6|s7.indexOf(e[a]),i+=6;i>=r;){const c=s>>i-r;s&=(1<<i-r)-1,i-=r,c===0?o+=t:(n.push(c+o),o=0)}return n}function o7(r,e){let t=xb(r).join(",");return e.split(/,/g).forEach(n=>{const s=n.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);N(s!==null,"internal error parsing accents","accents",e);let i=0;const o=i7(parseInt(s[3]),s[4]),a=parseInt(s[2]),c=new RegExp(`([${s[1]}])`,"g");t=t.replace(c,(l,u)=>(--o[i]===0&&(u=String.fromCharCode(u.charCodeAt(0),a),i++),u))}),t.split(",")}class a7 extends Zf{#e;constructor(e,t,n,s){super(e,t,s),this.#e=n}get _accent(){return this.#e}_decodeWords(){return o7(this._data,this._accent)}}const c7={en:_n.wordlist()},l7=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:ns,AbstractProvider:Jo,AbstractSigner:Zo,AlchemyProvider:Xo,AnkrProvider:Yo,BaseContract:ss,BaseWallet:na,Block:Pm,BlockscoutProvider:el,BrowserProvider:Fs,ChainstackProvider:ea,CloudflareProvider:ib,ConstructorFragment:en,Contract:Ls,ContractEventPayload:Tm,ContractFactory:Pf,ContractTransactionReceipt:Dm,ContractTransactionResponse:Mc,ContractUnknownEventPayload:_f,EnsPlugin:qo,EnsResolver:$s,ErrorDescription:Im,ErrorFragment:Qt,EtherSymbol:I8,EtherscanPlugin:zf,EtherscanProvider:cb,EventFragment:$r,EventLog:$c,EventPayload:wu,FallbackFragment:tn,FallbackProvider:mb,FeeData:vf,FeeDataNetworkPlugin:Rf,FetchCancelSignal:Np,FetchRequest:dt,FetchResponse:mn,FetchUrlFeeDataNetworkPlugin:Wm,FixedNumber:Wr,Fragment:ts,FunctionFragment:Mr,GasCostPlugin:Wo,HDNodeVoidWallet:Xi,HDNodeWallet:pr,Indexed:yf,InfuraProvider:qi,InfuraWebSocketProvider:db,Interface:An,IpcSocketProvider:RE,JsonRpcApiProvider:Ff,JsonRpcProvider:_r,JsonRpcSigner:Wc,LangEn:_n,Log:Vi,LogDescription:Am,MaxInt256:_8,MaxUint256:E8,MessagePrefix:l1,MinInt256:A8,Mnemonic:Hs,MulticoinProviderPlugin:jm,N:y8,NamedFragment:jo,Network:Le,NetworkPlugin:is,NonceManager:Jf,ParamType:Ue,PocketProvider:rl,QuickNodeProvider:ra,Result:Qr,Signature:He,SigningKey:Wt,SocketBlockSubscriber:lb,SocketEventSubscriber:fb,SocketPendingSubscriber:ub,SocketProvider:hb,SocketSubscriber:Zc,StructFragment:rs,Transaction:tr,TransactionDescription:_m,TransactionReceipt:Ef,TransactionResponse:Gi,Typed:je,TypedDataEncoder:Tt,UndecodedEventLog:Af,UnmanagedSubscriber:Qo,Utf8ErrorFuncs:Ap,VoidSigner:Gc,Wallet:eo,WebSocketProvider:Vf,WeiPerEther:v8,Wordlist:wb,WordlistOwl:Zf,WordlistOwlA:a7,ZeroAddress:Bi,ZeroHash:Qu,accessListify:yn,assert:$,assertArgument:N,assertArgumentCount:gu,assertNormalize:mu,assertPrivate:gn,authorizationify:tf,checkResultErrors:U5,computeAddress:ki,computeHmac:Wn,concat:ye,copyRequest:zi,dataLength:Fn,dataSlice:Be,decodeBase58:wp,decodeBase64:yp,decodeBytes32String:Av,decodeRlp:Si,decryptCrowdsaleJson:f0,decryptKeystoreJson:Sb,decryptKeystoreJsonSync:Ib,defaultPath:cl,defineProperties:Z,dnsEncode:Z1,encodeBase58:xu,encodeBase64:vp,encodeBytes32String:Ev,encodeRlp:qr,encryptKeystoreJson:c0,encryptKeystoreJsonSync:a0,ensNormalize:J1,formatEther:D5,formatUnits:Mp,fromTwos:Co,getAccountPath:r7,getAddress:fe,getBigInt:Y,getBytes:q,getBytesCopy:vt,getCreate2Address:D8,getCreateAddress:Zu,getDefaultProvider:OE,getIcapAddress:R8,getIndexedAccountPath:n7,getNumber:ae,getUint:So,hashAuthorization:nf,hashMessage:gf,hexlify:V,id:Xr,isAddress:T8,isAddressable:Yu,isBytesLike:Io,isCallException:ic,isCrowdsaleJson:u0,isError:Ze,isHexString:Ne,isKeystoreJson:o0,isValidName:Q6,keccak256:Re,lock:C8,makeError:Te,mask:Hn,namehash:Uc,parseEther:T5,parseUnits:Fp,pbkdf2:Zr,randomBytes:yr,recoverAddress:Uo,resolveAddress:pt,resolveProperties:yt,ripemd160:qn,scrypt:Qn,scryptSync:Jn,sha256:Kt,sha512:Do,showThrottleMessage:os,solidityPacked:mf,solidityPackedKeccak256:ev,solidityPackedSha256:tv,stripZerosLeft:g5,toBeArray:Me,toBeHex:Kr,toBigInt:Ai,toNumber:xp,toQuantity:fr,toTwos:cc,toUtf8Bytes:ht,toUtf8CodePoints:v5,toUtf8String:jn,uuidV4:Hp,verifyAuthorization:h6,verifyMessage:J6,verifyTypedData:cv,version:pu,wordlists:c7,zeroPadBytes:oc,zeroPadValue:ur},Symbol.toStringTag,{value:"Module"})),aL="modulepreload",cL=function(r,e){return new URL(r,e).href},lL={},u7=function(e,t,n){let s=Promise.resolve();function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},f7=Symbol(),Tb=Object.getPrototypeOf,h0=new WeakMap,h7=r=>r&&(h0.has(r)?h0.get(r):Tb(r)===Object.prototype||Tb(r)===Array.prototype),d7=r=>h7(r)&&r[f7]||null,Bb=(r,e=!0)=>{h0.set(r,e)},ul={},d0=r=>typeof r=="object"&&r!==null,as=new WeakMap,fl=new WeakSet,p7=(r=Object.is,e=(l,u)=>new Proxy(l,u),t=l=>d0(l)&&!fl.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},s=new WeakMap,i=(l,u,f=n)=>{const d=s.get(l);if(d?.[0]===u)return d[1];const p=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return Bb(p,!0),s.set(l,[u,p]),Reflect.ownKeys(l).forEach(m=>{if(Object.getOwnPropertyDescriptor(p,m))return;const b=Reflect.get(l,m),I={value:b,enumerable:!0,configurable:!0};if(fl.has(b))Bb(b,!1);else if(b instanceof Promise)delete I.value,I.get=()=>f(b);else if(as.has(b)){const[_,A]=as.get(b);I.value=i(_,A(),f)}Object.defineProperty(p,m,I)}),Object.preventExtensions(p)},o=new WeakMap,a=[1,1],c=l=>{if(!d0(l))throw new Error("object required");const u=o.get(l);if(u)return u;let f=a[0];const d=new Set,p=(S,P=++a[0])=>{f!==P&&(f=P,d.forEach(D=>D(S,P)))};let m=a[1];const b=(S=++a[1])=>(m!==S&&!d.size&&(m=S,_.forEach(([P])=>{const D=P[1](S);D>f&&(f=D)})),f),I=S=>(P,D)=>{const B=[...P];B[1]=[S,...B[1]],p(B,D)},_=new Map,A=(S,P)=>{if((ul?"production":void 0)!=="production"&&_.has(S))throw new Error("prop listener already exists");if(d.size){const D=P[3](I(S));_.set(S,[P,D])}else _.set(S,[P])},v=S=>{var P;const D=_.get(S);D&&(_.delete(S),(P=D[1])==null||P.call(D))},w=S=>(d.add(S),d.size===1&&_.forEach(([D,B],L)=>{if((ul?"production":void 0)!=="production"&&B)throw new Error("remove already exists");const U=D[3](I(L));_.set(L,[D,U])}),()=>{d.delete(S),d.size===0&&_.forEach(([D,B],L)=>{B&&(B(),_.set(L,[D]))})}),y=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),h=e(y,{deleteProperty(S,P){const D=Reflect.get(S,P);v(P);const B=Reflect.deleteProperty(S,P);return B&&p(["delete",[P],D]),B},set(S,P,D,B){const L=Reflect.has(S,P),U=Reflect.get(S,P,B);if(L&&(r(U,D)||o.has(D)&&r(U,o.get(D))))return!0;v(P),d0(D)&&(D=d7(D)||D);let C=D;if(D instanceof Promise)D.then(E=>{D.status="fulfilled",D.value=E,p(["resolve",[P],E])}).catch(E=>{D.status="rejected",D.reason=E,p(["reject",[P],E])});else{!as.has(D)&&t(D)&&(C=c(D));const E=!fl.has(C)&&as.get(C);E&&A(P,E)}return Reflect.set(S,P,C,B),p(["set",[P],D,U]),!0}});o.set(l,h);const x=[y,b,i,w];return as.set(h,x),Reflect.ownKeys(l).forEach(S=>{const P=Object.getOwnPropertyDescriptor(l,S);"value"in P&&(h[S]=l[S],delete P.value,delete P.writable),Object.defineProperty(y,S,P)}),h})=>[c,as,fl,r,e,t,n,s,i,o,a],[g7]=p7();function cs(r={}){return g7(r)}function zs(r,e,t){const n=as.get(r);(ul?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let s;const i=[],o=n[3];let a=!1;const l=o(u=>{i.push(u),s||(s=Promise.resolve().then(()=>{s=void 0,a&&e(i.splice(0))}))});return a=!0,()=>{a=!1,l()}}function m7(r,e){const t=as.get(r);(ul?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[n,s,i]=t;return i(n,s(),e)}const _t=cs({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),Ve={state:_t,subscribe(r){return zs(_t,()=>r(_t))},push(r,e){r!==_t.view&&(_t.view=r,e&&(_t.data=e),_t.history.push(r))},reset(r){_t.view=r,_t.history=[r]},replace(r){_t.history.length>1&&(_t.history[_t.history.length-1]=r,_t.view=r)},goBack(){if(_t.history.length>1){_t.history.pop();const[r]=_t.history.slice(-1);_t.view=r}},setData(r){_t.data=r}},re={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return re.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const r=navigator.userAgent.toLowerCase();return re.isMobile()&&(r.includes("iphone")||r.includes("ipad"))},isHttpUrl(r){return r.startsWith("http://")||r.startsWith("https://")},isArray(r){return Array.isArray(r)&&r.length>0},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},formatNativeUrl(r,e,t){if(re.isHttpUrl(r))return this.formatUniversalUrl(r,e,t);let n=r;n.includes("://")||(n=r.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,t);const s=encodeURIComponent(e);return`${n}wc?uri=${s}`},formatUniversalUrl(r,e,t){if(!re.isHttpUrl(r))return this.formatNativeUrl(r,e,t);let n=r;if(n.startsWith("https://t.me")){const i=Buffer.from(e).toString("base64").replace(/[=]/g,"");n.endsWith("/")&&(n=n.slice(0,-1)),this.setWalletConnectDeepLink(n,t);const o=new URL(n);return o.searchParams.set("startapp",i),o.toString()}n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,t);const s=encodeURIComponent(e);return`${n}wc?uri=${s}`},async wait(r){return new Promise(e=>{setTimeout(e,r)})},openHref(r,e){const t=this.isTelegram()?"_blank":e;window.open(r,t,"noreferrer noopener")},setWalletConnectDeepLink(r,e){try{localStorage.setItem(re.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:r,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(r){try{const[e]=r.split("?");localStorage.setItem(re.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(re.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(re.WCM_VERSION,"2.7.0")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var r;const e=(r=Ve.state.data)==null?void 0:r.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},b7=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),Ft=cs({enabled:b7,userSessionId:"",events:[],connectedWalletId:void 0}),Ub={state:Ft,subscribe(r){return zs(Ft.events,()=>r(m7(Ft.events[Ft.events.length-1])))},initialize(){Ft.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(Ft.userSessionId=crypto.randomUUID())},setConnectedWalletId(r){Ft.connectedWalletId=r},click(r){if(Ft.enabled){const e={type:"CLICK",name:r.name,userSessionId:Ft.userSessionId,timestamp:Date.now(),data:r};Ft.events.push(e)}},track(r){if(Ft.enabled){const e={type:"TRACK",name:r.name,userSessionId:Ft.userSessionId,timestamp:Date.now(),data:r};Ft.events.push(e)}},view(r){if(Ft.enabled){const e={type:"VIEW",name:r.name,userSessionId:Ft.userSessionId,timestamp:Date.now(),data:r};Ft.events.push(e)}}},on=cs({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),tt={state:on,subscribe(r){return zs(on,()=>r(on))},setChains(r){on.chains=r},setWalletConnectUri(r){on.walletConnectUri=r},setIsCustomDesktop(r){on.isCustomDesktop=r},setIsCustomMobile(r){on.isCustomMobile=r},setIsDataLoaded(r){on.isDataLoaded=r},setIsUiLoaded(r){on.isUiLoaded=r},setIsAuth(r){on.isAuth=r}},hl=cs({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),gr={state:hl,subscribe(r){return zs(hl,()=>r(hl))},setConfig(r){var e,t;Ub.initialize(),tt.setChains(r.chains),tt.setIsAuth(!!r.enableAuthMode),tt.setIsCustomMobile(!!((e=r.mobileWallets)!=null&&e.length)),tt.setIsCustomDesktop(!!((t=r.desktopWallets)!=null&&t.length)),re.setModalVersionInStorage(),Object.assign(hl,r)}};var x7=Object.defineProperty,kb=Object.getOwnPropertySymbols,w7=Object.prototype.hasOwnProperty,y7=Object.prototype.propertyIsEnumerable,Lb=(r,e,t)=>e in r?x7(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,v7=(r,e)=>{for(var t in e||(e={}))w7.call(e,t)&&Lb(r,t,e[t]);if(kb)for(var t of kb(e))y7.call(e,t)&&Lb(r,t,e[t]);return r};const p0="https://explorer-api.walletconnect.com",g0="wcm",m0="js-2.7.0";async function dl(r,e){const t=v7({sdkType:g0,sdkVersion:m0},e),n=new URL(r,p0);return n.searchParams.append("projectId",gr.state.projectId),Object.entries(t).forEach(([i,o])=>{o&&n.searchParams.append(i,String(o))}),(await fetch(n)).json()}const Vs={async getDesktopListings(r){return dl("/w3m/v1/getDesktopListings",r)},async getMobileListings(r){return dl("/w3m/v1/getMobileListings",r)},async getInjectedListings(r){return dl("/w3m/v1/getInjectedListings",r)},async getAllListings(r){return dl("/w3m/v1/getAllListings",r)},getWalletImageUrl(r){return`${p0}/w3m/v1/getWalletImage/${r}?projectId=${gr.state.projectId}&sdkType=${g0}&sdkVersion=${m0}`},getAssetImageUrl(r){return`${p0}/w3m/v1/getAssetImage/${r}?projectId=${gr.state.projectId}&sdkType=${g0}&sdkVersion=${m0}`}};var E7=Object.defineProperty,$b=Object.getOwnPropertySymbols,A7=Object.prototype.hasOwnProperty,_7=Object.prototype.propertyIsEnumerable,Mb=(r,e,t)=>e in r?E7(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,I7=(r,e)=>{for(var t in e||(e={}))A7.call(e,t)&&Mb(r,t,e[t]);if($b)for(var t of $b(e))_7.call(e,t)&&Mb(r,t,e[t]);return r};const Fb=re.isMobile(),an=cs({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),nr={state:an,async getRecomendedWallets(){const{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:e}=gr.state;if(r==="NONE"||e==="ALL"&&!r)return an.recomendedWallets;if(re.isArray(r)){const n={recommendedIds:r.join(",")},{listings:s}=await Vs.getAllListings(n),i=Object.values(s);i.sort((o,a)=>{const c=r.indexOf(o.id),l=r.indexOf(a.id);return c-l}),an.recomendedWallets=i}else{const{chains:t,isAuth:n}=tt.state,s=t?.join(","),i=re.isArray(e),o={page:1,sdks:n?"auth_v1":void 0,entries:re.RECOMMENDED_WALLET_AMOUNT,chains:s,version:2,excludedIds:i?e.join(","):void 0},{listings:a}=Fb?await Vs.getMobileListings(o):await Vs.getDesktopListings(o);an.recomendedWallets=Object.values(a)}return an.recomendedWallets},async getWallets(r){const e=I7({},r),{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:n}=gr.state,{recomendedWallets:s}=an;if(n==="ALL")return an.wallets;s.length?e.excludedIds=s.map(f=>f.id).join(","):re.isArray(t)&&(e.excludedIds=t.join(",")),re.isArray(n)&&(e.excludedIds=[e.excludedIds,n].filter(Boolean).join(",")),tt.state.isAuth&&(e.sdks="auth_v1");const{page:i,search:o}=r,{listings:a,total:c}=Fb?await Vs.getMobileListings(e):await Vs.getDesktopListings(e),l=Object.values(a),u=o?"search":"wallets";return an[u]={listings:[...an[u].listings,...l],total:c,page:i??1},{listings:l,total:c}},getWalletImageUrl(r){return Vs.getWalletImageUrl(r)},getAssetImageUrl(r){return Vs.getAssetImageUrl(r)},resetSearch(){an.search={listings:[],total:0,page:1}}},to=cs({open:!1}),Gs={state:to,subscribe(r){return zs(to,()=>r(to))},async open(r){return new Promise(e=>{const{isUiLoaded:t,isDataLoaded:n}=tt.state;if(re.removeWalletConnectDeepLink(),tt.setWalletConnectUri(r?.uri),tt.setChains(r?.chains),Ve.reset("ConnectWallet"),t&&n)to.open=!0,e();else{const s=setInterval(()=>{const i=tt.state;i.isUiLoaded&&i.isDataLoaded&&(clearInterval(s),to.open=!0,e())},200)}})},close(){to.open=!1}};var C7=Object.defineProperty,Hb=Object.getOwnPropertySymbols,S7=Object.prototype.hasOwnProperty,O7=Object.prototype.propertyIsEnumerable,jb=(r,e,t)=>e in r?C7(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P7=(r,e)=>{for(var t in e||(e={}))S7.call(e,t)&&jb(r,t,e[t]);if(Hb)for(var t of Hb(e))O7.call(e,t)&&jb(r,t,e[t]);return r};function N7(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const ca=cs({themeMode:N7()?"dark":"light"}),ls={state:ca,subscribe(r){return zs(ca,()=>r(ca))},setThemeConfig(r){const{themeMode:e,themeVariables:t}=r;e&&(ca.themeMode=e),t&&(ca.themeVariables=P7({},t))}},Ks=cs({open:!1,message:"",variant:"success"}),us={state:Ks,subscribe(r){return zs(Ks,()=>r(Ks))},openToast(r,e){Ks.open=!0,Ks.message=r,Ks.variant=e},closeToast(){Ks.open=!1}};class R7{constructor(e){this.openModal=Gs.open,this.closeModal=Gs.close,this.subscribeModal=Gs.subscribe,this.setTheme=ls.setThemeConfig,ls.setThemeConfig(e),gr.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await u7(()=>Promise.resolve().then(()=>YU),void 0,du&&du.tagName.toUpperCase()==="SCRIPT"&&du.src||new URL("bundle.js",document.baseURI).href);const e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),tt.setIsUiLoaded(!0)}}}var cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pl(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function b0(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var s=!1;try{s=this instanceof n}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),t}var gl={exports:{}},zb;function Vb(){if(zb)return gl.exports;zb=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(y,g,h){return Function.prototype.apply.call(y,g,h)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:t=function(y){return Object.getOwnPropertyNames(y)};function n(w){console&&console.warn&&console.warn(w)}var s=Number.isNaN||function(y){return y!==y};function i(){i.init.call(this)}gl.exports=i,gl.exports.once=_,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function a(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(w){if(typeof w!="number"||w<0||s(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");o=w}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(y){if(typeof y!="number"||y<0||s(y))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+y+".");return this._maxListeners=y,this};function c(w){return w._maxListeners===void 0?i.defaultMaxListeners:w._maxListeners}i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(y){for(var g=[],h=1;h<arguments.length;h++)g.push(arguments[h]);var x=y==="error",S=this._events;if(S!==void 0)x=x&&S.error===void 0;else if(!x)return!1;if(x){var P;if(g.length>0&&(P=g[0]),P instanceof Error)throw P;var D=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw D.context=P,D}var B=S[y];if(B===void 0)return!1;if(typeof B=="function")e(B,this,g);else for(var L=B.length,U=m(B,L),h=0;h<L;++h)e(U[h],this,g);return!0};function l(w,y,g,h){var x,S,P;if(a(g),S=w._events,S===void 0?(S=w._events=Object.create(null),w._eventsCount=0):(S.newListener!==void 0&&(w.emit("newListener",y,g.listener?g.listener:g),S=w._events),P=S[y]),P===void 0)P=S[y]=g,++w._eventsCount;else if(typeof P=="function"?P=S[y]=h?[g,P]:[P,g]:h?P.unshift(g):P.push(g),x=c(w),x>0&&P.length>x&&!P.warned){P.warned=!0;var D=new Error("Possible EventEmitter memory leak detected. "+P.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");D.name="MaxListenersExceededWarning",D.emitter=w,D.type=y,D.count=P.length,n(D)}return w}i.prototype.addListener=function(y,g){return l(this,y,g,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(y,g){return l(this,y,g,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(w,y,g){var h={fired:!1,wrapFn:void 0,target:w,type:y,listener:g},x=u.bind(h);return x.listener=g,h.wrapFn=x,x}i.prototype.once=function(y,g){return a(g),this.on(y,f(this,y,g)),this},i.prototype.prependOnceListener=function(y,g){return a(g),this.prependListener(y,f(this,y,g)),this},i.prototype.removeListener=function(y,g){var h,x,S,P,D;if(a(g),x=this._events,x===void 0)return this;if(h=x[y],h===void 0)return this;if(h===g||h.listener===g)--this._eventsCount===0?this._events=Object.create(null):(delete x[y],x.removeListener&&this.emit("removeListener",y,h.listener||g));else if(typeof h!="function"){for(S=-1,P=h.length-1;P>=0;P--)if(h[P]===g||h[P].listener===g){D=h[P].listener,S=P;break}if(S<0)return this;S===0?h.shift():b(h,S),h.length===1&&(x[y]=h[0]),x.removeListener!==void 0&&this.emit("removeListener",y,D||g)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(y){var g,h,x;if(h=this._events,h===void 0)return this;if(h.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):h[y]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete h[y]),this;if(arguments.length===0){var S=Object.keys(h),P;for(x=0;x<S.length;++x)P=S[x],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(g=h[y],typeof g=="function")this.removeListener(y,g);else if(g!==void 0)for(x=g.length-1;x>=0;x--)this.removeListener(y,g[x]);return this};function d(w,y,g){var h=w._events;if(h===void 0)return[];var x=h[y];return x===void 0?[]:typeof x=="function"?g?[x.listener||x]:[x]:g?I(x):m(x,x.length)}i.prototype.listeners=function(y){return d(this,y,!0)},i.prototype.rawListeners=function(y){return d(this,y,!1)},i.listenerCount=function(w,y){return typeof w.listenerCount=="function"?w.listenerCount(y):p.call(w,y)},i.prototype.listenerCount=p;function p(w){var y=this._events;if(y!==void 0){var g=y[w];if(typeof g=="function")return 1;if(g!==void 0)return g.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function m(w,y){for(var g=new Array(y),h=0;h<y;++h)g[h]=w[h];return g}function b(w,y){for(;y+1<w.length;y++)w[y]=w[y+1];w.pop()}function I(w){for(var y=new Array(w.length),g=0;g<y.length;++g)y[g]=w[g].listener||w[g];return y}function _(w,y){return new Promise(function(g,h){function x(P){w.removeListener(y,S),h(P)}function S(){typeof w.removeListener=="function"&&w.removeListener("error",x),g([].slice.call(arguments))}v(w,y,S,{once:!0}),y!=="error"&&A(w,x,{once:!0})})}function A(w,y,g){typeof w.on=="function"&&v(w,"error",y,g)}function v(w,y,g,h){if(typeof w.on=="function")h.once?w.once(y,g):w.on(y,g);else if(typeof w.addEventListener=="function")w.addEventListener(y,function x(S){h.once&&w.removeEventListener(y,x),g(S)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}return gl.exports}var ln=Vb();const Gb=pl(ln),D7=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,T7=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,B7=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function U7(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){k7(r);return}return e}function k7(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function ml(r,e={}){if(typeof r!="string")return r;if(r[0]==='"'&&r[r.length-1]==='"'&&r.indexOf("\\")===-1)return r.slice(1,-1);const t=r.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!B7.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(D7.test(r)||T7.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,U7)}return JSON.parse(r)}catch(n){if(e.strict)throw n;return r}}function L7(r){return!r||typeof r.then!="function"?Promise.resolve(r):r}function It(r,...e){try{return L7(r(...e))}catch(t){return Promise.reject(t)}}function $7(r){const e=typeof r;return r===null||e!=="object"&&e!=="function"}function M7(r){const e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}function bl(r){if($7(r))return String(r);if(M7(r)||Array.isArray(r))return JSON.stringify(r);if(typeof r.toJSON=="function")return bl(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const x0="base64:";function F7(r){return typeof r=="string"?r:x0+z7(r)}function H7(r){return typeof r!="string"||!r.startsWith(x0)?r:j7(r.slice(x0.length))}function j7(r){return globalThis.Buffer?Buffer.from(r,"base64"):Uint8Array.from(globalThis.atob(r),e=>e.codePointAt(0))}function z7(r){return globalThis.Buffer?Buffer.from(r).toString("base64"):globalThis.btoa(String.fromCodePoint(...r))}function sr(r){return r&&r.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function V7(...r){return sr(r.join(":"))}function xl(r){return r=sr(r),r?r+":":""}function G7(r,e){if(e===void 0)return!0;let t=0,n=r.indexOf(":");for(;n>-1;)t++,n=r.indexOf(":",n+1);return t<=e}function K7(r,e){return e?r.startsWith(e)&&r[r.length-1]!=="$":r[r.length-1]!=="$"}function uL(r){return r}const W7="memory",q7=()=>{const r=new Map;return{name:W7,getInstance:()=>r,hasItem(e){return r.has(e)},getItem(e){return r.get(e)??null},getItemRaw(e){return r.get(e)??null},setItem(e,t){r.set(e,t)},setItemRaw(e,t){r.set(e,t)},removeItem(e){r.delete(e)},getKeys(){return[...r.keys()]},clear(){r.clear()},dispose(){r.clear()}}};function Q7(r={}){const e={mounts:{"":r.driver||q7()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),s=(l,u)=>{if(e.watching){u=sr(u);for(const f of e.watchListeners)f(l,u)}},i=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await Kb(e.mounts[l],s,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,f)=>{const d=new Map,p=m=>{let b=d.get(m.base);return b||(b={driver:m.driver,base:m.base,items:[]},d.set(m.base,b)),b};for(const m of l){const b=typeof m=="string",I=sr(b?m:m.key),_=b?void 0:m.value,A=b||!m.options?u:{...u,...m.options},v=t(I);p(v).items.push({key:I,value:_,relativeKey:v.relativeKey,options:A})}return Promise.all([...d.values()].map(m=>f(m))).then(m=>m.flat())},c={hasItem(l,u={}){l=sr(l);const{relativeKey:f,driver:d}=t(l);return It(d.hasItem,f,u)},getItem(l,u={}){l=sr(l);const{relativeKey:f,driver:d}=t(l);return It(d.getItem,f,u).then(p=>ml(p))},getItems(l,u={}){return a(l,u,f=>f.driver.getItems?It(f.driver.getItems,f.items.map(d=>({key:d.relativeKey,options:d.options})),u).then(d=>d.map(p=>({key:V7(f.base,p.key),value:ml(p.value)}))):Promise.all(f.items.map(d=>It(f.driver.getItem,d.relativeKey,d.options).then(p=>({key:d.key,value:ml(p)})))))},getItemRaw(l,u={}){l=sr(l);const{relativeKey:f,driver:d}=t(l);return d.getItemRaw?It(d.getItemRaw,f,u):It(d.getItem,f,u).then(p=>H7(p))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=sr(l);const{relativeKey:d,driver:p}=t(l);p.setItem&&(await It(p.setItem,d,bl(u),f),p.watch||s("update",l))},async setItems(l,u){await a(l,u,async f=>{if(f.driver.setItems)return It(f.driver.setItems,f.items.map(d=>({key:d.relativeKey,value:bl(d.value),options:d.options})),u);f.driver.setItem&&await Promise.all(f.items.map(d=>It(f.driver.setItem,d.relativeKey,bl(d.value),d.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=sr(l);const{relativeKey:d,driver:p}=t(l);if(p.setItemRaw)await It(p.setItemRaw,d,u,f);else if(p.setItem)await It(p.setItem,d,F7(u),f);else return;p.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=sr(l);const{relativeKey:f,driver:d}=t(l);d.removeItem&&(await It(d.removeItem,f,u),(u.removeMeta||u.removeMata)&&await It(d.removeItem,f+"$",u),d.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=sr(l);const{relativeKey:f,driver:d}=t(l),p=Object.create(null);if(d.getMeta&&Object.assign(p,await It(d.getMeta,f,u)),!u.nativeOnly){const m=await It(d.getItem,f+"$",u).then(b=>ml(b));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(p,m))}return p},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=xl(l);const f=n(l,!0);let d=[];const p=[];let m=!0;for(const I of f){I.driver.flags?.maxDepth||(m=!1);const _=await It(I.driver.getKeys,I.relativeBase,u);for(const A of _){const v=I.mountpoint+sr(A);d.some(w=>v.startsWith(w))||p.push(v)}d=[I.mountpoint,...d.filter(A=>!A.startsWith(I.mountpoint))]}const b=u.maxDepth!==void 0&&!m;return p.filter(I=>(!b||G7(I,u.maxDepth))&&K7(I,l))},async clear(l,u={}){l=xl(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return It(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const d=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(d.map(p=>f.driver.removeItem(p,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>Wb(l)))},async watch(l){return await i(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=xl(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,d)=>d.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(Kb(u,s,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){l=xl(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await Wb(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=sr(l)+":";const u=t(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=sr(l),n(l,u.parents).map(d=>({driver:d.driver,base:d.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function Kb(r,e,t){return r.watch?r.watch((n,s)=>e(n,t+s)):()=>{}}async function Wb(r){typeof r.dispose=="function"&&await It(r.dispose)}function Ws(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function qb(r,e){let t;const n=()=>{if(t)return t;const s=indexedDB.open(r);return s.onupgradeneeded=()=>s.result.createObjectStore(e),t=Ws(s),t.then(i=>{i.onclose=()=>t=void 0},()=>{}),t};return(s,i)=>n().then(o=>i(o.transaction(e,s).objectStore(e)))}let w0;function la(){return w0||(w0=qb("keyval-store","keyval")),w0}function Qb(r,e=la()){return e("readonly",t=>Ws(t.get(r)))}function J7(r,e,t=la()){return t("readwrite",n=>(n.put(e,r),Ws(n.transaction)))}function Z7(r,e=la()){return e("readwrite",t=>(t.delete(r),Ws(t.transaction)))}function Y7(r=la()){return r("readwrite",e=>(e.clear(),Ws(e.transaction)))}function X7(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Ws(r.transaction)}function e9(r=la()){return r("readonly",e=>{if(e.getAllKeys)return Ws(e.getAllKeys());const t=[];return X7(e,n=>t.push(n.key)).then(()=>t)})}const t9=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),r9=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function y0(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return r9(r)}catch{return r}}function v0(r){return typeof r=="string"?r:t9(r)||""}const n9="idb-keyval";var s9=(r={})=>{const e=r.base&&r.base.length>0?`${r.base}:`:"",t=s=>e+s;let n;return r.dbName&&r.storeName&&(n=qb(r.dbName,r.storeName)),{name:n9,options:r,async hasItem(s){return!(typeof await Qb(t(s),n)>"u")},async getItem(s){return await Qb(t(s),n)??null},setItem(s,i){return J7(t(s),i,n)},removeItem(s){return Z7(t(s),n)},getKeys(){return e9(n)},clear(){return Y7(n)}}};const i9="WALLET_CONNECT_V2_INDEXED_DB",o9="keyvaluestorage";let a9=class{constructor(){this.indexedDb=Q7({driver:s9({dbName:i9,storeName:o9})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,v0(t))}async removeItem(e){await this.indexedDb.removeItem(e)}};var E0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wl={exports:{}};(function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,n){this[t]=String(n)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(n){t[n]=void 0,delete t[n]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof E0<"u"&&E0.localStorage?wl.exports=E0.localStorage:typeof window<"u"&&window.localStorage?wl.exports=window.localStorage:wl.exports=new e})();function c9(r){var e;return[r[0],y0((e=r[1])!=null?e:"")]}let l9=class{constructor(){this.localStorage=wl.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(c9)}async getItem(e){const t=this.localStorage.getItem(e);if(t!==null)return y0(t)}async setItem(e,t){this.localStorage.setItem(e,v0(t))}async removeItem(e){this.localStorage.removeItem(e)}};const u9="wc_storage_version",Jb=1,f9=async(r,e,t)=>{const n=u9,s=await e.getItem(n);if(s&&s>=Jb){t(e);return}const i=await r.getKeys();if(!i.length){t(e);return}const o=[];for(;i.length;){const a=i.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await r.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,Jb),t(e),h9(r,o)},h9=async(r,e)=>{e.length&&e.forEach(async t=>{await r.removeItem(t)})};let d9=class{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new l9;this.storage=e;try{const t=new a9;f9(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}};var A0={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var _0=function(r,e){return _0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])},_0(r,e)};function p9(r,e){_0(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var I0=function(){return I0=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},I0.apply(this,arguments)};function g9(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t}function m9(r,e,t,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i}function b9(r,e){return function(t,n){e(t,n,r)}}function x9(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function w9(r,e,t,n){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):s(u.value).then(a,c)}l((n=n.apply(r,e||[])).next())})}function y9(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,s&&(i=l[0]&2?s.return:l[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,l[1])).done)return i;switch(s=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,s=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(r,t)}catch(u){l=[6,u],s=0}finally{n=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function v9(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}function E9(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function C0(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zb(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return i}function A9(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Zb(arguments[e]));return r}function _9(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var n=Array(r),s=0,e=0;e<t;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function ua(r){return this instanceof ua?(this.v=r,this):new ua(r)}function I9(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(d){n[d]&&(s[d]=function(p){return new Promise(function(m,b){i.push([d,p,m,b])>1||a(d,p)})})}function a(d,p){try{c(n[d](p))}catch(m){f(i[0][3],m)}}function c(d){d.value instanceof ua?Promise.resolve(d.value.v).then(l,u):f(i[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function f(d,p){d(p),i.shift(),i.length&&a(i[0][0],i[0][1])}}function C9(r){var e,t;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=r[s]?function(o){return(t=!t)?{value:ua(r[s](o)),done:s==="return"}:i?i(o):o}:i}}function S9(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof C0=="function"?C0(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=r[i]&&function(o){return new Promise(function(a,c){o=r[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}function O9(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function P9(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function N9(r){return r&&r.__esModule?r:{default:r}}function R9(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function D9(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const Cn=b0(Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return I0},__asyncDelegator:C9,__asyncGenerator:I9,__asyncValues:S9,__await:ua,__awaiter:w9,__classPrivateFieldGet:R9,__classPrivateFieldSet:D9,__createBinding:v9,__decorate:m9,__exportStar:E9,__extends:p9,__generator:y9,__importDefault:N9,__importStar:P9,__makeTemplateObject:O9,__metadata:x9,__param:b9,__read:Zb,__rest:g9,__spread:A9,__spreadArrays:_9,__values:C0},Symbol.toStringTag,{value:"Module"})));var fa={},S0={},O0={},ha={},Yb;function T9(){if(Yb)return ha;Yb=1,Object.defineProperty(ha,"__esModule",{value:!0}),ha.delay=void 0;function r(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return ha.delay=r,ha}var qs={},P0={},Qs={},Xb;function B9(){return Xb||(Xb=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.ONE_THOUSAND=Qs.ONE_HUNDRED=void 0,Qs.ONE_HUNDRED=100,Qs.ONE_THOUSAND=1e3),Qs}var N0={},ex;function U9(){return ex||(ex=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365})(N0)),N0}var tx;function rx(){return tx||(tx=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(B9(),r),e.__exportStar(U9(),r)})(P0)),P0}var nx;function k9(){if(nx)return qs;nx=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.fromMiliseconds=qs.toMiliseconds=void 0;const r=rx();function e(n){return n*r.ONE_THOUSAND}qs.toMiliseconds=e;function t(n){return Math.floor(n/r.ONE_THOUSAND)}return qs.fromMiliseconds=t,qs}var sx;function L9(){return sx||(sx=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(T9(),r),e.__exportStar(k9(),r)})(O0)),O0}var ro={},ix;function $9(){if(ix)return ro;ix=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const n=this.get(t);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const s=Date.now()-n.started;this.timestamps.set(t,{started:n.started,elapsed:s})}get(t){const n=this.timestamps.get(t);if(typeof n>"u")throw new Error(`No timestamp found for label: ${t}`);return n}elapsed(t){const n=this.get(t);return n.elapsed||Date.now()-n.started}}return ro.Watch=r,ro.default=r,ro}var R0={},da={},ox;function M9(){if(ox)return da;ox=1,Object.defineProperty(da,"__esModule",{value:!0}),da.IWatch=void 0;class r{}return da.IWatch=r,da}var ax;function F9(){return ax||(ax=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Cn.__exportStar(M9(),r)})(R0)),R0}var cx;function D0(){return cx||(cx=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(L9(),r),e.__exportStar($9(),r),e.__exportStar(F9(),r),e.__exportStar(rx(),r)})(S0)),S0}var T0={},pa={};class Js{}const H9=b0(Object.freeze(Object.defineProperty({__proto__:null,IEvents:Js},Symbol.toStringTag,{value:"Module"})));var lx;function j9(){if(lx)return pa;lx=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.IHeartBeat=void 0;const r=H9;class e extends r.IEvents{constructor(n){super()}}return pa.IHeartBeat=e,pa}var ux;function fx(){return ux||(ux=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Cn.__exportStar(j9(),r)})(T0)),T0}var B0={},Zs={},hx;function z9(){if(hx)return Zs;hx=1,Object.defineProperty(Zs,"__esModule",{value:!0}),Zs.HEARTBEAT_EVENTS=Zs.HEARTBEAT_INTERVAL=void 0;const r=D0();return Zs.HEARTBEAT_INTERVAL=r.FIVE_SECONDS,Zs.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},Zs}var dx;function px(){return dx||(dx=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),Cn.__exportStar(z9(),r)})(B0)),B0}var gx;function V9(){if(gx)return fa;gx=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.HeartBeat=void 0;const r=Cn,e=Vb(),t=D0(),n=fx(),s=px();class i extends n.IHeartBeat{constructor(a){super(a),this.events=new e.EventEmitter,this.interval=s.HEARTBEAT_INTERVAL,this.interval=a?.interval||s.HEARTBEAT_INTERVAL}static init(a){return r.__awaiter(this,void 0,void 0,function*(){const c=new i(a);return yield c.init(),c})}init(){return r.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(a,c){this.events.on(a,c)}once(a,c){this.events.once(a,c)}off(a,c){this.events.off(a,c)}removeListener(a,c){this.events.removeListener(a,c)}initialize(){return r.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),t.toMiliseconds(this.interval))})}pulse(){this.events.emit(s.HEARTBEAT_EVENTS.pulse)}}return fa.HeartBeat=i,fa}var mx;function G9(){return mx||(mx=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(V9(),r),e.__exportStar(fx(),r),e.__exportStar(px(),r)})(A0)),A0}var ga=G9(),U0,bx;function K9(){if(bx)return U0;bx=1;function r(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}U0=e;function e(t,n,s){var i=s&&s.stringify||r,o=1;if(typeof t=="object"&&t!==null){var a=n.length+o;if(a===1)return t;var c=new Array(a);c[0]=i(t);for(var l=1;l<a;l++)c[l]=i(n[l]);return c.join(" ")}if(typeof t!="string")return t;var u=n.length;if(u===0)return t;for(var f="",d=1-o,p=-1,m=t&&t.length||0,b=0;b<m;){if(t.charCodeAt(b)===37&&b+1<m){switch(p=p>-1?p:0,t.charCodeAt(b+1)){case 100:case 102:if(d>=u||n[d]==null)break;p<b&&(f+=t.slice(p,b)),f+=Number(n[d]),p=b+2,b++;break;case 105:if(d>=u||n[d]==null)break;p<b&&(f+=t.slice(p,b)),f+=Math.floor(Number(n[d])),p=b+2,b++;break;case 79:case 111:case 106:if(d>=u||n[d]===void 0)break;p<b&&(f+=t.slice(p,b));var I=typeof n[d];if(I==="string"){f+="'"+n[d]+"'",p=b+2,b++;break}if(I==="function"){f+=n[d].name||"<anonymous>",p=b+2,b++;break}f+=i(n[d]),p=b+2,b++;break;case 115:if(d>=u)break;p<b&&(f+=t.slice(p,b)),f+=String(n[d]),p=b+2,b++;break;case 37:p<b&&(f+=t.slice(p,b)),f+="%",p=b+2,b++,d--;break}++d}++b}return p===-1?t:(p<m&&(f+=t.slice(p)),f)}return U0}var k0,xx;function W9(){if(xx)return k0;xx=1;const r=K9();k0=s;const e=y().console||{},t={mapHttpRequest:m,mapHttpResponse:m,wrapRequestSerializer:b,wrapResponseSerializer:b,wrapErrorSerializer:b,req:m,res:m,err:d};function n(g,h){return Array.isArray(g)?g.filter(function(S){return S!=="!stdSerializers.err"}):g===!0?Object.keys(h):!1}function s(g){g=g||{},g.browser=g.browser||{};const h=g.browser.transmit;if(h&&typeof h.send!="function")throw Error("pino: transmit option must have a send function");const x=g.browser.write||e;g.browser.write&&(g.browser.asObject=!0);const S=g.serializers||{},P=n(g.browser.serialize,S);let D=g.browser.serialize;Array.isArray(g.browser.serialize)&&g.browser.serialize.indexOf("!stdSerializers.err")>-1&&(D=!1);const B=["error","fatal","warn","info","debug","trace"];typeof x=="function"&&(x.error=x.fatal=x.warn=x.info=x.debug=x.trace=x),g.enabled===!1&&(g.level="silent");const L=g.level||"info",U=Object.create(x);U.log||(U.log=I),Object.defineProperty(U,"levelVal",{get:E}),Object.defineProperty(U,"level",{get:R,set:k});const C={transmit:h,serialize:P,asObject:g.browser.asObject,levels:B,timestamp:p(g)};U.levels=s.levels,U.level=L,U.setMaxListeners=U.getMaxListeners=U.emit=U.addListener=U.on=U.prependListener=U.once=U.prependOnceListener=U.removeListener=U.removeAllListeners=U.listeners=U.listenerCount=U.eventNames=U.write=U.flush=I,U.serializers=S,U._serialize=P,U._stdErrSerialize=D,U.child=H,h&&(U._logEvent=f());function E(){return this.level==="silent"?1/0:this.levels.values[this.level]}function R(){return this._level}function k(M){if(M!=="silent"&&!this.levels.values[M])throw Error("unknown level "+M);this._level=M,i(C,U,"error","log"),i(C,U,"fatal","error"),i(C,U,"warn","error"),i(C,U,"info","log"),i(C,U,"debug","log"),i(C,U,"trace","log")}function H(M,K){if(!M)throw new Error("missing bindings for child Pino");K=K||{},P&&M.serializers&&(K.serializers=M.serializers);const W=K.serializers;if(P&&W){var F=Object.assign({},S,W),G=g.browser.serialize===!0?Object.keys(F):P;delete M.serializers,c([M],G,F,this._stdErrSerialize)}function j(X){this._childLevel=(X._childLevel|0)+1,this.error=l(X,M,"error"),this.fatal=l(X,M,"fatal"),this.warn=l(X,M,"warn"),this.info=l(X,M,"info"),this.debug=l(X,M,"debug"),this.trace=l(X,M,"trace"),F&&(this.serializers=F,this._serialize=G),h&&(this._logEvent=f([].concat(X._logEvent.bindings,M)))}return j.prototype=this,new j(this)}return U}s.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},s.stdSerializers=t,s.stdTimeFunctions=Object.assign({},{nullTime:_,epochTime:A,unixTime:v,isoTime:w});function i(g,h,x,S){const P=Object.getPrototypeOf(h);h[x]=h.levelVal>h.levels.values[x]?I:P[x]?P[x]:e[x]||e[S]||I,o(g,h,x)}function o(g,h,x){!g.transmit&&h[x]===I||(h[x]=(function(S){return function(){const D=g.timestamp(),B=new Array(arguments.length),L=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var U=0;U<B.length;U++)B[U]=arguments[U];if(g.serialize&&!g.asObject&&c(B,this._serialize,this.serializers,this._stdErrSerialize),g.asObject?S.call(L,a(this,x,B,D)):S.apply(L,B),g.transmit){const C=g.transmit.level||h.level,E=s.levels.values[C],R=s.levels.values[x];if(R<E)return;u(this,{ts:D,methodLevel:x,methodValue:R,transmitValue:s.levels.values[g.transmit.level||h.level],send:g.transmit.send,val:h.levelVal},B)}}})(h[x]))}function a(g,h,x,S){g._serialize&&c(x,g._serialize,g.serializers,g._stdErrSerialize);const P=x.slice();let D=P[0];const B={};S&&(B.time=S),B.level=s.levels.values[h];let L=(g._childLevel|0)+1;if(L<1&&(L=1),D!==null&&typeof D=="object"){for(;L--&&typeof P[0]=="object";)Object.assign(B,P.shift());D=P.length?r(P.shift(),P):void 0}else typeof D=="string"&&(D=r(P.shift(),P));return D!==void 0&&(B.msg=D),B}function c(g,h,x,S){for(const P in g)if(S&&g[P]instanceof Error)g[P]=s.stdSerializers.err(g[P]);else if(typeof g[P]=="object"&&!Array.isArray(g[P]))for(const D in g[P])h&&h.indexOf(D)>-1&&D in x&&(g[P][D]=x[D](g[P][D]))}function l(g,h,x){return function(){const S=new Array(1+arguments.length);S[0]=h;for(var P=1;P<S.length;P++)S[P]=arguments[P-1];return g[x].apply(this,S)}}function u(g,h,x){const S=h.send,P=h.ts,D=h.methodLevel,B=h.methodValue,L=h.val,U=g._logEvent.bindings;c(x,g._serialize||Object.keys(g.serializers),g.serializers,g._stdErrSerialize===void 0?!0:g._stdErrSerialize),g._logEvent.ts=P,g._logEvent.messages=x.filter(function(C){return U.indexOf(C)===-1}),g._logEvent.level.label=D,g._logEvent.level.value=B,S(D,g._logEvent,L),g._logEvent=f(U)}function f(g){return{ts:0,messages:[],bindings:g||[],level:{label:"",value:0}}}function d(g){const h={type:g.constructor.name,msg:g.message,stack:g.stack};for(const x in g)h[x]===void 0&&(h[x]=g[x]);return h}function p(g){return typeof g.timestamp=="function"?g.timestamp:g.timestamp===!1?_:A}function m(){return{}}function b(g){return g}function I(){}function _(){return!1}function A(){return Date.now()}function v(){return Math.round(Date.now()/1e3)}function w(){return new Date(Date.now()).toISOString()}function y(){function g(h){return typeof h<"u"&&h}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return g(self)||g(window)||g(this)||{}}}return k0}var wx=W9();const yx=pl(wx),q9=h5({__proto__:null,default:yx},[wx]),Q9={level:"info"},ma="custom_context";var J9=Object.defineProperty,Z9=Object.defineProperties,Y9=Object.getOwnPropertyDescriptors,vx=Object.getOwnPropertySymbols,X9=Object.prototype.hasOwnProperty,eA=Object.prototype.propertyIsEnumerable,Ex=(r,e,t)=>e in r?J9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,tA=(r,e)=>{for(var t in e||(e={}))X9.call(e,t)&&Ex(r,t,e[t]);if(vx)for(var t of vx(e))eA.call(e,t)&&Ex(r,t,e[t]);return r},rA=(r,e)=>Z9(r,Y9(e));function L0(r){return rA(tA({},r),{level:r?.level||Q9.level})}function nA(r,e=ma){return r[e]||""}function sA(r,e,t=ma){return r[t]=e,r}function ir(r,e=ma){let t="";return typeof r.bindings>"u"?t=nA(r,e):t=r.bindings().context||"",t}function iA(r,e,t=ma){const n=ir(r,t);return n.trim()?`${n}/${e}`:e}function mr(r,e,t=ma){const n=iA(r,e,t),s=r.child({context:n});return sA(s,n,t)}var Ax;const $0=(Ax=yx)!=null?Ax:q9;let oA=class extends Js{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},aA=class extends Js{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},cA=class{constructor(e,t){this.logger=e,this.core=t}},lA=class extends Js{constructor(e,t){super(),this.relayer=e,this.logger=t}},uA=class extends Js{constructor(e){super()}},fA=class{constructor(e,t,n,s){this.core=e,this.logger=t,this.name=n}},hA=class extends Js{constructor(e,t){super(),this.relayer=e,this.logger=t}},dA=class extends Js{constructor(e,t){super(),this.core=e,this.logger=t}},pA=class{constructor(e,t){this.projectId=e,this.logger=t}},gA=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},mA=class{constructor(e){this.client=e}};var oe=D0();const bA=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t);function xA(r){return typeof r=="string"?r:bA(r)||""}function wA(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function _x(r,...e){if(!wA(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function Ix(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function yA(r,e){_x(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const no=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const M0=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);function vA(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function Cx(r){return typeof r=="string"&&(r=vA(r)),_x(r),r}let EA=class{clone(){return this._cloneInto()}};function AA(r){const e=n=>r().update(Cx(n)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Sx(r=32){if(no&&typeof no.getRandomValues=="function")return no.getRandomValues(new Uint8Array(r));if(no&&typeof no.randomBytes=="function")return no.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function _A(r,e,t,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,n);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=n?4:0,l=n?0:4;r.setUint32(e+c,o,n),r.setUint32(e+l,a,n)}class IA extends EA{constructor(e,t,n,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=M0(this.buffer)}update(e){Ix(this);const{view:t,buffer:n,blockLen:s}=this;e=Cx(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=M0(e);for(;s<=i-o;o+=s)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ix(this),yA(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(n,0),o=0);for(let f=o;f<s;f++)t[f]=0;_A(n,s-8,BigInt(this.length*8),i),this.process(n,0);const a=M0(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(n),e}}const yl=BigInt(2**32-1),F0=BigInt(32);function Ox(r,e=!1){return e?{h:Number(r&yl),l:Number(r>>F0&yl)}:{h:Number(r>>F0&yl)|0,l:Number(r&yl)|0}}function CA(r,e=!1){let t=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let s=0;s<r.length;s++){const{h:i,l:o}=Ox(r[s],e);[t[s],n[s]]=[i,o]}return[t,n]}const SA=(r,e)=>BigInt(r>>>0)<<F0|BigInt(e>>>0),OA=(r,e,t)=>r>>>t,PA=(r,e,t)=>r<<32-t|e>>>t,NA=(r,e,t)=>r>>>t|e<<32-t,RA=(r,e,t)=>r<<32-t|e>>>t,DA=(r,e,t)=>r<<64-t|e>>>t-32,TA=(r,e,t)=>r>>>t-32|e<<64-t,BA=(r,e)=>e,UA=(r,e)=>r,kA=(r,e,t)=>r<<t|e>>>32-t,LA=(r,e,t)=>e<<t|r>>>32-t,$A=(r,e,t)=>e<<t-32|r>>>64-t,MA=(r,e,t)=>r<<t-32|e>>>64-t;function FA(r,e,t,n){const s=(e>>>0)+(n>>>0);return{h:r+t+(s/2**32|0)|0,l:s|0}}const HA=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),jA=(r,e,t,n)=>e+t+n+(r/2**32|0)|0,zA=(r,e,t,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0),VA=(r,e,t,n,s)=>e+t+n+s+(r/2**32|0)|0,GA=(r,e,t,n,s)=>(r>>>0)+(e>>>0)+(t>>>0)+(n>>>0)+(s>>>0),KA=(r,e,t,n,s,i)=>e+t+n+s+i+(r/2**32|0)|0,ge={fromBig:Ox,split:CA,toBig:SA,shrSH:OA,shrSL:PA,rotrSH:NA,rotrSL:RA,rotrBH:DA,rotrBL:TA,rotr32H:BA,rotr32L:UA,rotlSH:kA,rotlSL:LA,rotlBH:$A,rotlBL:MA,add:FA,add3L:HA,add3H:jA,add4L:zA,add4H:VA,add5H:KA,add5L:GA},[WA,qA]=ge.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),fs=new Uint32Array(80),hs=new Uint32Array(80);let QA=class extends IA{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:d,Gh:p,Gl:m,Hh:b,Hl:I}=this;return[e,t,n,s,i,o,a,c,l,u,f,d,p,m,b,I]}set(e,t,n,s,i,o,a,c,l,u,f,d,p,m,b,I){this.Ah=e|0,this.Al=t|0,this.Bh=n|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=d|0,this.Gh=p|0,this.Gl=m|0,this.Hh=b|0,this.Hl=I|0}process(e,t){for(let v=0;v<16;v++,t+=4)fs[v]=e.getUint32(t),hs[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const w=fs[v-15]|0,y=hs[v-15]|0,g=ge.rotrSH(w,y,1)^ge.rotrSH(w,y,8)^ge.shrSH(w,y,7),h=ge.rotrSL(w,y,1)^ge.rotrSL(w,y,8)^ge.shrSL(w,y,7),x=fs[v-2]|0,S=hs[v-2]|0,P=ge.rotrSH(x,S,19)^ge.rotrBH(x,S,61)^ge.shrSH(x,S,6),D=ge.rotrSL(x,S,19)^ge.rotrBL(x,S,61)^ge.shrSL(x,S,6),B=ge.add4L(h,D,hs[v-7],hs[v-16]),L=ge.add4H(B,g,P,fs[v-7],fs[v-16]);fs[v]=L|0,hs[v]=B|0}let{Ah:n,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:d,Fh:p,Fl:m,Gh:b,Gl:I,Hh:_,Hl:A}=this;for(let v=0;v<80;v++){const w=ge.rotrSH(f,d,14)^ge.rotrSH(f,d,18)^ge.rotrBH(f,d,41),y=ge.rotrSL(f,d,14)^ge.rotrSL(f,d,18)^ge.rotrBL(f,d,41),g=f&p^~f&b,h=d&m^~d&I,x=ge.add5L(A,y,h,qA[v],hs[v]),S=ge.add5H(x,_,w,g,WA[v],fs[v]),P=x|0,D=ge.rotrSH(n,s,28)^ge.rotrBH(n,s,34)^ge.rotrBH(n,s,39),B=ge.rotrSL(n,s,28)^ge.rotrBL(n,s,34)^ge.rotrBL(n,s,39),L=n&i^n&a^i&a,U=s&o^s&c^o&c;_=b|0,A=I|0,b=p|0,I=m|0,p=f|0,m=d|0,{h:f,l:d}=ge.add(l|0,u|0,S|0,P|0),l=a|0,u=c|0,a=i|0,c=o|0,i=n|0,o=s|0;const C=ge.add3L(P,B,U);n=ge.add3H(C,S,D,L),s=C|0}({h:n,l:s}=ge.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:i,l:o}=ge.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=ge.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=ge.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:d}=ge.add(this.Eh|0,this.El|0,f|0,d|0),{h:p,l:m}=ge.add(this.Fh|0,this.Fl|0,p|0,m|0),{h:b,l:I}=ge.add(this.Gh|0,this.Gl|0,b|0,I|0),{h:_,l:A}=ge.add(this.Hh|0,this.Hl|0,_|0,A|0),this.set(n,s,i,o,a,c,l,u,f,d,p,m,b,I,_,A)}roundClean(){fs.fill(0),hs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const JA=AA(()=>new QA);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const H0=BigInt(0),Px=BigInt(1),ZA=BigInt(2);function j0(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function z0(r){if(!j0(r))throw new Error("Uint8Array expected")}function V0(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}const YA=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function G0(r){z0(r);let e="";for(let t=0;t<r.length;t++)e+=YA[r[t]];return e}function Nx(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?H0:BigInt("0x"+r)}const Sn={_0:48,_9:57,A:65,F:70,a:97,f:102};function Rx(r){if(r>=Sn._0&&r<=Sn._9)return r-Sn._0;if(r>=Sn.A&&r<=Sn.F)return r-(Sn.A-10);if(r>=Sn.a&&r<=Sn.f)return r-(Sn.a-10)}function Dx(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Rx(r.charCodeAt(i)),a=Rx(r.charCodeAt(i+1));if(o===void 0||a===void 0){const c=r[i]+r[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[s]=o*16+a}return n}function XA(r){return Nx(G0(r))}function vl(r){return z0(r),Nx(G0(Uint8Array.from(r).reverse()))}function Tx(r,e){return Dx(r.toString(16).padStart(e*2,"0"))}function K0(r,e){return Tx(r,e).reverse()}function On(r,e,t){let n;if(typeof e=="string")try{n=Dx(e)}catch(i){throw new Error(r+" must be hex string or Uint8Array, cause: "+i)}else if(j0(e))n=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const s=n.length;if(typeof t=="number"&&s!==t)throw new Error(r+" of length "+t+" expected, got "+s);return n}function Bx(...r){let e=0;for(let n=0;n<r.length;n++){const s=r[n];z0(s),e+=s.length}const t=new Uint8Array(e);for(let n=0,s=0;n<r.length;n++){const i=r[n];t.set(i,s),s+=i.length}return t}const W0=r=>typeof r=="bigint"&&H0<=r;function e_(r,e,t){return W0(r)&&W0(e)&&W0(t)&&e<=r&&r<t}function ba(r,e,t,n){if(!e_(e,t,n))throw new Error("expected valid "+r+": "+t+" <= n < "+n+", got "+e)}function t_(r){let e;for(e=0;r>H0;r>>=Px,e+=1);return e}const r_=r=>(ZA<<BigInt(r-1))-Px,n_={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||j0(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function q0(r,e,t={}){const n=(s,i,o)=>{const a=n_[i];if(typeof a!="function")throw new Error("invalid validator function");const c=r[s];if(!(o&&c===void 0)&&!a(c,r))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))n(s,i,!1);for(const[s,i]of Object.entries(t))n(s,i,!0);return r}function Ux(r){const e=new WeakMap;return(t,...n)=>{const s=e.get(t);if(s!==void 0)return s;const i=r(t,...n);return e.set(t,i),i}}const Ct=BigInt(0),rt=BigInt(1),Ys=BigInt(2),s_=BigInt(3),Q0=BigInt(4),kx=BigInt(5),Lx=BigInt(8);function gt(r,e){const t=r%e;return t>=Ct?t:e+t}function i_(r,e,t){if(e<Ct)throw new Error("invalid exponent, negatives unsupported");if(t<=Ct)throw new Error("invalid modulus");if(t===rt)return Ct;let n=rt;for(;e>Ct;)e&rt&&(n=n*r%t),r=r*r%t,e>>=rt;return n}function un(r,e,t){let n=r;for(;e-- >Ct;)n*=n,n%=t;return n}function $x(r,e){if(r===Ct)throw new Error("invert: expected non-zero number");if(e<=Ct)throw new Error("invert: expected positive modulus, got "+e);let t=gt(r,e),n=e,s=Ct,i=rt;for(;t!==Ct;){const o=n/t,a=n%t,c=s-i*o;n=t,t=a,s=i,i=c}if(n!==rt)throw new Error("invert: does not exist");return gt(s,e)}function o_(r){const e=(r-rt)/Ys;let t,n,s;for(t=r-rt,n=0;t%Ys===Ct;t/=Ys,n++);for(s=Ys;s<r&&i_(s,e,r)!==r-rt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(r+rt)/Q0;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const i=(t+rt)/Ys;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,l=o.pow(o.mul(o.ONE,s),t),u=o.pow(a,i),f=o.pow(a,t);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let d=1;for(let m=o.sqr(f);d<c&&!o.eql(m,o.ONE);d++)m=o.sqr(m);const p=o.pow(l,rt<<BigInt(c-d-1));l=o.sqr(p),u=o.mul(u,p),f=o.mul(f,l),c=d}return u}}function a_(r){if(r%Q0===s_){const e=(r+rt)/Q0;return function(t,n){const s=t.pow(n,e);if(!t.eql(t.sqr(s),n))throw new Error("Cannot find square root");return s}}if(r%Lx===kx){const e=(r-kx)/Lx;return function(t,n){const s=t.mul(n,Ys),i=t.pow(s,e),o=t.mul(n,i),a=t.mul(t.mul(o,Ys),i),c=t.mul(o,t.sub(a,t.ONE));if(!t.eql(t.sqr(c),n))throw new Error("Cannot find square root");return c}}return o_(r)}const c_=(r,e)=>(gt(r,e)&rt)===rt,l_=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function u_(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=l_.reduce((n,s)=>(n[s]="function",n),e);return q0(r,t)}function f_(r,e,t){if(t<Ct)throw new Error("invalid exponent, negatives unsupported");if(t===Ct)return r.ONE;if(t===rt)return e;let n=r.ONE,s=e;for(;t>Ct;)t&rt&&(n=r.mul(n,s)),s=r.sqr(s),t>>=rt;return n}function h_(r,e){const t=new Array(e.length),n=e.reduce((i,o,a)=>r.is0(o)?i:(t[a]=i,r.mul(i,o)),r.ONE),s=r.inv(n);return e.reduceRight((i,o,a)=>r.is0(o)?i:(t[a]=r.mul(i,t[a]),r.mul(i,o)),s),t}function Mx(r,e){const t=e!==void 0?e:r.toString(2).length,n=Math.ceil(t/8);return{nBitLength:t,nByteLength:n}}function Fx(r,e,t=!1,n={}){if(r<=Ct)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:s,nByteLength:i}=Mx(r,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:r,isLE:t,BITS:s,BYTES:i,MASK:r_(s),ZERO:Ct,ONE:rt,create:c=>gt(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ct<=c&&c<r},is0:c=>c===Ct,isOdd:c=>(c&rt)===rt,neg:c=>gt(-c,r),eql:(c,l)=>c===l,sqr:c=>gt(c*c,r),add:(c,l)=>gt(c+l,r),sub:(c,l)=>gt(c-l,r),mul:(c,l)=>gt(c*l,r),pow:(c,l)=>f_(a,c,l),div:(c,l)=>gt(c*$x(l,r),r),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>$x(c,r),sqrt:n.sqrt||(c=>(o||(o=a_(r)),o(a,c))),invertBatch:c=>h_(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>t?K0(c,i):Tx(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return t?vl(c):XA(c)}});return Object.freeze(a)}const Hx=BigInt(0),El=BigInt(1);function J0(r,e){const t=e.negate();return r?t:e}function jx(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function Z0(r,e){jx(r,e);const t=Math.ceil(e/r)+1,n=2**(r-1);return{windows:t,windowSize:n}}function d_(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,n)=>{if(!(t instanceof e))throw new Error("invalid point at index "+n)})}function p_(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,n)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+n)})}const Y0=new WeakMap,zx=new WeakMap;function X0(r){return zx.get(r)||1}function g_(r,e){return{constTimeNegate:J0,hasPrecomputes(t){return X0(t)!==1},unsafeLadder(t,n,s=r.ZERO){let i=t;for(;n>Hx;)n&El&&(s=s.add(i)),i=i.double(),n>>=El;return s},precomputeWindow(t,n){const{windows:s,windowSize:i}=Z0(n,e),o=[];let a=t,c=a;for(let l=0;l<s;l++){c=a,o.push(c);for(let u=1;u<i;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(t,n,s){const{windows:i,windowSize:o}=Z0(t,e);let a=r.ZERO,c=r.BASE;const l=BigInt(2**t-1),u=2**t,f=BigInt(t);for(let d=0;d<i;d++){const p=d*o;let m=Number(s&l);s>>=f,m>o&&(m-=u,s+=El);const b=p,I=p+Math.abs(m)-1,_=d%2!==0,A=m<0;m===0?c=c.add(J0(_,n[b])):a=a.add(J0(A,n[I]))}return{p:a,f:c}},wNAFUnsafe(t,n,s,i=r.ZERO){const{windows:o,windowSize:a}=Z0(t,e),c=BigInt(2**t-1),l=2**t,u=BigInt(t);for(let f=0;f<o;f++){const d=f*a;if(s===Hx)break;let p=Number(s&c);if(s>>=u,p>a&&(p-=l,s+=El),p===0)continue;let m=n[d+Math.abs(p)-1];p<0&&(m=m.negate()),i=i.add(m)}return i},getPrecomputes(t,n,s){let i=Y0.get(n);return i||(i=this.precomputeWindow(n,t),t!==1&&Y0.set(n,s(i))),i},wNAFCached(t,n,s){const i=X0(t);return this.wNAF(i,this.getPrecomputes(i,t,s),n)},wNAFCachedUnsafe(t,n,s,i){const o=X0(t);return o===1?this.unsafeLadder(t,n,i):this.wNAFUnsafe(o,this.getPrecomputes(o,t,s),n,i)},setWindowSize(t,n){jx(n,e),zx.set(t,n),Y0.delete(t)}}}function m_(r,e,t,n){if(d_(t,r),p_(n,e),t.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=r.ZERO,i=t_(BigInt(t.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),l=Math.floor((e.BITS-1)/o)*o;let u=s;for(let f=l;f>=0;f-=o){c.fill(s);for(let p=0;p<n.length;p++){const m=n[p],b=Number(m>>BigInt(f)&BigInt(a));c[b]=c[b].add(t[p])}let d=s;for(let p=c.length-1,m=s;p>0;p--)m=m.add(c[p]),d=d.add(m);if(u=u.add(d),f!==0)for(let p=0;p<o;p++)u=u.double()}return u}function b_(r){return u_(r.Fp),q0(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Mx(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const Hr=BigInt(0),or=BigInt(1),Al=BigInt(2),x_=BigInt(8),w_={zip215:!0};function y_(r){const e=b_(r);return q0(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function v_(r){const e=y_(r),{Fp:t,n,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,l=Al<<BigInt(a*8)-or,u=t.create,f=Fx(e.n,e.nBitLength),d=e.uvRatio||((C,E)=>{try{return{isValid:!0,value:t.sqrt(C*t.inv(E))}}catch{return{isValid:!1,value:Hr}}}),p=e.adjustScalarBytes||(C=>C),m=e.domain||((C,E,R)=>{if(V0("phflag",R),E.length||R)throw new Error("Contexts/pre-hash are not supported");return C});function b(C,E){ba("coordinate "+C,E,Hr,l)}function I(C){if(!(C instanceof v))throw new Error("ExtendedPoint expected")}const _=Ux((C,E)=>{const{ex:R,ey:k,ez:H}=C,M=C.is0();E==null&&(E=M?x_:t.inv(H));const K=u(R*E),W=u(k*E),F=u(H*E);if(M)return{x:Hr,y:or};if(F!==or)throw new Error("invZ was invalid");return{x:K,y:W}}),A=Ux(C=>{const{a:E,d:R}=e;if(C.is0())throw new Error("bad point: ZERO");const{ex:k,ey:H,ez:M,et:K}=C,W=u(k*k),F=u(H*H),G=u(M*M),j=u(G*G),X=u(W*E),se=u(G*u(X+F)),ne=u(j+u(R*u(W*F)));if(se!==ne)throw new Error("bad point: equation left != right (1)");const ie=u(k*H),ce=u(M*K);if(ie!==ce)throw new Error("bad point: equation left != right (2)");return!0});class v{constructor(E,R,k,H){this.ex=E,this.ey=R,this.ez=k,this.et=H,b("x",E),b("y",R),b("z",k),b("t",H),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof v)throw new Error("extended point not allowed");const{x:R,y:k}=E||{};return b("x",R),b("y",k),new v(R,k,or,u(R*k))}static normalizeZ(E){const R=t.invertBatch(E.map(k=>k.ez));return E.map((k,H)=>k.toAffine(R[H])).map(v.fromAffine)}static msm(E,R){return m_(v,f,E,R)}_setWindowSize(E){g.setWindowSize(this,E)}assertValidity(){A(this)}equals(E){I(E);const{ex:R,ey:k,ez:H}=this,{ex:M,ey:K,ez:W}=E,F=u(R*W),G=u(M*H),j=u(k*W),X=u(K*H);return F===G&&j===X}is0(){return this.equals(v.ZERO)}negate(){return new v(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:E}=e,{ex:R,ey:k,ez:H}=this,M=u(R*R),K=u(k*k),W=u(Al*u(H*H)),F=u(E*M),G=R+k,j=u(u(G*G)-M-K),X=F+K,se=X-W,ne=F-K,ie=u(j*se),ce=u(X*ne),me=u(j*ne),le=u(se*X);return new v(ie,ce,le,me)}add(E){I(E);const{a:R,d:k}=e,{ex:H,ey:M,ez:K,et:W}=this,{ex:F,ey:G,ez:j,et:X}=E;if(R===BigInt(-1)){const gi=u((M-H)*(G+F)),nt=u((M+H)*(G-F)),qe=u(nt-gi);if(qe===Hr)return this.double();const st=u(K*Al*X),it=u(W*Al*j),ot=it+st,at=nt+gi,ct=it-st,Ge=u(ot*qe),Qe=u(at*ct),lt=u(ot*ct),Pe=u(qe*at);return new v(Ge,Qe,Pe,lt)}const se=u(H*F),ne=u(M*G),ie=u(W*k*X),ce=u(K*j),me=u((H+M)*(F+G)-se-ne),le=ce-ie,we=ce+ie,Nt=u(ne-R*se),xr=u(me*le),Dr=u(we*Nt),Es=u(me*Nt),pi=u(le*we);return new v(xr,Dr,pi,Es)}subtract(E){return this.add(E.negate())}wNAF(E){return g.wNAFCached(this,E,v.normalizeZ)}multiply(E){const R=E;ba("scalar",R,or,n);const{p:k,f:H}=this.wNAF(R);return v.normalizeZ([k,H])[0]}multiplyUnsafe(E,R=v.ZERO){const k=E;return ba("scalar",k,Hr,n),k===Hr?y:this.is0()||k===or?this:g.wNAFCachedUnsafe(this,k,v.normalizeZ,R)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return g.unsafeLadder(this,n).is0()}toAffine(E){return _(this,E)}clearCofactor(){const{h:E}=e;return E===or?this:this.multiplyUnsafe(E)}static fromHex(E,R=!1){const{d:k,a:H}=e,M=t.BYTES;E=On("pointHex",E,M),V0("zip215",R);const K=E.slice(),W=E[M-1];K[M-1]=W&-129;const F=vl(K),G=R?l:t.ORDER;ba("pointHex.y",F,Hr,G);const j=u(F*F),X=u(j-or),se=u(k*j-H);let{isValid:ne,value:ie}=d(X,se);if(!ne)throw new Error("Point.fromHex: invalid y coordinate");const ce=(ie&or)===or,me=(W&128)!==0;if(!R&&ie===Hr&&me)throw new Error("Point.fromHex: x=0 and x_0=1");return me!==ce&&(ie=u(-ie)),v.fromAffine({x:ie,y:F})}static fromPrivateKey(E){return S(E).point}toRawBytes(){const{x:E,y:R}=this.toAffine(),k=K0(R,t.BYTES);return k[k.length-1]|=E&or?128:0,k}toHex(){return G0(this.toRawBytes())}}v.BASE=new v(e.Gx,e.Gy,or,u(e.Gx*e.Gy)),v.ZERO=new v(Hr,or,or,Hr);const{BASE:w,ZERO:y}=v,g=g_(v,a*8);function h(C){return gt(C,n)}function x(C){return h(vl(C))}function S(C){const E=t.BYTES;C=On("private key",C,E);const R=On("hashed private key",i(C),2*E),k=p(R.slice(0,E)),H=R.slice(E,2*E),M=x(k),K=w.multiply(M),W=K.toRawBytes();return{head:k,prefix:H,scalar:M,point:K,pointBytes:W}}function P(C){return S(C).pointBytes}function D(C=new Uint8Array,...E){const R=Bx(...E);return x(i(m(R,On("context",C),!!s)))}function B(C,E,R={}){C=On("message",C),s&&(C=s(C));const{prefix:k,scalar:H,pointBytes:M}=S(E),K=D(R.context,k,C),W=w.multiply(K).toRawBytes(),F=D(R.context,W,M,C),G=h(K+F*H);ba("signature.s",G,Hr,n);const j=Bx(W,K0(G,t.BYTES));return On("result",j,t.BYTES*2)}const L=w_;function U(C,E,R,k=L){const{context:H,zip215:M}=k,K=t.BYTES;C=On("signature",C,2*K),E=On("message",E),R=On("publicKey",R,K),M!==void 0&&V0("zip215",M),s&&(E=s(E));const W=vl(C.slice(K,2*K));let F,G,j;try{F=v.fromHex(R,M),G=v.fromHex(C.slice(0,K),M),j=w.multiplyUnsafe(W)}catch{return!1}if(!M&&F.isSmallOrder())return!1;const X=D(H,G.toRawBytes(),F.toRawBytes(),E);return G.add(F.multiplyUnsafe(X)).subtract(j).clearCofactor().equals(v.ZERO)}return w._setWindowSize(8),{CURVE:e,getPublicKey:P,sign:B,verify:U,ExtendedPoint:v,utils:{getExtendedPublicKey:S,randomPrivateKey:()=>o(t.BYTES),precompute(C=8,E=v.BASE){return E._setWindowSize(C),E.multiply(BigInt(3)),E}}}}BigInt(0),BigInt(1);const eh=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Vx=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const E_=BigInt(1),Gx=BigInt(2);BigInt(3);const A_=BigInt(5),__=BigInt(8);function I_(r){const e=BigInt(10),t=BigInt(20),n=BigInt(40),s=BigInt(80),i=eh,o=r*r%i*r%i,a=un(o,Gx,i)*o%i,c=un(a,E_,i)*r%i,l=un(c,A_,i)*c%i,u=un(l,e,i)*l%i,f=un(u,t,i)*u%i,d=un(f,n,i)*f%i,p=un(d,s,i)*d%i,m=un(p,s,i)*d%i,b=un(m,e,i)*l%i;return{pow_p_5_8:un(b,Gx,i)*r%i,b2:o}}function C_(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function S_(r,e){const t=eh,n=gt(e*e*e,t),s=gt(n*n*e,t),i=I_(r*s).pow_p_5_8;let o=gt(r*n*i,t);const a=gt(e*o*o,t),c=o,l=gt(o*Vx,t),u=a===r,f=a===gt(-r,t),d=a===gt(-r*Vx,t);return u&&(o=c),(f||d)&&(o=l),c_(o,t)&&(o=gt(-o,t)),{isValid:u||f,value:o}}const O_=Fx(eh,void 0,!0),P_={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:O_,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:__,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:JA,randomBytes:Sx,adjustScalarBytes:C_,uvRatio:S_},Kx=v_(P_),N_="EdDSA",R_="JWT",Wx=".",qx="base64url",D_="utf8",T_="utf8",B_=":",U_="did",k_="key",Qx="base58btc",L_="z",$_="K36",M_=32;function th(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Jx(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?th(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function Zx(r,e){e||(e=r.reduce((s,i)=>s+i.length,0));const t=Jx(e);let n=0;for(const s of r)t.set(s,n),n+=s.length;return th(t)}function F_(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var s=0;s<r.length;s++){var i=r.charAt(s),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=s}var a=r.length,c=r.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var b=0,I=0,_=0,A=m.length;_!==A&&m[_]===0;)_++,b++;for(var v=(A-_)*u+1>>>0,w=new Uint8Array(v);_!==A;){for(var y=m[_],g=0,h=v-1;(y!==0||g<I)&&h!==-1;h--,g++)y+=256*w[h]>>>0,w[h]=y%a>>>0,y=y/a>>>0;if(y!==0)throw new Error("Non-zero carry");I=g,_++}for(var x=v-I;x!==v&&w[x]===0;)x++;for(var S=c.repeat(b);x<v;++x)S+=r.charAt(w[x]);return S}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var b=0;if(m[b]!==" "){for(var I=0,_=0;m[b]===c;)I++,b++;for(var A=(m.length-b)*l+1>>>0,v=new Uint8Array(A);m[b];){var w=t[m.charCodeAt(b)];if(w===255)return;for(var y=0,g=A-1;(w!==0||y<_)&&g!==-1;g--,y++)w+=a*v[g]>>>0,v[g]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");_=y,b++}if(m[b]!==" "){for(var h=A-_;h!==A&&v[h]===0;)h++;for(var x=new Uint8Array(I+(A-h)),S=I;h!==A;)x[S++]=v[h++];return x}}}function p(m){var b=d(m);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var H_=F_,j_=H_;const Yx=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},z_=r=>new TextEncoder().encode(r),V_=r=>new TextDecoder().decode(r);class G_{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}let K_=class{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Xx(this,e)}};class W_{constructor(e){this.decoders=e}or(e){return Xx(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Xx=(r,e)=>new W_({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class q_{constructor(e,t,n,s){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=s,this.encoder=new G_(e,t,n),this.decoder=new K_(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const _l=({name:r,prefix:e,encode:t,decode:n})=>new q_(r,e,t,n),xa=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:s}=j_(t,e);return _l({prefix:r,name:e,encode:n,decode:i=>Yx(s(i))})},Q_=(r,e,t,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=r.length;for(;r[i-1]==="=";)--i;const o=new Uint8Array(i*t/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[r[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<t|f,a+=t,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},J_=(r,e,t)=>{const n=e[e.length-1]==="=",s=(1<<t)-1;let i="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,i+=e[s&a>>o];if(o&&(i+=e[s&a<<t-o]),n)for(;i.length*t&7;)i+="=";return i},kt=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>_l({prefix:e,name:r,encode(s){return J_(s,n,t)},decode(s){return Q_(s,n,t,r)}}),Z_=_l({prefix:"\0",name:"identity",encode:r=>V_(r),decode:r=>z_(r)});var Y_=Object.freeze({__proto__:null,identity:Z_});const X_=kt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var eI=Object.freeze({__proto__:null,base2:X_});const tI=kt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var rI=Object.freeze({__proto__:null,base8:tI});const nI=xa({prefix:"9",name:"base10",alphabet:"0123456789"});var sI=Object.freeze({__proto__:null,base10:nI});const iI=kt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),oI=kt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var aI=Object.freeze({__proto__:null,base16:iI,base16upper:oI});const cI=kt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),lI=kt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),uI=kt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fI=kt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),hI=kt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),dI=kt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),pI=kt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),gI=kt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mI=kt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var bI=Object.freeze({__proto__:null,base32:cI,base32upper:lI,base32pad:uI,base32padupper:fI,base32hex:hI,base32hexupper:dI,base32hexpad:pI,base32hexpadupper:gI,base32z:mI});const xI=xa({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wI=xa({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var yI=Object.freeze({__proto__:null,base36:xI,base36upper:wI});const vI=xa({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),EI=xa({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var AI=Object.freeze({__proto__:null,base58btc:vI,base58flickr:EI});const _I=kt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),II=kt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),CI=kt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),SI=kt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var OI=Object.freeze({__proto__:null,base64:_I,base64pad:II,base64url:CI,base64urlpad:SI});const ew=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),PI=ew.reduce((r,e,t)=>(r[t]=e,r),[]),NI=ew.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function RI(r){return r.reduce((e,t)=>(e+=PI[t],e),"")}function DI(r){const e=[];for(const t of r){const n=NI[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const TI=_l({prefix:"🚀",name:"base256emoji",encode:RI,decode:DI});var BI=Object.freeze({__proto__:null,base256emoji:TI}),UI=rw,tw=128,kI=-128,LI=Math.pow(2,31);function rw(r,e,t){e=e||[],t=t||0;for(var n=t;r>=LI;)e[t++]=r&255|tw,r/=128;for(;r&kI;)e[t++]=r&255|tw,r>>>=7;return e[t]=r|0,rw.bytes=t-n+1,e}var $I=rh,MI=128,nw=127;function rh(r,n){var t=0,n=n||0,s=0,i=n,o,a=r.length;do{if(i>=a)throw rh.bytes=0,new RangeError("Could not decode varint");o=r[i++],t+=s<28?(o&nw)<<s:(o&nw)*Math.pow(2,s),s+=7}while(o>=MI);return rh.bytes=i-n,t}var FI=Math.pow(2,7),HI=Math.pow(2,14),jI=Math.pow(2,21),zI=Math.pow(2,28),VI=Math.pow(2,35),GI=Math.pow(2,42),KI=Math.pow(2,49),WI=Math.pow(2,56),qI=Math.pow(2,63),QI=function(r){return r<FI?1:r<HI?2:r<jI?3:r<zI?4:r<VI?5:r<GI?6:r<KI?7:r<WI?8:r<qI?9:10},JI={encode:UI,decode:$I,encodingLength:QI},sw=JI;const iw=(r,e,t=0)=>(sw.encode(r,e,t),e),ow=r=>sw.encodingLength(r),nh=(r,e)=>{const t=e.byteLength,n=ow(r),s=n+ow(t),i=new Uint8Array(s+t);return iw(r,i,0),iw(t,i,n),i.set(e,s),new ZI(r,t,e,i)};class ZI{constructor(e,t,n,s){this.code=e,this.size=t,this.digest=n,this.bytes=s}}const aw=({name:r,code:e,encode:t})=>new YI(r,e,t);class YI{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?nh(this.code,t):t.then(n=>nh(this.code,n))}else throw Error("Unknown type, must be binary type")}}const cw=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),XI=aw({name:"sha2-256",code:18,encode:cw("SHA-256")}),eC=aw({name:"sha2-512",code:19,encode:cw("SHA-512")});var tC=Object.freeze({__proto__:null,sha256:XI,sha512:eC});const lw=0,rC="identity",uw=Yx;var nC=Object.freeze({__proto__:null,identity:{code:lw,name:rC,encode:uw,digest:r=>nh(lw,uw(r))}});new TextEncoder,new TextDecoder;const fw={...Y_,...eI,...rI,...sI,...aI,...bI,...yI,...AI,...OI,...BI};({...tC,...nC});function hw(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const dw=hw("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),sh=hw("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Jx(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),pw={utf8:dw,"utf-8":dw,hex:fw.base16,latin1:sh,ascii:sh,binary:sh,...fw};function ih(r,e="utf8"){const t=pw[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}function oh(r,e="utf8"){const t=pw[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?th(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function Il(r){return ih(oh(xA(r),D_),qx)}function gw(r){const e=oh($_,Qx),t=L_+ih(Zx([e,r]),Qx);return[U_,k_,t].join(B_)}function sC(r){return ih(r,qx)}function iC(r){return oh([Il(r.header),Il(r.payload)].join(Wx),T_)}function oC(r){return[Il(r.header),Il(r.payload),sC(r.signature)].join(Wx)}function mw(r=Sx(M_)){const e=Kx.getPublicKey(r);return{secretKey:Zx([r,e]),publicKey:e}}async function aC(r,e,t,n,s=oe.fromMiliseconds(Date.now())){const i={alg:N_,typ:R_},o=gw(n.publicKey),a=s+t,c={iss:o,sub:r,aud:e,iat:s,exp:a},l=iC({header:i,payload:c}),u=Kx.sign(l,n.secretKey.slice(0,32));return oC({header:i,payload:c,signature:u})}var ah={},wa={},be={},ch={},bw;function cC(){return bw||(bw=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});function e(a,c){var l=a>>>16&65535,u=a&65535,f=c>>>16&65535,d=c&65535;return u*d+(l*d+u*f<<16>>>0)|0}r.mul=Math.imul||e;function t(a,c){return a+c|0}r.add=t;function n(a,c){return a-c|0}r.sub=n;function s(a,c){return a<<c|a>>>32-c}r.rotl=s;function i(a,c){return a<<32-c|a>>>c}r.rotr=i;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}r.isInteger=Number.isInteger||o,r.MAX_SAFE_INTEGER=9007199254740991,r.isSafeInteger=function(a){return r.isInteger(a)&&a>=-r.MAX_SAFE_INTEGER&&a<=r.MAX_SAFE_INTEGER}})(ch)),ch}var xw;function Cl(){if(xw)return be;xw=1,Object.defineProperty(be,"__esModule",{value:!0});var r=cC();function e(C,E){return E===void 0&&(E=0),(C[E+0]<<8|C[E+1])<<16>>16}be.readInt16BE=e;function t(C,E){return E===void 0&&(E=0),(C[E+0]<<8|C[E+1])>>>0}be.readUint16BE=t;function n(C,E){return E===void 0&&(E=0),(C[E+1]<<8|C[E])<<16>>16}be.readInt16LE=n;function s(C,E){return E===void 0&&(E=0),(C[E+1]<<8|C[E])>>>0}be.readUint16LE=s;function i(C,E,R){return E===void 0&&(E=new Uint8Array(2)),R===void 0&&(R=0),E[R+0]=C>>>8,E[R+1]=C>>>0,E}be.writeUint16BE=i,be.writeInt16BE=i;function o(C,E,R){return E===void 0&&(E=new Uint8Array(2)),R===void 0&&(R=0),E[R+0]=C>>>0,E[R+1]=C>>>8,E}be.writeUint16LE=o,be.writeInt16LE=o;function a(C,E){return E===void 0&&(E=0),C[E]<<24|C[E+1]<<16|C[E+2]<<8|C[E+3]}be.readInt32BE=a;function c(C,E){return E===void 0&&(E=0),(C[E]<<24|C[E+1]<<16|C[E+2]<<8|C[E+3])>>>0}be.readUint32BE=c;function l(C,E){return E===void 0&&(E=0),C[E+3]<<24|C[E+2]<<16|C[E+1]<<8|C[E]}be.readInt32LE=l;function u(C,E){return E===void 0&&(E=0),(C[E+3]<<24|C[E+2]<<16|C[E+1]<<8|C[E])>>>0}be.readUint32LE=u;function f(C,E,R){return E===void 0&&(E=new Uint8Array(4)),R===void 0&&(R=0),E[R+0]=C>>>24,E[R+1]=C>>>16,E[R+2]=C>>>8,E[R+3]=C>>>0,E}be.writeUint32BE=f,be.writeInt32BE=f;function d(C,E,R){return E===void 0&&(E=new Uint8Array(4)),R===void 0&&(R=0),E[R+0]=C>>>0,E[R+1]=C>>>8,E[R+2]=C>>>16,E[R+3]=C>>>24,E}be.writeUint32LE=d,be.writeInt32LE=d;function p(C,E){E===void 0&&(E=0);var R=a(C,E),k=a(C,E+4);return R*4294967296+k-(k>>31)*4294967296}be.readInt64BE=p;function m(C,E){E===void 0&&(E=0);var R=c(C,E),k=c(C,E+4);return R*4294967296+k}be.readUint64BE=m;function b(C,E){E===void 0&&(E=0);var R=l(C,E),k=l(C,E+4);return k*4294967296+R-(R>>31)*4294967296}be.readInt64LE=b;function I(C,E){E===void 0&&(E=0);var R=u(C,E),k=u(C,E+4);return k*4294967296+R}be.readUint64LE=I;function _(C,E,R){return E===void 0&&(E=new Uint8Array(8)),R===void 0&&(R=0),f(C/4294967296>>>0,E,R),f(C>>>0,E,R+4),E}be.writeUint64BE=_,be.writeInt64BE=_;function A(C,E,R){return E===void 0&&(E=new Uint8Array(8)),R===void 0&&(R=0),d(C>>>0,E,R),d(C/4294967296>>>0,E,R+4),E}be.writeUint64LE=A,be.writeInt64LE=A;function v(C,E,R){if(R===void 0&&(R=0),C%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(C/8>E.length-R)throw new Error("readUintBE: array is too short for the given bitLength");for(var k=0,H=1,M=C/8+R-1;M>=R;M--)k+=E[M]*H,H*=256;return k}be.readUintBE=v;function w(C,E,R){if(R===void 0&&(R=0),C%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(C/8>E.length-R)throw new Error("readUintLE: array is too short for the given bitLength");for(var k=0,H=1,M=R;M<R+C/8;M++)k+=E[M]*H,H*=256;return k}be.readUintLE=w;function y(C,E,R,k){if(R===void 0&&(R=new Uint8Array(C/8)),k===void 0&&(k=0),C%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(E))throw new Error("writeUintBE value must be an integer");for(var H=1,M=C/8+k-1;M>=k;M--)R[M]=E/H&255,H*=256;return R}be.writeUintBE=y;function g(C,E,R,k){if(R===void 0&&(R=new Uint8Array(C/8)),k===void 0&&(k=0),C%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(E))throw new Error("writeUintLE value must be an integer");for(var H=1,M=k;M<k+C/8;M++)R[M]=E/H&255,H*=256;return R}be.writeUintLE=g;function h(C,E){E===void 0&&(E=0);var R=new DataView(C.buffer,C.byteOffset,C.byteLength);return R.getFloat32(E)}be.readFloat32BE=h;function x(C,E){E===void 0&&(E=0);var R=new DataView(C.buffer,C.byteOffset,C.byteLength);return R.getFloat32(E,!0)}be.readFloat32LE=x;function S(C,E){E===void 0&&(E=0);var R=new DataView(C.buffer,C.byteOffset,C.byteLength);return R.getFloat64(E)}be.readFloat64BE=S;function P(C,E){E===void 0&&(E=0);var R=new DataView(C.buffer,C.byteOffset,C.byteLength);return R.getFloat64(E,!0)}be.readFloat64LE=P;function D(C,E,R){E===void 0&&(E=new Uint8Array(4)),R===void 0&&(R=0);var k=new DataView(E.buffer,E.byteOffset,E.byteLength);return k.setFloat32(R,C),E}be.writeFloat32BE=D;function B(C,E,R){E===void 0&&(E=new Uint8Array(4)),R===void 0&&(R=0);var k=new DataView(E.buffer,E.byteOffset,E.byteLength);return k.setFloat32(R,C,!0),E}be.writeFloat32LE=B;function L(C,E,R){E===void 0&&(E=new Uint8Array(8)),R===void 0&&(R=0);var k=new DataView(E.buffer,E.byteOffset,E.byteLength);return k.setFloat64(R,C),E}be.writeFloat64BE=L;function U(C,E,R){E===void 0&&(E=new Uint8Array(8)),R===void 0&&(R=0);var k=new DataView(E.buffer,E.byteOffset,E.byteLength);return k.setFloat64(R,C,!0),E}return be.writeFloat64LE=U,be}var Sl={},ww;function Pn(){if(ww)return Sl;ww=1,Object.defineProperty(Sl,"__esModule",{value:!0});function r(e){for(var t=0;t<e.length;t++)e[t]=0;return e}return Sl.wipe=r,Sl}var yw;function lC(){if(yw)return wa;yw=1,Object.defineProperty(wa,"__esModule",{value:!0});var r=Cl(),e=Pn(),t=20;function n(a,c,l){for(var u=1634760805,f=857760878,d=2036477234,p=1797285236,m=l[3]<<24|l[2]<<16|l[1]<<8|l[0],b=l[7]<<24|l[6]<<16|l[5]<<8|l[4],I=l[11]<<24|l[10]<<16|l[9]<<8|l[8],_=l[15]<<24|l[14]<<16|l[13]<<8|l[12],A=l[19]<<24|l[18]<<16|l[17]<<8|l[16],v=l[23]<<24|l[22]<<16|l[21]<<8|l[20],w=l[27]<<24|l[26]<<16|l[25]<<8|l[24],y=l[31]<<24|l[30]<<16|l[29]<<8|l[28],g=c[3]<<24|c[2]<<16|c[1]<<8|c[0],h=c[7]<<24|c[6]<<16|c[5]<<8|c[4],x=c[11]<<24|c[10]<<16|c[9]<<8|c[8],S=c[15]<<24|c[14]<<16|c[13]<<8|c[12],P=u,D=f,B=d,L=p,U=m,C=b,E=I,R=_,k=A,H=v,M=w,K=y,W=g,F=h,G=x,j=S,X=0;X<t;X+=2)P=P+U|0,W^=P,W=W>>>16|W<<16,k=k+W|0,U^=k,U=U>>>20|U<<12,D=D+C|0,F^=D,F=F>>>16|F<<16,H=H+F|0,C^=H,C=C>>>20|C<<12,B=B+E|0,G^=B,G=G>>>16|G<<16,M=M+G|0,E^=M,E=E>>>20|E<<12,L=L+R|0,j^=L,j=j>>>16|j<<16,K=K+j|0,R^=K,R=R>>>20|R<<12,B=B+E|0,G^=B,G=G>>>24|G<<8,M=M+G|0,E^=M,E=E>>>25|E<<7,L=L+R|0,j^=L,j=j>>>24|j<<8,K=K+j|0,R^=K,R=R>>>25|R<<7,D=D+C|0,F^=D,F=F>>>24|F<<8,H=H+F|0,C^=H,C=C>>>25|C<<7,P=P+U|0,W^=P,W=W>>>24|W<<8,k=k+W|0,U^=k,U=U>>>25|U<<7,P=P+C|0,j^=P,j=j>>>16|j<<16,M=M+j|0,C^=M,C=C>>>20|C<<12,D=D+E|0,W^=D,W=W>>>16|W<<16,K=K+W|0,E^=K,E=E>>>20|E<<12,B=B+R|0,F^=B,F=F>>>16|F<<16,k=k+F|0,R^=k,R=R>>>20|R<<12,L=L+U|0,G^=L,G=G>>>16|G<<16,H=H+G|0,U^=H,U=U>>>20|U<<12,B=B+R|0,F^=B,F=F>>>24|F<<8,k=k+F|0,R^=k,R=R>>>25|R<<7,L=L+U|0,G^=L,G=G>>>24|G<<8,H=H+G|0,U^=H,U=U>>>25|U<<7,D=D+E|0,W^=D,W=W>>>24|W<<8,K=K+W|0,E^=K,E=E>>>25|E<<7,P=P+C|0,j^=P,j=j>>>24|j<<8,M=M+j|0,C^=M,C=C>>>25|C<<7;r.writeUint32LE(P+u|0,a,0),r.writeUint32LE(D+f|0,a,4),r.writeUint32LE(B+d|0,a,8),r.writeUint32LE(L+p|0,a,12),r.writeUint32LE(U+m|0,a,16),r.writeUint32LE(C+b|0,a,20),r.writeUint32LE(E+I|0,a,24),r.writeUint32LE(R+_|0,a,28),r.writeUint32LE(k+A|0,a,32),r.writeUint32LE(H+v|0,a,36),r.writeUint32LE(M+w|0,a,40),r.writeUint32LE(K+y|0,a,44),r.writeUint32LE(W+g|0,a,48),r.writeUint32LE(F+h|0,a,52),r.writeUint32LE(G+x|0,a,56),r.writeUint32LE(j+S|0,a,60)}function s(a,c,l,u,f){if(f===void 0&&(f=0),a.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(u.length<l.length)throw new Error("ChaCha: destination is shorter than source");var d,p;if(f===0){if(c.length!==8&&c.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");d=new Uint8Array(16),p=d.length-c.length,d.set(c,p)}else{if(c.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");d=c,p=f}for(var m=new Uint8Array(64),b=0;b<l.length;b+=64){n(m,d,a);for(var I=b;I<b+64&&I<l.length;I++)u[I]=l[I]^m[I-b];o(d,0,p)}return e.wipe(m),f===0&&e.wipe(d),u}wa.streamXOR=s;function i(a,c,l,u){return u===void 0&&(u=0),e.wipe(l),s(a,c,l,l,u)}wa.stream=i;function o(a,c,l){for(var u=1;l--;)u=u+(a[c]&255)|0,a[c]=u&255,u>>>=8,c++;if(u>0)throw new Error("ChaCha: counter overflow")}return wa}var lh={},Xs={},vw;function uh(){if(vw)return Xs;vw=1,Object.defineProperty(Xs,"__esModule",{value:!0});function r(s,i,o){return~(s-1)&i|s-1&o}Xs.select=r;function e(s,i){return(s|0)-(i|0)-1>>>31&1}Xs.lessOrEqual=e;function t(s,i){if(s.length!==i.length)return 0;for(var o=0,a=0;a<s.length;a++)o|=s[a]^i[a];return 1&o-1>>>8}Xs.compare=t;function n(s,i){return s.length===0||i.length===0?!1:t(s,i)!==0}return Xs.equal=n,Xs}var Ew;function uC(){return Ew||(Ew=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=uh(),t=Pn();r.DIGEST_LENGTH=16;var n=(function(){function o(a){this.digestLength=r.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=a[0]|a[1]<<8;this._r[0]=c&8191;var l=a[2]|a[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var u=a[4]|a[5]<<8;this._r[2]=(l>>>10|u<<6)&7939;var f=a[6]|a[7]<<8;this._r[3]=(u>>>7|f<<9)&8191;var d=a[8]|a[9]<<8;this._r[4]=(f>>>4|d<<12)&255,this._r[5]=d>>>1&8190;var p=a[10]|a[11]<<8;this._r[6]=(d>>>14|p<<2)&8191;var m=a[12]|a[13]<<8;this._r[7]=(p>>>11|m<<5)&8065;var b=a[14]|a[15]<<8;this._r[8]=(m>>>8|b<<8)&8191,this._r[9]=b>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,c,l){for(var u=this._fin?0:2048,f=this._h[0],d=this._h[1],p=this._h[2],m=this._h[3],b=this._h[4],I=this._h[5],_=this._h[6],A=this._h[7],v=this._h[8],w=this._h[9],y=this._r[0],g=this._r[1],h=this._r[2],x=this._r[3],S=this._r[4],P=this._r[5],D=this._r[6],B=this._r[7],L=this._r[8],U=this._r[9];l>=16;){var C=a[c+0]|a[c+1]<<8;f+=C&8191;var E=a[c+2]|a[c+3]<<8;d+=(C>>>13|E<<3)&8191;var R=a[c+4]|a[c+5]<<8;p+=(E>>>10|R<<6)&8191;var k=a[c+6]|a[c+7]<<8;m+=(R>>>7|k<<9)&8191;var H=a[c+8]|a[c+9]<<8;b+=(k>>>4|H<<12)&8191,I+=H>>>1&8191;var M=a[c+10]|a[c+11]<<8;_+=(H>>>14|M<<2)&8191;var K=a[c+12]|a[c+13]<<8;A+=(M>>>11|K<<5)&8191;var W=a[c+14]|a[c+15]<<8;v+=(K>>>8|W<<8)&8191,w+=W>>>5|u;var F=0,G=F;G+=f*y,G+=d*(5*U),G+=p*(5*L),G+=m*(5*B),G+=b*(5*D),F=G>>>13,G&=8191,G+=I*(5*P),G+=_*(5*S),G+=A*(5*x),G+=v*(5*h),G+=w*(5*g),F+=G>>>13,G&=8191;var j=F;j+=f*g,j+=d*y,j+=p*(5*U),j+=m*(5*L),j+=b*(5*B),F=j>>>13,j&=8191,j+=I*(5*D),j+=_*(5*P),j+=A*(5*S),j+=v*(5*x),j+=w*(5*h),F+=j>>>13,j&=8191;var X=F;X+=f*h,X+=d*g,X+=p*y,X+=m*(5*U),X+=b*(5*L),F=X>>>13,X&=8191,X+=I*(5*B),X+=_*(5*D),X+=A*(5*P),X+=v*(5*S),X+=w*(5*x),F+=X>>>13,X&=8191;var se=F;se+=f*x,se+=d*h,se+=p*g,se+=m*y,se+=b*(5*U),F=se>>>13,se&=8191,se+=I*(5*L),se+=_*(5*B),se+=A*(5*D),se+=v*(5*P),se+=w*(5*S),F+=se>>>13,se&=8191;var ne=F;ne+=f*S,ne+=d*x,ne+=p*h,ne+=m*g,ne+=b*y,F=ne>>>13,ne&=8191,ne+=I*(5*U),ne+=_*(5*L),ne+=A*(5*B),ne+=v*(5*D),ne+=w*(5*P),F+=ne>>>13,ne&=8191;var ie=F;ie+=f*P,ie+=d*S,ie+=p*x,ie+=m*h,ie+=b*g,F=ie>>>13,ie&=8191,ie+=I*y,ie+=_*(5*U),ie+=A*(5*L),ie+=v*(5*B),ie+=w*(5*D),F+=ie>>>13,ie&=8191;var ce=F;ce+=f*D,ce+=d*P,ce+=p*S,ce+=m*x,ce+=b*h,F=ce>>>13,ce&=8191,ce+=I*g,ce+=_*y,ce+=A*(5*U),ce+=v*(5*L),ce+=w*(5*B),F+=ce>>>13,ce&=8191;var me=F;me+=f*B,me+=d*D,me+=p*P,me+=m*S,me+=b*x,F=me>>>13,me&=8191,me+=I*h,me+=_*g,me+=A*y,me+=v*(5*U),me+=w*(5*L),F+=me>>>13,me&=8191;var le=F;le+=f*L,le+=d*B,le+=p*D,le+=m*P,le+=b*S,F=le>>>13,le&=8191,le+=I*x,le+=_*h,le+=A*g,le+=v*y,le+=w*(5*U),F+=le>>>13,le&=8191;var we=F;we+=f*U,we+=d*L,we+=p*B,we+=m*D,we+=b*P,F=we>>>13,we&=8191,we+=I*S,we+=_*x,we+=A*h,we+=v*g,we+=w*y,F+=we>>>13,we&=8191,F=(F<<2)+F|0,F=F+G|0,G=F&8191,F=F>>>13,j+=F,f=G,d=j,p=X,m=se,b=ne,I=ie,_=ce,A=me,v=le,w=we,c+=16,l-=16}this._h[0]=f,this._h[1]=d,this._h[2]=p,this._h[3]=m,this._h[4]=b,this._h[5]=I,this._h[6]=_,this._h[7]=A,this._h[8]=v,this._h[9]=w},o.prototype.finish=function(a,c){c===void 0&&(c=0);var l=new Uint16Array(10),u,f,d,p;if(this._leftover){for(p=this._leftover,this._buffer[p++]=1;p<16;p++)this._buffer[p]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(u=this._h[1]>>>13,this._h[1]&=8191,p=2;p<10;p++)this._h[p]+=u,u=this._h[p]>>>13,this._h[p]&=8191;for(this._h[0]+=u*5,u=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=u,u=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=u,l[0]=this._h[0]+5,u=l[0]>>>13,l[0]&=8191,p=1;p<10;p++)l[p]=this._h[p]+u,u=l[p]>>>13,l[p]&=8191;for(l[9]-=8192,f=(u^1)-1,p=0;p<10;p++)l[p]&=f;for(f=~f,p=0;p<10;p++)this._h[p]=this._h[p]&f|l[p];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,d=this._h[0]+this._pad[0],this._h[0]=d&65535,p=1;p<8;p++)d=(this._h[p]+this._pad[p]|0)+(d>>>16)|0,this._h[p]=d&65535;return a[c+0]=this._h[0]>>>0,a[c+1]=this._h[0]>>>8,a[c+2]=this._h[1]>>>0,a[c+3]=this._h[1]>>>8,a[c+4]=this._h[2]>>>0,a[c+5]=this._h[2]>>>8,a[c+6]=this._h[3]>>>0,a[c+7]=this._h[3]>>>8,a[c+8]=this._h[4]>>>0,a[c+9]=this._h[4]>>>8,a[c+10]=this._h[5]>>>0,a[c+11]=this._h[5]>>>8,a[c+12]=this._h[6]>>>0,a[c+13]=this._h[6]>>>8,a[c+14]=this._h[7]>>>0,a[c+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var c=0,l=a.length,u;if(this._leftover){u=16-this._leftover,u>l&&(u=l);for(var f=0;f<u;f++)this._buffer[this._leftover+f]=a[c+f];if(l-=u,c+=u,this._leftover+=u,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(u=l-l%16,this._blocks(a,c,u),c+=u,l-=u),l){for(var f=0;f<l;f++)this._buffer[this._leftover+f]=a[c+f];this._leftover+=l}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return t.wipe(this._buffer),t.wipe(this._r),t.wipe(this._h),t.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o})();r.Poly1305=n;function s(o,a){var c=new n(o);c.update(a);var l=c.digest();return c.clean(),l}r.oneTimeAuth=s;function i(o,a){return o.length!==r.DIGEST_LENGTH||a.length!==r.DIGEST_LENGTH?!1:e.equal(o,a)}r.equal=i})(lh)),lh}var Aw;function fC(){return Aw||(Aw=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=lC(),t=uC(),n=Pn(),s=Cl(),i=uh();r.KEY_LENGTH=32,r.NONCE_LENGTH=12,r.TAG_LENGTH=16;var o=new Uint8Array(16),a=(function(){function c(l){if(this.nonceLength=r.NONCE_LENGTH,this.tagLength=r.TAG_LENGTH,l.length!==r.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,u,f,d){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var p=new Uint8Array(16);p.set(l,p.length-l.length);var m=new Uint8Array(32);e.stream(this._key,p,m,4);var b=u.length+this.tagLength,I;if(d){if(d.length!==b)throw new Error("ChaCha20Poly1305: incorrect destination length");I=d}else I=new Uint8Array(b);return e.streamXOR(this._key,p,u,I,4),this._authenticate(I.subarray(I.length-this.tagLength,I.length),m,I.subarray(0,I.length-this.tagLength),f),n.wipe(p),I},c.prototype.open=function(l,u,f,d){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(u.length<this.tagLength)return null;var p=new Uint8Array(16);p.set(l,p.length-l.length);var m=new Uint8Array(32);e.stream(this._key,p,m,4);var b=new Uint8Array(this.tagLength);if(this._authenticate(b,m,u.subarray(0,u.length-this.tagLength),f),!i.equal(b,u.subarray(u.length-this.tagLength,u.length)))return null;var I=u.length-this.tagLength,_;if(d){if(d.length!==I)throw new Error("ChaCha20Poly1305: incorrect destination length");_=d}else _=new Uint8Array(I);return e.streamXOR(this._key,p,u.subarray(0,u.length-this.tagLength),_,4),n.wipe(p),_},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(l,u,f,d){var p=new t.Poly1305(u);d&&(p.update(d),d.length%16>0&&p.update(o.subarray(d.length%16))),p.update(f),f.length%16>0&&p.update(o.subarray(f.length%16));var m=new Uint8Array(8);d&&s.writeUint64LE(d.length,m),p.update(m),s.writeUint64LE(f.length,m),p.update(m);for(var b=p.digest(),I=0;I<b.length;I++)l[I]=b[I];p.clean(),n.wipe(b),n.wipe(m)},c})();r.ChaCha20Poly1305=a})(ah)),ah}var _w=fC(),Ol={},so={},Pl={},Iw;function hC(){if(Iw)return Pl;Iw=1,Object.defineProperty(Pl,"__esModule",{value:!0});function r(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}return Pl.isSerializableHash=r,Pl}var Cw;function dC(){if(Cw)return so;Cw=1,Object.defineProperty(so,"__esModule",{value:!0});var r=hC(),e=uh(),t=Pn(),n=(function(){function i(o,a){this._finished=!1,this._inner=new o,this._outer=new o,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var c=new Uint8Array(this.blockSize);a.length>this.blockSize?this._inner.update(a).finish(c).clean():c.set(a);for(var l=0;l<c.length;l++)c[l]^=54;this._inner.update(c);for(var l=0;l<c.length;l++)c[l]^=106;this._outer.update(c),r.isSerializableHash(this._inner)&&r.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),t.wipe(c)}return i.prototype.reset=function(){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},i.prototype.clean=function(){r.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),r.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},i.prototype.update=function(o){return this._inner.update(o),this},i.prototype.finish=function(o){return this._finished?(this._outer.finish(o),this):(this._inner.finish(o),this._outer.update(o.subarray(0,this.digestLength)).finish(o),this._finished=!0,this)},i.prototype.digest=function(){var o=new Uint8Array(this.digestLength);return this.finish(o),o},i.prototype.saveState=function(){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},i.prototype.restoreState=function(o){if(!r.isSerializableHash(this._inner)||!r.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(o),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},i.prototype.cleanSavedState=function(o){if(!r.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(o)},i})();so.HMAC=n;function s(i,o,a){var c=new n(i,o);c.update(a);var l=c.digest();return c.clean(),l}return so.hmac=s,so.equal=e.equal,so}var Sw;function pC(){if(Sw)return Ol;Sw=1,Object.defineProperty(Ol,"__esModule",{value:!0});var r=dC(),e=Pn(),t=(function(){function n(s,i,o,a){o===void 0&&(o=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=s,this._info=a;var c=r.hmac(this._hash,o,i);this._hmac=new r.HMAC(s,c),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return n.prototype._fillBuffer=function(){this._counter[0]++;var s=this._counter[0];if(s===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),s>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},n.prototype.expand=function(s){for(var i=new Uint8Array(s),o=0;o<i.length;o++)this._bufpos===this._buffer.length&&this._fillBuffer(),i[o]=this._buffer[this._bufpos++];return i},n.prototype.clean=function(){this._hmac.clean(),e.wipe(this._buffer),e.wipe(this._counter),this._bufpos=0},n})();return Ol.HKDF=t,Ol}var gC=pC(),fh={},ya={},va={},Ow;function mC(){if(Ow)return va;Ow=1,Object.defineProperty(va,"__esModule",{value:!0}),va.BrowserRandomSource=void 0;const r=65536;class e{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const n=typeof self<"u"?self.crypto||self.msCrypto:null;n&&n.getRandomValues!==void 0&&(this._crypto=n,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(n){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const s=new Uint8Array(n);for(let i=0;i<s.length;i+=r)this._crypto.getRandomValues(s.subarray(i,i+Math.min(s.length-i,r)));return s}}return va.BrowserRandomSource=e,va}function bC(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ea={};const xC=b0(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Pw;function wC(){if(Pw)return Ea;Pw=1,Object.defineProperty(Ea,"__esModule",{value:!0}),Ea.NodeRandomSource=void 0;const r=Pn();class e{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof bC<"u"){const n=xC;n&&n.randomBytes&&(this._crypto=n,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(n){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let s=this._crypto.randomBytes(n);if(s.length!==n)throw new Error("NodeRandomSource: got fewer bytes than requested");const i=new Uint8Array(n);for(let o=0;o<i.length;o++)i[o]=s[o];return(0,r.wipe)(s),i}}return Ea.NodeRandomSource=e,Ea}var Nw;function yC(){if(Nw)return ya;Nw=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.SystemRandomSource=void 0;const r=mC(),e=wC();class t{constructor(){if(this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new e.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(s){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(s)}}return ya.SystemRandomSource=t,ya}var Rw;function Dw(){return Rw||(Rw=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.randomStringForEntropy=r.randomString=r.randomUint32=r.randomBytes=r.defaultRandomSource=void 0;const e=yC(),t=Cl(),n=Pn();r.defaultRandomSource=new e.SystemRandomSource;function s(l,u=r.defaultRandomSource){return u.randomBytes(l)}r.randomBytes=s;function i(l=r.defaultRandomSource){const u=s(4,l),f=(0,t.readUint32LE)(u);return(0,n.wipe)(u),f}r.randomUint32=i;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(l,u=o,f=r.defaultRandomSource){if(u.length<2)throw new Error("randomString charset is too short");if(u.length>256)throw new Error("randomString charset is too long");let d="";const p=u.length,m=256-256%p;for(;l>0;){const b=s(Math.ceil(l*256/m),f);for(let I=0;I<b.length&&l>0;I++){const _=b[I];_<m&&(d+=u.charAt(_%p),l--)}(0,n.wipe)(b)}return d}r.randomString=a;function c(l,u=o,f=r.defaultRandomSource){const d=Math.ceil(l/(Math.log(u.length)/Math.LN2));return a(d,u,f)}r.randomStringForEntropy=c})(fh)),fh}var Tw=Dw(),hh={},Bw;function vC(){return Bw||(Bw=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});var e=Cl(),t=Pn();r.DIGEST_LENGTH=32,r.BLOCK_SIZE=64;var n=(function(){function a(){this.digestLength=r.DIGEST_LENGTH,this.blockSize=r.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){t.wipe(this._buffer),t.wipe(this._temp),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var u=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[u++],l--;this._bufferLength===this.blockSize&&(i(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(u=i(this._temp,this._state,c,u,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[u++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,u=this._bufferLength,f=l/536870912|0,d=l<<3,p=l%64<56?64:128;this._buffer[u]=128;for(var m=u+1;m<p-8;m++)this._buffer[m]=0;e.writeUint32BE(f,this._buffer,p-8),e.writeUint32BE(d,this._buffer,p-4),i(this._temp,this._state,this._buffer,0,p),this._finished=!0}for(var m=0;m<this.digestLength/4;m++)e.writeUint32BE(this._state[m],c,m*4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){t.wipe(c.state),c.buffer&&t.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a})();r.SHA256=n;var s=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function i(a,c,l,u,f){for(;f>=64;){for(var d=c[0],p=c[1],m=c[2],b=c[3],I=c[4],_=c[5],A=c[6],v=c[7],w=0;w<16;w++){var y=u+w*4;a[w]=e.readUint32BE(l,y)}for(var w=16;w<64;w++){var g=a[w-2],h=(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10;g=a[w-15];var x=(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3;a[w]=(h+a[w-7]|0)+(x+a[w-16]|0)}for(var w=0;w<64;w++){var h=(((I>>>6|I<<26)^(I>>>11|I<<21)^(I>>>25|I<<7))+(I&_^~I&A)|0)+(v+(s[w]+a[w]|0)|0)|0,x=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&p^d&m^p&m)|0;v=A,A=_,_=I,I=b+h|0,b=m,m=p,p=d,d=h+x|0}c[0]+=d,c[1]+=p,c[2]+=m,c[3]+=b,c[4]+=I,c[5]+=_,c[6]+=A,c[7]+=v,u+=64,f-=64}return u}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}r.hash=o})(hh)),hh}var dh=vC(),ph={},Uw;function EC(){return Uw||(Uw=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.sharedKey=r.generateKeyPair=r.generateKeyPairFromSeed=r.scalarMultBase=r.scalarMult=r.SHARED_KEY_LENGTH=r.SECRET_KEY_LENGTH=r.PUBLIC_KEY_LENGTH=void 0;const e=Dw(),t=Pn();r.PUBLIC_KEY_LENGTH=32,r.SECRET_KEY_LENGTH=32,r.SHARED_KEY_LENGTH=32;function n(w){const y=new Float64Array(16);if(w)for(let g=0;g<w.length;g++)y[g]=w[g];return y}const s=new Uint8Array(32);s[0]=9;const i=n([56129,1]);function o(w){let y=1;for(let g=0;g<16;g++){let h=w[g]+y+65535;y=Math.floor(h/65536),w[g]=h-y*65536}w[0]+=y-1+37*(y-1)}function a(w,y,g){const h=~(g-1);for(let x=0;x<16;x++){const S=h&(w[x]^y[x]);w[x]^=S,y[x]^=S}}function c(w,y){const g=n(),h=n();for(let x=0;x<16;x++)h[x]=y[x];o(h),o(h),o(h);for(let x=0;x<2;x++){g[0]=h[0]-65517;for(let P=1;P<15;P++)g[P]=h[P]-65535-(g[P-1]>>16&1),g[P-1]&=65535;g[15]=h[15]-32767-(g[14]>>16&1);const S=g[15]>>16&1;g[14]&=65535,a(h,g,1-S)}for(let x=0;x<16;x++)w[2*x]=h[x]&255,w[2*x+1]=h[x]>>8}function l(w,y){for(let g=0;g<16;g++)w[g]=y[2*g]+(y[2*g+1]<<8);w[15]&=32767}function u(w,y,g){for(let h=0;h<16;h++)w[h]=y[h]+g[h]}function f(w,y,g){for(let h=0;h<16;h++)w[h]=y[h]-g[h]}function d(w,y,g){let h,x,S=0,P=0,D=0,B=0,L=0,U=0,C=0,E=0,R=0,k=0,H=0,M=0,K=0,W=0,F=0,G=0,j=0,X=0,se=0,ne=0,ie=0,ce=0,me=0,le=0,we=0,Nt=0,xr=0,Dr=0,Es=0,pi=0,gi=0,nt=g[0],qe=g[1],st=g[2],it=g[3],ot=g[4],at=g[5],ct=g[6],Ge=g[7],Qe=g[8],lt=g[9],Pe=g[10],bt=g[11],xt=g[12],Rt=g[13],wt=g[14],ut=g[15];h=y[0],S+=h*nt,P+=h*qe,D+=h*st,B+=h*it,L+=h*ot,U+=h*at,C+=h*ct,E+=h*Ge,R+=h*Qe,k+=h*lt,H+=h*Pe,M+=h*bt,K+=h*xt,W+=h*Rt,F+=h*wt,G+=h*ut,h=y[1],P+=h*nt,D+=h*qe,B+=h*st,L+=h*it,U+=h*ot,C+=h*at,E+=h*ct,R+=h*Ge,k+=h*Qe,H+=h*lt,M+=h*Pe,K+=h*bt,W+=h*xt,F+=h*Rt,G+=h*wt,j+=h*ut,h=y[2],D+=h*nt,B+=h*qe,L+=h*st,U+=h*it,C+=h*ot,E+=h*at,R+=h*ct,k+=h*Ge,H+=h*Qe,M+=h*lt,K+=h*Pe,W+=h*bt,F+=h*xt,G+=h*Rt,j+=h*wt,X+=h*ut,h=y[3],B+=h*nt,L+=h*qe,U+=h*st,C+=h*it,E+=h*ot,R+=h*at,k+=h*ct,H+=h*Ge,M+=h*Qe,K+=h*lt,W+=h*Pe,F+=h*bt,G+=h*xt,j+=h*Rt,X+=h*wt,se+=h*ut,h=y[4],L+=h*nt,U+=h*qe,C+=h*st,E+=h*it,R+=h*ot,k+=h*at,H+=h*ct,M+=h*Ge,K+=h*Qe,W+=h*lt,F+=h*Pe,G+=h*bt,j+=h*xt,X+=h*Rt,se+=h*wt,ne+=h*ut,h=y[5],U+=h*nt,C+=h*qe,E+=h*st,R+=h*it,k+=h*ot,H+=h*at,M+=h*ct,K+=h*Ge,W+=h*Qe,F+=h*lt,G+=h*Pe,j+=h*bt,X+=h*xt,se+=h*Rt,ne+=h*wt,ie+=h*ut,h=y[6],C+=h*nt,E+=h*qe,R+=h*st,k+=h*it,H+=h*ot,M+=h*at,K+=h*ct,W+=h*Ge,F+=h*Qe,G+=h*lt,j+=h*Pe,X+=h*bt,se+=h*xt,ne+=h*Rt,ie+=h*wt,ce+=h*ut,h=y[7],E+=h*nt,R+=h*qe,k+=h*st,H+=h*it,M+=h*ot,K+=h*at,W+=h*ct,F+=h*Ge,G+=h*Qe,j+=h*lt,X+=h*Pe,se+=h*bt,ne+=h*xt,ie+=h*Rt,ce+=h*wt,me+=h*ut,h=y[8],R+=h*nt,k+=h*qe,H+=h*st,M+=h*it,K+=h*ot,W+=h*at,F+=h*ct,G+=h*Ge,j+=h*Qe,X+=h*lt,se+=h*Pe,ne+=h*bt,ie+=h*xt,ce+=h*Rt,me+=h*wt,le+=h*ut,h=y[9],k+=h*nt,H+=h*qe,M+=h*st,K+=h*it,W+=h*ot,F+=h*at,G+=h*ct,j+=h*Ge,X+=h*Qe,se+=h*lt,ne+=h*Pe,ie+=h*bt,ce+=h*xt,me+=h*Rt,le+=h*wt,we+=h*ut,h=y[10],H+=h*nt,M+=h*qe,K+=h*st,W+=h*it,F+=h*ot,G+=h*at,j+=h*ct,X+=h*Ge,se+=h*Qe,ne+=h*lt,ie+=h*Pe,ce+=h*bt,me+=h*xt,le+=h*Rt,we+=h*wt,Nt+=h*ut,h=y[11],M+=h*nt,K+=h*qe,W+=h*st,F+=h*it,G+=h*ot,j+=h*at,X+=h*ct,se+=h*Ge,ne+=h*Qe,ie+=h*lt,ce+=h*Pe,me+=h*bt,le+=h*xt,we+=h*Rt,Nt+=h*wt,xr+=h*ut,h=y[12],K+=h*nt,W+=h*qe,F+=h*st,G+=h*it,j+=h*ot,X+=h*at,se+=h*ct,ne+=h*Ge,ie+=h*Qe,ce+=h*lt,me+=h*Pe,le+=h*bt,we+=h*xt,Nt+=h*Rt,xr+=h*wt,Dr+=h*ut,h=y[13],W+=h*nt,F+=h*qe,G+=h*st,j+=h*it,X+=h*ot,se+=h*at,ne+=h*ct,ie+=h*Ge,ce+=h*Qe,me+=h*lt,le+=h*Pe,we+=h*bt,Nt+=h*xt,xr+=h*Rt,Dr+=h*wt,Es+=h*ut,h=y[14],F+=h*nt,G+=h*qe,j+=h*st,X+=h*it,se+=h*ot,ne+=h*at,ie+=h*ct,ce+=h*Ge,me+=h*Qe,le+=h*lt,we+=h*Pe,Nt+=h*bt,xr+=h*xt,Dr+=h*Rt,Es+=h*wt,pi+=h*ut,h=y[15],G+=h*nt,j+=h*qe,X+=h*st,se+=h*it,ne+=h*ot,ie+=h*at,ce+=h*ct,me+=h*Ge,le+=h*Qe,we+=h*lt,Nt+=h*Pe,xr+=h*bt,Dr+=h*xt,Es+=h*Rt,pi+=h*wt,gi+=h*ut,S+=38*j,P+=38*X,D+=38*se,B+=38*ne,L+=38*ie,U+=38*ce,C+=38*me,E+=38*le,R+=38*we,k+=38*Nt,H+=38*xr,M+=38*Dr,K+=38*Es,W+=38*pi,F+=38*gi,x=1,h=S+x+65535,x=Math.floor(h/65536),S=h-x*65536,h=P+x+65535,x=Math.floor(h/65536),P=h-x*65536,h=D+x+65535,x=Math.floor(h/65536),D=h-x*65536,h=B+x+65535,x=Math.floor(h/65536),B=h-x*65536,h=L+x+65535,x=Math.floor(h/65536),L=h-x*65536,h=U+x+65535,x=Math.floor(h/65536),U=h-x*65536,h=C+x+65535,x=Math.floor(h/65536),C=h-x*65536,h=E+x+65535,x=Math.floor(h/65536),E=h-x*65536,h=R+x+65535,x=Math.floor(h/65536),R=h-x*65536,h=k+x+65535,x=Math.floor(h/65536),k=h-x*65536,h=H+x+65535,x=Math.floor(h/65536),H=h-x*65536,h=M+x+65535,x=Math.floor(h/65536),M=h-x*65536,h=K+x+65535,x=Math.floor(h/65536),K=h-x*65536,h=W+x+65535,x=Math.floor(h/65536),W=h-x*65536,h=F+x+65535,x=Math.floor(h/65536),F=h-x*65536,h=G+x+65535,x=Math.floor(h/65536),G=h-x*65536,S+=x-1+37*(x-1),x=1,h=S+x+65535,x=Math.floor(h/65536),S=h-x*65536,h=P+x+65535,x=Math.floor(h/65536),P=h-x*65536,h=D+x+65535,x=Math.floor(h/65536),D=h-x*65536,h=B+x+65535,x=Math.floor(h/65536),B=h-x*65536,h=L+x+65535,x=Math.floor(h/65536),L=h-x*65536,h=U+x+65535,x=Math.floor(h/65536),U=h-x*65536,h=C+x+65535,x=Math.floor(h/65536),C=h-x*65536,h=E+x+65535,x=Math.floor(h/65536),E=h-x*65536,h=R+x+65535,x=Math.floor(h/65536),R=h-x*65536,h=k+x+65535,x=Math.floor(h/65536),k=h-x*65536,h=H+x+65535,x=Math.floor(h/65536),H=h-x*65536,h=M+x+65535,x=Math.floor(h/65536),M=h-x*65536,h=K+x+65535,x=Math.floor(h/65536),K=h-x*65536,h=W+x+65535,x=Math.floor(h/65536),W=h-x*65536,h=F+x+65535,x=Math.floor(h/65536),F=h-x*65536,h=G+x+65535,x=Math.floor(h/65536),G=h-x*65536,S+=x-1+37*(x-1),w[0]=S,w[1]=P,w[2]=D,w[3]=B,w[4]=L,w[5]=U,w[6]=C,w[7]=E,w[8]=R,w[9]=k,w[10]=H,w[11]=M,w[12]=K,w[13]=W,w[14]=F,w[15]=G}function p(w,y){d(w,y,y)}function m(w,y){const g=n();for(let h=0;h<16;h++)g[h]=y[h];for(let h=253;h>=0;h--)p(g,g),h!==2&&h!==4&&d(g,g,y);for(let h=0;h<16;h++)w[h]=g[h]}function b(w,y){const g=new Uint8Array(32),h=new Float64Array(80),x=n(),S=n(),P=n(),D=n(),B=n(),L=n();for(let R=0;R<31;R++)g[R]=w[R];g[31]=w[31]&127|64,g[0]&=248,l(h,y);for(let R=0;R<16;R++)S[R]=h[R];x[0]=D[0]=1;for(let R=254;R>=0;--R){const k=g[R>>>3]>>>(R&7)&1;a(x,S,k),a(P,D,k),u(B,x,P),f(x,x,P),u(P,S,D),f(S,S,D),p(D,B),p(L,x),d(x,P,x),d(P,S,B),u(B,x,P),f(x,x,P),p(S,x),f(P,D,L),d(x,P,i),u(x,x,D),d(P,P,x),d(x,D,L),d(D,S,h),p(S,B),a(x,S,k),a(P,D,k)}for(let R=0;R<16;R++)h[R+16]=x[R],h[R+32]=P[R],h[R+48]=S[R],h[R+64]=D[R];const U=h.subarray(32),C=h.subarray(16);m(U,U),d(C,C,U);const E=new Uint8Array(32);return c(E,C),E}r.scalarMult=b;function I(w){return b(w,s)}r.scalarMultBase=I;function _(w){if(w.length!==r.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`);const y=new Uint8Array(w);return{publicKey:I(y),secretKey:y}}r.generateKeyPairFromSeed=_;function A(w){const y=(0,e.randomBytes)(32,w),g=_(y);return(0,t.wipe)(y),g}r.generateKeyPair=A;function v(w,y,g=!1){if(w.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(y.length!==r.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const h=b(w,y);if(g){let x=0;for(let S=0;S<h.length;S++)x|=h[S];if(x===0)throw new Error("X25519: invalid shared key")}return h}r.sharedKey=v})(ph)),ph}var kw=EC();function gh(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Lw(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?gh(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function $w(r,e){e||(e=r.reduce((s,i)=>s+i.length,0));const t=Lw(e);let n=0;for(const s of r)t.set(s,n),n+=s.length;return gh(t)}function AC(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var s=0;s<r.length;s++){var i=r.charAt(s),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=s}var a=r.length,c=r.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var b=0,I=0,_=0,A=m.length;_!==A&&m[_]===0;)_++,b++;for(var v=(A-_)*u+1>>>0,w=new Uint8Array(v);_!==A;){for(var y=m[_],g=0,h=v-1;(y!==0||g<I)&&h!==-1;h--,g++)y+=256*w[h]>>>0,w[h]=y%a>>>0,y=y/a>>>0;if(y!==0)throw new Error("Non-zero carry");I=g,_++}for(var x=v-I;x!==v&&w[x]===0;)x++;for(var S=c.repeat(b);x<v;++x)S+=r.charAt(w[x]);return S}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var b=0;if(m[b]!==" "){for(var I=0,_=0;m[b]===c;)I++,b++;for(var A=(m.length-b)*l+1>>>0,v=new Uint8Array(A);m[b];){var w=t[m.charCodeAt(b)];if(w===255)return;for(var y=0,g=A-1;(w!==0||y<_)&&g!==-1;g--,y++)w+=a*v[g]>>>0,v[g]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");_=y,b++}if(m[b]!==" "){for(var h=A-_;h!==A&&v[h]===0;)h++;for(var x=new Uint8Array(I+(A-h)),S=I;h!==A;)x[S++]=v[h++];return x}}}function p(m){var b=d(m);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var _C=AC,IC=_C;const CC=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},SC=r=>new TextEncoder().encode(r),OC=r=>new TextDecoder().decode(r);class PC{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class NC{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Mw(this,e)}}class RC{constructor(e){this.decoders=e}or(e){return Mw(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Mw=(r,e)=>new RC({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class DC{constructor(e,t,n,s){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=s,this.encoder=new PC(e,t,n),this.decoder=new NC(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Nl=({name:r,prefix:e,encode:t,decode:n})=>new DC(r,e,t,n),Aa=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:s}=IC(t,e);return Nl({prefix:r,name:e,encode:n,decode:i=>CC(s(i))})},TC=(r,e,t,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=r.length;for(;r[i-1]==="=";)--i;const o=new Uint8Array(i*t/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[r[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<t|f,a+=t,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},BC=(r,e,t)=>{const n=e[e.length-1]==="=",s=(1<<t)-1;let i="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,i+=e[s&a>>o];if(o&&(i+=e[s&a<<t-o]),n)for(;i.length*t&7;)i+="=";return i},Lt=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Nl({prefix:e,name:r,encode(s){return BC(s,n,t)},decode(s){return TC(s,n,t,r)}}),UC=Nl({prefix:"\0",name:"identity",encode:r=>OC(r),decode:r=>SC(r)}),kC=Object.freeze(Object.defineProperty({__proto__:null,identity:UC},Symbol.toStringTag,{value:"Module"})),LC=Lt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),$C=Object.freeze(Object.defineProperty({__proto__:null,base2:LC},Symbol.toStringTag,{value:"Module"})),MC=Lt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),FC=Object.freeze(Object.defineProperty({__proto__:null,base8:MC},Symbol.toStringTag,{value:"Module"})),HC=Aa({prefix:"9",name:"base10",alphabet:"0123456789"}),jC=Object.freeze(Object.defineProperty({__proto__:null,base10:HC},Symbol.toStringTag,{value:"Module"})),zC=Lt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),VC=Lt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),GC=Object.freeze(Object.defineProperty({__proto__:null,base16:zC,base16upper:VC},Symbol.toStringTag,{value:"Module"})),KC=Lt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),WC=Lt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),qC=Lt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),QC=Lt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),JC=Lt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ZC=Lt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),YC=Lt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),XC=Lt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),eS=Lt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),tS=Object.freeze(Object.defineProperty({__proto__:null,base32:KC,base32hex:JC,base32hexpad:YC,base32hexpadupper:XC,base32hexupper:ZC,base32pad:qC,base32padupper:QC,base32upper:WC,base32z:eS},Symbol.toStringTag,{value:"Module"})),rS=Aa({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),nS=Aa({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),sS=Object.freeze(Object.defineProperty({__proto__:null,base36:rS,base36upper:nS},Symbol.toStringTag,{value:"Module"})),iS=Aa({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),oS=Aa({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),aS=Object.freeze(Object.defineProperty({__proto__:null,base58btc:iS,base58flickr:oS},Symbol.toStringTag,{value:"Module"})),cS=Lt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),lS=Lt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),uS=Lt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),fS=Lt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),hS=Object.freeze(Object.defineProperty({__proto__:null,base64:cS,base64pad:lS,base64url:uS,base64urlpad:fS},Symbol.toStringTag,{value:"Module"})),Fw=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),dS=Fw.reduce((r,e,t)=>(r[t]=e,r),[]),pS=Fw.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function gS(r){return r.reduce((e,t)=>(e+=dS[t],e),"")}function mS(r){const e=[];for(const t of r){const n=pS[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const bS=Nl({prefix:"🚀",name:"base256emoji",encode:gS,decode:mS}),xS=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:bS},Symbol.toStringTag,{value:"Module"}));new TextEncoder,new TextDecoder;const Hw={...kC,...$C,...FC,...jC,...GC,...tS,...sS,...aS,...hS,...xS};function jw(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const zw=jw("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),mh=jw("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Lw(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Vw={utf8:zw,"utf-8":zw,hex:Hw.base16,latin1:mh,ascii:mh,binary:mh,...Hw};function jr(r,e="utf8"){const t=Vw[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?gh(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function Pr(r,e="utf8"){const t=Vw[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var Gw=function(r,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return r.concat(i||Array.prototype.slice.call(e))},wS=(function(){function r(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"}return r})(),yS=(function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r})(),vS=(function(){function r(e,t,n,s){this.name=e,this.version=t,this.os=n,this.bot=s,this.type="bot-device"}return r})(),ES=(function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r})(),AS=(function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r})(),_S=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,IS=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Kw=3,CS=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",_S]],Ww=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function SS(r){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new AS:typeof navigator<"u"?PS(navigator.userAgent):RS()}function OS(r){return r!==""&&CS.reduce(function(e,t){var n=t[0],s=t[1];if(e)return e;var i=s.exec(r);return!!i&&[n,i]},!1)}function PS(r){var e=OS(r);if(!e)return null;var t=e[0],n=e[1];if(t==="searchbot")return new ES;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<Kw&&(s=Gw(Gw([],s,!0),DS(Kw-s.length),!0)):s=[];var i=s.join("."),o=NS(r),a=IS.exec(r);return a&&a[1]?new vS(t,i,o,a[1]):new wS(t,i,o)}function NS(r){for(var e=0,t=Ww.length;e<t;e++){var n=Ww[e],s=n[0],i=n[1],o=i.exec(r);if(o)return s}return null}function RS(){var r=typeof process<"u"&&process.version;return r?new yS(process.version.slice(1)):null}function DS(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var ke={},qw;function Qw(){if(qw)return ke;qw=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.getLocalStorage=ke.getLocalStorageOrThrow=ke.getCrypto=ke.getCryptoOrThrow=ke.getLocation=ke.getLocationOrThrow=ke.getNavigator=ke.getNavigatorOrThrow=ke.getDocument=ke.getDocumentOrThrow=ke.getFromWindowOrThrow=ke.getFromWindow=void 0;function r(d){let p;return typeof window<"u"&&typeof window[d]<"u"&&(p=window[d]),p}ke.getFromWindow=r;function e(d){const p=r(d);if(!p)throw new Error(`${d} is not defined in Window`);return p}ke.getFromWindowOrThrow=e;function t(){return e("document")}ke.getDocumentOrThrow=t;function n(){return r("document")}ke.getDocument=n;function s(){return e("navigator")}ke.getNavigatorOrThrow=s;function i(){return r("navigator")}ke.getNavigator=i;function o(){return e("location")}ke.getLocationOrThrow=o;function a(){return r("location")}ke.getLocation=a;function c(){return e("crypto")}ke.getCryptoOrThrow=c;function l(){return r("crypto")}ke.getCrypto=l;function u(){return e("localStorage")}ke.getLocalStorageOrThrow=u;function f(){return r("localStorage")}return ke.getLocalStorage=f,ke}var Rl=Qw(),_a={},Jw;function TS(){if(Jw)return _a;Jw=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.getWindowMetadata=void 0;const r=Qw();function e(){let t,n;try{t=r.getDocumentOrThrow(),n=r.getLocationOrThrow()}catch{return null}function s(){const p=t.getElementsByTagName("link"),m=[];for(let b=0;b<p.length;b++){const I=p[b],_=I.getAttribute("rel");if(_&&_.toLowerCase().indexOf("icon")>-1){const A=I.getAttribute("href");if(A)if(A.toLowerCase().indexOf("https:")===-1&&A.toLowerCase().indexOf("http:")===-1&&A.indexOf("//")!==0){let v=n.protocol+"//"+n.host;if(A.indexOf("/")===0)v+=A;else{const w=n.pathname.split("/");w.pop();const y=w.join("/");v+=y+"/"+A}m.push(v)}else if(A.indexOf("//")===0){const v=n.protocol+A;m.push(v)}else m.push(A)}}return m}function i(...p){const m=t.getElementsByTagName("meta");for(let b=0;b<m.length;b++){const I=m[b],_=["itemprop","property","name"].map(A=>I.getAttribute(A)).filter(A=>A?p.includes(A):!1);if(_.length&&_){const A=I.getAttribute("content");if(A)return A}}return""}function o(){let p=i("name","og:site_name","og:title","twitter:title");return p||(p=t.title),p}function a(){return i("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=n.origin,f=s();return{description:l,url:u,icons:f,name:c}}return _a.getWindowMetadata=e,_a}var BS=TS(),bh={},xh,Zw;function US(){return Zw||(Zw=1,xh=r=>encodeURIComponent(r).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),xh}var wh,Yw;function kS(){if(Yw)return wh;Yw=1;var r="%[a-f0-9]{2}",e=new RegExp("("+r+")|([^%]+?)","gi"),t=new RegExp("("+r+")+","gi");function n(o,a){try{return[decodeURIComponent(o.join(""))]}catch{}if(o.length===1)return o;a=a||1;var c=o.slice(0,a),l=o.slice(a);return Array.prototype.concat.call([],n(c),n(l))}function s(o){try{return decodeURIComponent(o)}catch{for(var a=o.match(e)||[],c=1;c<a.length;c++)o=n(a,c).join(""),a=o.match(e)||[];return o}}function i(o){for(var a={"%FE%FF":"��","%FF%FE":"��"},c=t.exec(o);c;){try{a[c[0]]=decodeURIComponent(c[0])}catch{var l=s(c[0]);l!==c[0]&&(a[c[0]]=l)}c=t.exec(o)}a["%C2"]="�";for(var u=Object.keys(a),f=0;f<u.length;f++){var d=u[f];o=o.replace(new RegExp(d,"g"),a[d])}return o}return wh=function(o){if(typeof o!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof o+"`");try{return o=o.replace(/\+/g," "),decodeURIComponent(o)}catch{return i(o)}},wh}var yh,Xw;function LS(){return Xw||(Xw=1,yh=(r,e)=>{if(!(typeof r=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[r];const t=r.indexOf(e);return t===-1?[r]:[r.slice(0,t),r.slice(t+e.length)]}),yh}var vh,ey;function $S(){return ey||(ey=1,vh=function(r,e){for(var t={},n=Object.keys(r),s=Array.isArray(e),i=0;i<n.length;i++){var o=n[i],a=r[o];(s?e.indexOf(o)!==-1:e(o,a,r))&&(t[o]=a)}return t}),vh}var ty;function MS(){return ty||(ty=1,(function(r){const e=US(),t=kS(),n=LS(),s=$S(),i=A=>A==null,o=Symbol("encodeFragmentIdentifier");function a(A){switch(A.arrayFormat){case"index":return v=>(w,y)=>{const g=w.length;return y===void 0||A.skipNull&&y===null||A.skipEmptyString&&y===""?w:y===null?[...w,[u(v,A),"[",g,"]"].join("")]:[...w,[u(v,A),"[",u(g,A),"]=",u(y,A)].join("")]};case"bracket":return v=>(w,y)=>y===void 0||A.skipNull&&y===null||A.skipEmptyString&&y===""?w:y===null?[...w,[u(v,A),"[]"].join("")]:[...w,[u(v,A),"[]=",u(y,A)].join("")];case"colon-list-separator":return v=>(w,y)=>y===void 0||A.skipNull&&y===null||A.skipEmptyString&&y===""?w:y===null?[...w,[u(v,A),":list="].join("")]:[...w,[u(v,A),":list=",u(y,A)].join("")];case"comma":case"separator":case"bracket-separator":{const v=A.arrayFormat==="bracket-separator"?"[]=":"=";return w=>(y,g)=>g===void 0||A.skipNull&&g===null||A.skipEmptyString&&g===""?y:(g=g===null?"":g,y.length===0?[[u(w,A),v,u(g,A)].join("")]:[[y,u(g,A)].join(A.arrayFormatSeparator)])}default:return v=>(w,y)=>y===void 0||A.skipNull&&y===null||A.skipEmptyString&&y===""?w:y===null?[...w,u(v,A)]:[...w,[u(v,A),"=",u(y,A)].join("")]}}function c(A){let v;switch(A.arrayFormat){case"index":return(w,y,g)=>{if(v=/\[(\d*)\]$/.exec(w),w=w.replace(/\[\d*\]$/,""),!v){g[w]=y;return}g[w]===void 0&&(g[w]={}),g[w][v[1]]=y};case"bracket":return(w,y,g)=>{if(v=/(\[\])$/.exec(w),w=w.replace(/\[\]$/,""),!v){g[w]=y;return}if(g[w]===void 0){g[w]=[y];return}g[w]=[].concat(g[w],y)};case"colon-list-separator":return(w,y,g)=>{if(v=/(:list)$/.exec(w),w=w.replace(/:list$/,""),!v){g[w]=y;return}if(g[w]===void 0){g[w]=[y];return}g[w]=[].concat(g[w],y)};case"comma":case"separator":return(w,y,g)=>{const h=typeof y=="string"&&y.includes(A.arrayFormatSeparator),x=typeof y=="string"&&!h&&f(y,A).includes(A.arrayFormatSeparator);y=x?f(y,A):y;const S=h||x?y.split(A.arrayFormatSeparator).map(P=>f(P,A)):y===null?y:f(y,A);g[w]=S};case"bracket-separator":return(w,y,g)=>{const h=/(\[\])$/.test(w);if(w=w.replace(/\[\]$/,""),!h){g[w]=y&&f(y,A);return}const x=y===null?[]:y.split(A.arrayFormatSeparator).map(S=>f(S,A));if(g[w]===void 0){g[w]=x;return}g[w]=[].concat(g[w],x)};default:return(w,y,g)=>{if(g[w]===void 0){g[w]=y;return}g[w]=[].concat(g[w],y)}}}function l(A){if(typeof A!="string"||A.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function u(A,v){return v.encode?v.strict?e(A):encodeURIComponent(A):A}function f(A,v){return v.decode?t(A):A}function d(A){return Array.isArray(A)?A.sort():typeof A=="object"?d(Object.keys(A)).sort((v,w)=>Number(v)-Number(w)).map(v=>A[v]):A}function p(A){const v=A.indexOf("#");return v!==-1&&(A=A.slice(0,v)),A}function m(A){let v="";const w=A.indexOf("#");return w!==-1&&(v=A.slice(w)),v}function b(A){A=p(A);const v=A.indexOf("?");return v===-1?"":A.slice(v+1)}function I(A,v){return v.parseNumbers&&!Number.isNaN(Number(A))&&typeof A=="string"&&A.trim()!==""?A=Number(A):v.parseBooleans&&A!==null&&(A.toLowerCase()==="true"||A.toLowerCase()==="false")&&(A=A.toLowerCase()==="true"),A}function _(A,v){v=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},v),l(v.arrayFormatSeparator);const w=c(v),y=Object.create(null);if(typeof A!="string"||(A=A.trim().replace(/^[?#&]/,""),!A))return y;for(const g of A.split("&")){if(g==="")continue;let[h,x]=n(v.decode?g.replace(/\+/g," "):g,"=");x=x===void 0?null:["comma","separator","bracket-separator"].includes(v.arrayFormat)?x:f(x,v),w(f(h,v),x,y)}for(const g of Object.keys(y)){const h=y[g];if(typeof h=="object"&&h!==null)for(const x of Object.keys(h))h[x]=I(h[x],v);else y[g]=I(h,v)}return v.sort===!1?y:(v.sort===!0?Object.keys(y).sort():Object.keys(y).sort(v.sort)).reduce((g,h)=>{const x=y[h];return x&&typeof x=="object"&&!Array.isArray(x)?g[h]=d(x):g[h]=x,g},Object.create(null))}r.extract=b,r.parse=_,r.stringify=(A,v)=>{if(!A)return"";v=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},v),l(v.arrayFormatSeparator);const w=x=>v.skipNull&&i(A[x])||v.skipEmptyString&&A[x]==="",y=a(v),g={};for(const x of Object.keys(A))w(x)||(g[x]=A[x]);const h=Object.keys(g);return v.sort!==!1&&h.sort(v.sort),h.map(x=>{const S=A[x];return S===void 0?"":S===null?u(x,v):Array.isArray(S)?S.length===0&&v.arrayFormat==="bracket-separator"?u(x,v)+"[]":S.reduce(y(x),[]).join("&"):u(x,v)+"="+u(S,v)}).filter(x=>x.length>0).join("&")},r.parseUrl=(A,v)=>{v=Object.assign({decode:!0},v);const[w,y]=n(A,"#");return Object.assign({url:w.split("?")[0]||"",query:_(b(A),v)},v&&v.parseFragmentIdentifier&&y?{fragmentIdentifier:f(y,v)}:{})},r.stringifyUrl=(A,v)=>{v=Object.assign({encode:!0,strict:!0,[o]:!0},v);const w=p(A.url).split("?")[0]||"",y=r.extract(A.url),g=r.parse(y,{sort:!1}),h=Object.assign(g,A.query);let x=r.stringify(h,v);x&&(x=`?${x}`);let S=m(A.url);return A.fragmentIdentifier&&(S=`#${v[o]?u(A.fragmentIdentifier,v):A.fragmentIdentifier}`),`${w}${x}${S}`},r.pick=(A,v,w)=>{w=Object.assign({parseFragmentIdentifier:!0,[o]:!1},w);const{url:y,query:g,fragmentIdentifier:h}=r.parseUrl(A,w);return r.stringifyUrl({url:y,query:s(g,v),fragmentIdentifier:h},w)},r.exclude=(A,v,w)=>{const y=Array.isArray(v)?g=>!v.includes(g):(g,h)=>!v(g,h);return r.pick(A,y,w)}})(bh)),bh}var Dl=MS();const FS={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};function ry(r,e){return r.includes(":")?[r]:e.chains||[]}const ny="base10",Jt="base16",Eh="base64pad",Ah="utf8",sy=0,ei=1,HS=0,iy=1,_h=12,Ih=32;function jS(){const r=kw.generateKeyPair();return{privateKey:Pr(r.secretKey,Jt),publicKey:Pr(r.publicKey,Jt)}}function Ch(){const r=Tw.randomBytes(Ih);return Pr(r,Jt)}function zS(r,e){const t=kw.sharedKey(jr(r,Jt),jr(e,Jt)),n=new gC.HKDF(dh.SHA256,t).expand(Ih);return Pr(n,Jt)}function VS(r){const e=dh.hash(jr(r,Jt));return Pr(e,Jt)}function io(r){const e=dh.hash(jr(r,Ah));return Pr(e,Jt)}function GS(r){return jr(`${r}`,ny)}function Ia(r){return Number(Pr(r,ny))}function KS(r){const e=GS(typeof r.type<"u"?r.type:sy);if(Ia(e)===ei&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?jr(r.senderPublicKey,Jt):void 0,n=typeof r.iv<"u"?jr(r.iv,Jt):Tw.randomBytes(_h),s=new _w.ChaCha20Poly1305(jr(r.symKey,Jt)).seal(n,jr(r.message,Ah));return qS({type:e,sealed:s,iv:n,senderPublicKey:t})}function WS(r){const e=new _w.ChaCha20Poly1305(jr(r.symKey,Jt)),{sealed:t,iv:n}=Tl(r.encoded),s=e.open(n,t);if(s===null)throw new Error("Failed to decrypt");return Pr(s,Ah)}function qS(r){if(Ia(r.type)===ei){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Pr($w([r.type,r.senderPublicKey,r.iv,r.sealed]),Eh)}return Pr($w([r.type,r.iv,r.sealed]),Eh)}function Tl(r){const e=jr(r,Eh),t=e.slice(HS,iy),n=iy;if(Ia(t)===ei){const a=n+Ih,c=a+_h,l=e.slice(n,a),u=e.slice(a,c),f=e.slice(c);return{type:t,sealed:f,iv:u,senderPublicKey:l}}const s=n+_h,i=e.slice(n,s),o=e.slice(s);return{type:t,sealed:o,iv:i}}function QS(r,e){const t=Tl(r);return oy({type:Ia(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?Pr(t.senderPublicKey,Jt):void 0,receiverPublicKey:e?.receiverPublicKey})}function oy(r){const e=r?.type||sy;if(e===ei){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function ay(r){return r.type===ei&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}var JS=Object.defineProperty,cy=Object.getOwnPropertySymbols,ZS=Object.prototype.hasOwnProperty,YS=Object.prototype.propertyIsEnumerable,ly=(r,e,t)=>e in r?JS(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,uy=(r,e)=>{for(var t in e||(e={}))ZS.call(e,t)&&ly(r,t,e[t]);if(cy)for(var t of cy(e))YS.call(e,t)&&ly(r,t,e[t]);return r};const XS="ReactNative",br={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},eO="js";function Sh(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Bl(){return!Rl.getDocument()&&!!Rl.getNavigator()&&navigator.product===XS}function Ca(){return!Sh()&&!!Rl.getNavigator()}function Sa(){return Bl()?br.reactNative:Sh()?br.node:Ca()?br.browser:br.unknown}function tO(r,e){let t=Dl.parse(r);return t=uy(uy({},t),e),r=Dl.stringify(t),r}function rO(){return BS.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function nO(){if(Sa()===br.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:n}=global.Platform;return[t,n].join("-")}const r=SS();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function sO(){var r;const e=Sa();return e===br.browser?[e,((r=Rl.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function iO(r,e,t){const n=nO(),s=sO();return[[r,e].join("-"),[eO,t].join("-"),n,s].join("/")}function oO({protocol:r,version:e,relayUrl:t,sdkVersion:n,auth:s,projectId:i,useOnCloseEvent:o}){const a=t.split("?"),c=iO(r,e,n),l={auth:s,ua:c,projectId:i,useOnCloseEvent:o},u=tO(a[1]||"",l);return a[0]+"?"+u}function ti(r,e){return r.filter(t=>e.includes(t)).length===r.length}function fy(r){return Object.fromEntries(r.entries())}function hy(r){return new Map(Object.entries(r))}function oo(r=oe.FIVE_MINUTES,e){const t=oe.toMiliseconds(r||oe.FIVE_MINUTES);let n,s,i;return{resolve:o=>{i&&n&&(clearTimeout(i),n(o))},reject:o=>{i&&s&&(clearTimeout(i),s(o))},done:()=>new Promise((o,a)=>{i=setTimeout(()=>{a(new Error(e))},t),n=o,s=a})}}function Oa(r,e,t){return new Promise(async(n,s)=>{const i=setTimeout(()=>s(new Error(t)),e);try{const o=await r;n(o)}catch(o){s(o)}clearTimeout(i)})}function dy(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function aO(r){return dy("topic",r)}function cO(r){return dy("id",r)}function py(r){const[e,t]=r.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")n.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))n.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return n}function zr(r,e){return oe.fromMiliseconds(Date.now()+oe.toMiliseconds(r))}function ds(r){return Date.now()>=oe.toMiliseconds(r)}function ft(r,e){return`${r}${e?`:${e}`:""}`}async function lO({id:r,topic:e,wcDeepLink:t}){try{if(!t)return;let s=(typeof t=="string"?JSON.parse(t):t)?.href;if(typeof s!="string")return;s.endsWith("/")&&(s=s.slice(0,-1));const i=`${s}/wc?requestId=${r}&sessionTopic=${e}`,o=Sa();o===br.browser?i.startsWith("https://")?window.open(i,"_blank","noreferrer noopener"):window.open(i,"_self","noreferrer noopener"):o===br.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(i)}catch(n){console.error(n)}}const uO="irn";function Oh(r){return r?.relay||{protocol:uO}}function Ul(r){const e=FS[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}var fO=Object.defineProperty,gy=Object.getOwnPropertySymbols,hO=Object.prototype.hasOwnProperty,dO=Object.prototype.propertyIsEnumerable,my=(r,e,t)=>e in r?fO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,pO=(r,e)=>{for(var t in e||(e={}))hO.call(e,t)&&my(r,t,e[t]);if(gy)for(var t of gy(e))dO.call(e,t)&&my(r,t,e[t]);return r};function gO(r,e="-"){const t={},n="relay"+e;return Object.keys(r).forEach(s=>{if(s.startsWith(n)){const i=s.replace(n,""),o=r[s];t[i]=o}}),t}function mO(r){const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,n=r.substring(0,e),s=r.substring(e+1,t).split("@"),i=typeof t<"u"?r.substring(t):"",o=Dl.parse(i);return{protocol:n,topic:bO(s[0]),version:parseInt(s[1],10),symKey:o.symKey,relay:gO(o)}}function bO(r){return r.startsWith("//")?r.substring(2):r}function xO(r,e="-"){const t="relay",n={};return Object.keys(r).forEach(s=>{const i=t+e+s;r[s]&&(n[i]=r[s])}),n}function wO(r){return`${r.protocol}:${r.topic}@${r.version}?`+Dl.stringify(pO({symKey:r.symKey},xO(r.relay)))}function ao(r){const e=[];return r.forEach(t=>{const[n,s]=t.split(":");e.push(`${n}:${s}`)}),e}function yO(r){const e=[];return Object.values(r).forEach(t=>{e.push(...ao(t.accounts))}),e}function vO(r,e){const t=[];return Object.values(r).forEach(n=>{ao(n.accounts).includes(e)&&t.push(...n.methods)}),t}function EO(r,e){const t=[];return Object.values(r).forEach(n=>{ao(n.accounts).includes(e)&&t.push(...n.events)}),t}function AO(r,e){const t=Ll(r,e);if(t)throw new Error(t.message);const n={};for(const[s,i]of Object.entries(r))n[s]={methods:i.methods,events:i.events,chains:i.accounts.map(o=>`${o.split(":")[0]}:${o.split(":")[1]}`)};return n}const _O={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},IO={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function J(r,e){const{message:t,code:n}=IO[r];return{message:e?`${t} ${e}`:t,code:n}}function St(r,e){const{message:t,code:n}=_O[r];return{message:e?`${t} ${e}`:t,code:n}}function Pa(r,e){return!!Array.isArray(r)}function Na(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function Zt(r){return typeof r>"u"}function Ot(r,e){return e&&Zt(r)?!0:typeof r=="string"&&!!r.trim().length}function Ph(r,e){return e&&Zt(r)?!0:typeof r=="number"&&!isNaN(r)}function CO(r,e){const{requiredNamespaces:t}=e,n=Object.keys(r.namespaces),s=Object.keys(t);let i=!0;return ti(s,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=r.namespaces[o],u=ao(a),f=t[o];(!ti(ry(o,f),u)||!ti(f.methods,c)||!ti(f.events,l))&&(i=!1)}),i):!1}function kl(r){return Ot(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function SO(r){if(Ot(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&kl(t)}}return!1}function OO(r){if(Ot(r,!1))try{return typeof new URL(r)<"u"}catch{return!1}return!1}function PO(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function NO(r){return r?.topic}function RO(r,e){let t=null;return Ot(r?.publicKey,!1)||(t=J("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function by(r){let e=!0;return Pa(r)?r.length&&(e=r.every(t=>Ot(t,!1))):e=!1,e}function DO(r,e,t){let n=null;return Pa(e)&&e.length?e.forEach(s=>{n||kl(s)||(n=St("UNSUPPORTED_CHAINS",`${t}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):kl(r)||(n=St("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function TO(r,e,t){let n=null;return Object.entries(r).forEach(([s,i])=>{if(n)return;const o=DO(s,ry(s,i),`${e} ${t}`);o&&(n=o)}),n}function BO(r,e){let t=null;return Pa(r)?r.forEach(n=>{t||SO(n)||(t=St("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):t=St("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function UO(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;const s=BO(n?.accounts,`${e} namespace`);s&&(t=s)}),t}function kO(r,e){let t=null;return by(r?.methods)?by(r?.events)||(t=St("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=St("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function xy(r,e){let t=null;return Object.values(r).forEach(n=>{if(t)return;const s=kO(n,`${e}, namespace`);s&&(t=s)}),t}function LO(r,e,t){let n=null;if(r&&Na(r)){const s=xy(r,e);s&&(n=s);const i=TO(r,e,t);i&&(n=i)}else n=J("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return n}function Ll(r,e){let t=null;if(r&&Na(r)){const n=xy(r,e);n&&(t=n);const s=UO(r,e);s&&(t=s)}else t=J("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function wy(r){return Ot(r.protocol,!0)}function $O(r,e){let t=!1;return r?r&&Pa(r)&&r.length&&r.forEach(n=>{t=wy(n)}):t=!0,t}function MO(r){return typeof r=="number"}function ar(r){return typeof r<"u"&&typeof r!==null}function FO(r){return!(!r||typeof r!="object"||!r.code||!Ph(r.code,!1)||!r.message||!Ot(r.message,!1))}function HO(r){return!(Zt(r)||!Ot(r.method,!1))}function jO(r){return!(Zt(r)||Zt(r.result)&&Zt(r.error)||!Ph(r.id,!1)||!Ot(r.jsonrpc,!1))}function zO(r){return!(Zt(r)||!Ot(r.name,!1))}function yy(r,e){return!(!kl(e)||!yO(r).includes(e))}function VO(r,e,t){return Ot(t,!1)?vO(r,e).includes(t):!1}function GO(r,e,t){return Ot(t,!1)?EO(r,e).includes(t):!1}function vy(r,e,t){let n=null;const s=KO(r),i=WO(e),o=Object.keys(s),a=Object.keys(i),c=Ey(Object.keys(r)),l=Ey(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=J("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),ti(o,a)||(n=J("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const d=ao(e[f].accounts);d.includes(f)||(n=J("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${d.toString()}`))}),o.forEach(f=>{n||(ti(s[f].methods,i[f].methods)?ti(s[f].events,i[f].events)||(n=J("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${f}`)):n=J("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function KO(r){const e={};return Object.keys(r).forEach(t=>{var n;t.includes(":")?e[t]=r[t]:(n=r[t].chains)==null||n.forEach(s=>{e[s]={methods:r[t].methods,events:r[t].events}})}),e}function Ey(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function WO(r){const e={};return Object.keys(r).forEach(t=>{t.includes(":")?e[t]=r[t]:ao(r[t].accounts)?.forEach(s=>{e[s]={accounts:r[t].accounts.filter(i=>i.includes(`${s}:`)),methods:r[t].methods,events:r[t].events}})}),e}function qO(r,e){return Ph(r,!1)&&r<=e.max&&r>=e.min}function Ay(){const r=Sa();return new Promise(e=>{switch(r){case br.browser:e(QO());break;case br.reactNative:e(JO());break;case br.node:e(ZO());break;default:e(!0)}})}function QO(){return Ca()&&navigator?.onLine}async function JO(){return Bl()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function ZO(){return!0}function YO(r){switch(Sa()){case br.browser:XO(r);break;case br.reactNative:eP(r);break}}function XO(r){Ca()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function eP(r){Bl()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>r(e?.isConnected))}const Nh={};let $l=class{static get(e){return Nh[e]}static set(e,t){Nh[e]=t}static delete(e){delete Nh[e]}};const tP="PARSE_ERROR",rP="INVALID_REQUEST",nP="METHOD_NOT_FOUND",sP="INVALID_PARAMS",_y="INTERNAL_ERROR",Rh="SERVER_ERROR",iP=[-32700,-32600,-32601,-32602,-32603],Ra={[tP]:{code:-32700,message:"Parse error"},[rP]:{code:-32600,message:"Invalid Request"},[nP]:{code:-32601,message:"Method not found"},[sP]:{code:-32602,message:"Invalid params"},[_y]:{code:-32603,message:"Internal error"},[Rh]:{code:-32e3,message:"Server error"}},Iy=Rh;function oP(r){return iP.includes(r)}function Cy(r){return Object.keys(Ra).includes(r)?Ra[r]:Ra[Iy]}function aP(r){const e=Object.values(Ra).find(t=>t.code===r);return e||Ra[Iy]}function cP(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var Dh={},Nn={},Sy;function lP(){if(Sy)return Nn;Sy=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.isBrowserCryptoAvailable=Nn.getSubtleCrypto=Nn.getBrowerCrypto=void 0;function r(){return cn?.crypto||cn?.msCrypto||{}}Nn.getBrowerCrypto=r;function e(){const n=r();return n.subtle||n.webkitSubtle}Nn.getSubtleCrypto=e;function t(){return!!r()&&!!e()}return Nn.isBrowserCryptoAvailable=t,Nn}var Rn={},Oy;function uP(){if(Oy)return Rn;Oy=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.isBrowser=Rn.isNode=Rn.isReactNative=void 0;function r(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Rn.isReactNative=r;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Rn.isNode=e;function t(){return!r()&&!e()}return Rn.isBrowser=t,Rn}var Py;function fP(){return Py||(Py=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=Cn;e.__exportStar(lP(),r),e.__exportStar(uP(),r)})(Dh)),Dh}var hP=fP();function Th(r=3){const e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function Ny(r=6){return BigInt(Th(r))}function Da(r,e,t){return{id:t||Th(),jsonrpc:"2.0",method:r,params:e}}function Bh(r,e){return{id:r,jsonrpc:"2.0",result:e}}function Uh(r,e,t){return{id:r,jsonrpc:"2.0",error:dP(e)}}function dP(r,e){return typeof r>"u"?Cy(_y):(typeof r=="string"&&(r=Object.assign(Object.assign({},Cy(Rh)),{message:r})),oP(r.code)&&(r=aP(r.code)),r)}let pP=class{},gP=class extends pP{constructor(){super()}},mP=class extends gP{constructor(e){super()}};const bP="^wss?:";function xP(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function wP(r,e){const t=xP(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function Ry(r){return wP(r,bP)}function yP(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function Dy(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function kh(r){return Dy(r)&&"method"in r}function Ml(r){return Dy(r)&&(Dn(r)||Vr(r))}function Dn(r){return"result"in r}function Vr(r){return"error"in r}class vP extends mP{constructor(e){super(e),this.events=new ln.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(Da(e.method,e.params||[],e.id||Ny().toString()),t)}async requestStrict(e,t){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(i){s(i)}this.events.on(`${e.id}`,i=>{Vr(i)?s(i.error):n(i.result)});try{await this.connection.send(e,t)}catch(i){s(i)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Ml(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const EP=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),AP=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)};function _P(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return AP(r)}catch{return r}}function IP(r){return typeof r=="string"?r:EP(r)||""}const CP=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),SP=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",Ty=r=>r.split("?")[0],By=10,OP=CP();class PP{constructor(e){if(this.url=e,this.events=new ln.EventEmitter,this.registering=!1,!Ry(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e,t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(IP(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Ry(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((n,s)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),s(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,n)=>{const s=hP.isReactNative()?void 0:{rejectUnauthorized:!yP(e)},i=new OP(e,[],s);SP()?i.onerror=o=>{const a=o;n(this.emitError(a.error))}:i.on("error",o=>{n(this.emitError(o))}),i.onopen=()=>{this.onOpen(i),t(i)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?_P(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const n=this.parseError(t),s=n.message||n.toString(),i=Uh(e,s);this.events.emit("payload",i)}parseError(e,t=this.url){return cP(e,Ty(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>By&&this.events.setMaxListeners(By)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${Ty(this.url)}`));return this.events.emit("register_error",t),t}}var Ta={exports:{}};Ta.exports;var Uy;function NP(){return Uy||(Uy=1,(function(r,e){var t=200,n="__lodash_hash_undefined__",s=1,i=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",m="[object GeneratorFunction]",b="[object Map]",I="[object Number]",_="[object Null]",A="[object Object]",v="[object Promise]",w="[object Proxy]",y="[object RegExp]",g="[object Set]",h="[object String]",x="[object Symbol]",S="[object Undefined]",P="[object WeakMap]",D="[object ArrayBuffer]",B="[object DataView]",L="[object Float32Array]",U="[object Float64Array]",C="[object Int8Array]",E="[object Int16Array]",R="[object Int32Array]",k="[object Uint8Array]",H="[object Uint8ClampedArray]",M="[object Uint16Array]",K="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,F=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,j={};j[L]=j[U]=j[C]=j[E]=j[R]=j[k]=j[H]=j[M]=j[K]=!0,j[a]=j[c]=j[D]=j[u]=j[B]=j[f]=j[d]=j[p]=j[b]=j[I]=j[A]=j[y]=j[g]=j[h]=j[P]=!1;var X=typeof cn=="object"&&cn&&cn.Object===Object&&cn,se=typeof self=="object"&&self&&self.Object===Object&&self,ne=X||se||Function("return this")(),ie=e&&!e.nodeType&&e,ce=ie&&!0&&r&&!r.nodeType&&r,me=ce&&ce.exports===ie,le=me&&X.process,we=(function(){try{return le&&le.binding&&le.binding("util")}catch{}})(),Nt=we&&we.isTypedArray;function xr(O,T){for(var z=-1,te=O==null?0:O.length,$e=0,de=[];++z<te;){var Je=O[z];T(Je,z,O)&&(de[$e++]=Je)}return de}function Dr(O,T){for(var z=-1,te=T.length,$e=O.length;++z<te;)O[$e+z]=T[z];return O}function Es(O,T){for(var z=-1,te=O==null?0:O.length;++z<te;)if(T(O[z],z,O))return!0;return!1}function pi(O,T){for(var z=-1,te=Array(O);++z<O;)te[z]=T(z);return te}function gi(O){return function(T){return O(T)}}function nt(O,T){return O.has(T)}function qe(O,T){return O?.[T]}function st(O){var T=-1,z=Array(O.size);return O.forEach(function(te,$e){z[++T]=[$e,te]}),z}function it(O,T){return function(z){return O(T(z))}}function ot(O){var T=-1,z=Array(O.size);return O.forEach(function(te){z[++T]=te}),z}var at=Array.prototype,ct=Function.prototype,Ge=Object.prototype,Qe=ne["__core-js_shared__"],lt=ct.toString,Pe=Ge.hasOwnProperty,bt=(function(){var O=/[^.]+$/.exec(Qe&&Qe.keys&&Qe.keys.IE_PROTO||"");return O?"Symbol(src)_1."+O:""})(),xt=Ge.toString,Rt=RegExp("^"+lt.call(Pe).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=me?ne.Buffer:void 0,ut=ne.Symbol,Z3=ne.Uint8Array,Y3=Ge.propertyIsEnumerable,XU=at.splice,mi=ut?ut.toStringTag:void 0,X3=Object.getOwnPropertySymbols,ek=wt?wt.isBuffer:void 0,tk=it(Object.keys,Object),cp=_o(ne,"DataView"),tc=_o(ne,"Map"),lp=_o(ne,"Promise"),up=_o(ne,"Set"),fp=_o(ne,"WeakMap"),rc=_o(Object,"create"),rk=wi(cp),nk=wi(tc),sk=wi(lp),ik=wi(up),ok=wi(fp),e5=ut?ut.prototype:void 0,hp=e5?e5.valueOf:void 0;function bi(O){var T=-1,z=O==null?0:O.length;for(this.clear();++T<z;){var te=O[T];this.set(te[0],te[1])}}function ak(){this.__data__=rc?rc(null):{},this.size=0}function ck(O){var T=this.has(O)&&delete this.__data__[O];return this.size-=T?1:0,T}function lk(O){var T=this.__data__;if(rc){var z=T[O];return z===n?void 0:z}return Pe.call(T,O)?T[O]:void 0}function uk(O){var T=this.__data__;return rc?T[O]!==void 0:Pe.call(T,O)}function fk(O,T){var z=this.__data__;return this.size+=this.has(O)?0:1,z[O]=rc&&T===void 0?n:T,this}bi.prototype.clear=ak,bi.prototype.delete=ck,bi.prototype.get=lk,bi.prototype.has=uk,bi.prototype.set=fk;function $n(O){var T=-1,z=O==null?0:O.length;for(this.clear();++T<z;){var te=O[T];this.set(te[0],te[1])}}function hk(){this.__data__=[],this.size=0}function dk(O){var T=this.__data__,z=cu(T,O);if(z<0)return!1;var te=T.length-1;return z==te?T.pop():XU.call(T,z,1),--this.size,!0}function pk(O){var T=this.__data__,z=cu(T,O);return z<0?void 0:T[z][1]}function gk(O){return cu(this.__data__,O)>-1}function mk(O,T){var z=this.__data__,te=cu(z,O);return te<0?(++this.size,z.push([O,T])):z[te][1]=T,this}$n.prototype.clear=hk,$n.prototype.delete=dk,$n.prototype.get=pk,$n.prototype.has=gk,$n.prototype.set=mk;function xi(O){var T=-1,z=O==null?0:O.length;for(this.clear();++T<z;){var te=O[T];this.set(te[0],te[1])}}function bk(){this.size=0,this.__data__={hash:new bi,map:new(tc||$n),string:new bi}}function xk(O){var T=lu(this,O).delete(O);return this.size-=T?1:0,T}function wk(O){return lu(this,O).get(O)}function yk(O){return lu(this,O).has(O)}function vk(O,T){var z=lu(this,O),te=z.size;return z.set(O,T),this.size+=z.size==te?0:1,this}xi.prototype.clear=bk,xi.prototype.delete=xk,xi.prototype.get=wk,xi.prototype.has=yk,xi.prototype.set=vk;function au(O){var T=-1,z=O==null?0:O.length;for(this.__data__=new xi;++T<z;)this.add(O[T])}function Ek(O){return this.__data__.set(O,n),this}function Ak(O){return this.__data__.has(O)}au.prototype.add=au.prototype.push=Ek,au.prototype.has=Ak;function As(O){var T=this.__data__=new $n(O);this.size=T.size}function _k(){this.__data__=new $n,this.size=0}function Ik(O){var T=this.__data__,z=T.delete(O);return this.size=T.size,z}function Ck(O){return this.__data__.get(O)}function Sk(O){return this.__data__.has(O)}function Ok(O,T){var z=this.__data__;if(z instanceof $n){var te=z.__data__;if(!tc||te.length<t-1)return te.push([O,T]),this.size=++z.size,this;z=this.__data__=new xi(te)}return z.set(O,T),this.size=z.size,this}As.prototype.clear=_k,As.prototype.delete=Ik,As.prototype.get=Ck,As.prototype.has=Sk,As.prototype.set=Ok;function Pk(O,T){var z=uu(O),te=!z&&Vk(O),$e=!z&&!te&&dp(O),de=!z&&!te&&!$e&&l5(O),Je=z||te||$e||de,Dt=Je?pi(O.length,String):[],Mt=Dt.length;for(var Ke in O)Pe.call(O,Ke)&&!(Je&&(Ke=="length"||$e&&(Ke=="offset"||Ke=="parent")||de&&(Ke=="buffer"||Ke=="byteLength"||Ke=="byteOffset")||Mk(Ke,Mt)))&&Dt.push(Ke);return Dt}function cu(O,T){for(var z=O.length;z--;)if(i5(O[z][0],T))return z;return-1}function Nk(O,T,z){var te=T(O);return uu(O)?te:Dr(te,z(O))}function nc(O){return O==null?O===void 0?S:_:mi&&mi in Object(O)?Lk(O):zk(O)}function t5(O){return sc(O)&&nc(O)==a}function r5(O,T,z,te,$e){return O===T?!0:O==null||T==null||!sc(O)&&!sc(T)?O!==O&&T!==T:Rk(O,T,z,te,r5,$e)}function Rk(O,T,z,te,$e,de){var Je=uu(O),Dt=uu(T),Mt=Je?c:_s(O),Ke=Dt?c:_s(T);Mt=Mt==a?A:Mt,Ke=Ke==a?A:Ke;var wr=Mt==A,Gr=Ke==A,Vt=Mt==Ke;if(Vt&&dp(O)){if(!dp(T))return!1;Je=!0,wr=!1}if(Vt&&!wr)return de||(de=new As),Je||l5(O)?n5(O,T,z,te,$e,de):Uk(O,T,Mt,z,te,$e,de);if(!(z&s)){var Tr=wr&&Pe.call(O,"__wrapped__"),Br=Gr&&Pe.call(T,"__wrapped__");if(Tr||Br){var Is=Tr?O.value():O,Mn=Br?T.value():T;return de||(de=new As),$e(Is,Mn,z,te,de)}}return Vt?(de||(de=new As),kk(O,T,z,te,$e,de)):!1}function Dk(O){if(!c5(O)||Hk(O))return!1;var T=o5(O)?Rt:F;return T.test(wi(O))}function Tk(O){return sc(O)&&a5(O.length)&&!!j[nc(O)]}function Bk(O){if(!jk(O))return tk(O);var T=[];for(var z in Object(O))Pe.call(O,z)&&z!="constructor"&&T.push(z);return T}function n5(O,T,z,te,$e,de){var Je=z&s,Dt=O.length,Mt=T.length;if(Dt!=Mt&&!(Je&&Mt>Dt))return!1;var Ke=de.get(O);if(Ke&&de.get(T))return Ke==T;var wr=-1,Gr=!0,Vt=z&i?new au:void 0;for(de.set(O,T),de.set(T,O);++wr<Dt;){var Tr=O[wr],Br=T[wr];if(te)var Is=Je?te(Br,Tr,wr,T,O,de):te(Tr,Br,wr,O,T,de);if(Is!==void 0){if(Is)continue;Gr=!1;break}if(Vt){if(!Es(T,function(Mn,yi){if(!nt(Vt,yi)&&(Tr===Mn||$e(Tr,Mn,z,te,de)))return Vt.push(yi)})){Gr=!1;break}}else if(!(Tr===Br||$e(Tr,Br,z,te,de))){Gr=!1;break}}return de.delete(O),de.delete(T),Gr}function Uk(O,T,z,te,$e,de,Je){switch(z){case B:if(O.byteLength!=T.byteLength||O.byteOffset!=T.byteOffset)return!1;O=O.buffer,T=T.buffer;case D:return!(O.byteLength!=T.byteLength||!de(new Z3(O),new Z3(T)));case u:case f:case I:return i5(+O,+T);case d:return O.name==T.name&&O.message==T.message;case y:case h:return O==T+"";case b:var Dt=st;case g:var Mt=te&s;if(Dt||(Dt=ot),O.size!=T.size&&!Mt)return!1;var Ke=Je.get(O);if(Ke)return Ke==T;te|=i,Je.set(O,T);var wr=n5(Dt(O),Dt(T),te,$e,de,Je);return Je.delete(O),wr;case x:if(hp)return hp.call(O)==hp.call(T)}return!1}function kk(O,T,z,te,$e,de){var Je=z&s,Dt=s5(O),Mt=Dt.length,Ke=s5(T),wr=Ke.length;if(Mt!=wr&&!Je)return!1;for(var Gr=Mt;Gr--;){var Vt=Dt[Gr];if(!(Je?Vt in T:Pe.call(T,Vt)))return!1}var Tr=de.get(O);if(Tr&&de.get(T))return Tr==T;var Br=!0;de.set(O,T),de.set(T,O);for(var Is=Je;++Gr<Mt;){Vt=Dt[Gr];var Mn=O[Vt],yi=T[Vt];if(te)var u5=Je?te(yi,Mn,Vt,T,O,de):te(Mn,yi,Vt,O,T,de);if(!(u5===void 0?Mn===yi||$e(Mn,yi,z,te,de):u5)){Br=!1;break}Is||(Is=Vt=="constructor")}if(Br&&!Is){var fu=O.constructor,hu=T.constructor;fu!=hu&&"constructor"in O&&"constructor"in T&&!(typeof fu=="function"&&fu instanceof fu&&typeof hu=="function"&&hu instanceof hu)&&(Br=!1)}return de.delete(O),de.delete(T),Br}function s5(O){return Nk(O,Wk,$k)}function lu(O,T){var z=O.__data__;return Fk(T)?z[typeof T=="string"?"string":"hash"]:z.map}function _o(O,T){var z=qe(O,T);return Dk(z)?z:void 0}function Lk(O){var T=Pe.call(O,mi),z=O[mi];try{O[mi]=void 0;var te=!0}catch{}var $e=xt.call(O);return te&&(T?O[mi]=z:delete O[mi]),$e}var $k=X3?function(O){return O==null?[]:(O=Object(O),xr(X3(O),function(T){return Y3.call(O,T)}))}:qk,_s=nc;(cp&&_s(new cp(new ArrayBuffer(1)))!=B||tc&&_s(new tc)!=b||lp&&_s(lp.resolve())!=v||up&&_s(new up)!=g||fp&&_s(new fp)!=P)&&(_s=function(O){var T=nc(O),z=T==A?O.constructor:void 0,te=z?wi(z):"";if(te)switch(te){case rk:return B;case nk:return b;case sk:return v;case ik:return g;case ok:return P}return T});function Mk(O,T){return T=T??o,!!T&&(typeof O=="number"||G.test(O))&&O>-1&&O%1==0&&O<T}function Fk(O){var T=typeof O;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?O!=="__proto__":O===null}function Hk(O){return!!bt&&bt in O}function jk(O){var T=O&&O.constructor,z=typeof T=="function"&&T.prototype||Ge;return O===z}function zk(O){return xt.call(O)}function wi(O){if(O!=null){try{return lt.call(O)}catch{}try{return O+""}catch{}}return""}function i5(O,T){return O===T||O!==O&&T!==T}var Vk=t5((function(){return arguments})())?t5:function(O){return sc(O)&&Pe.call(O,"callee")&&!Y3.call(O,"callee")},uu=Array.isArray;function Gk(O){return O!=null&&a5(O.length)&&!o5(O)}var dp=ek||Qk;function Kk(O,T){return r5(O,T)}function o5(O){if(!c5(O))return!1;var T=nc(O);return T==p||T==m||T==l||T==w}function a5(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=o}function c5(O){var T=typeof O;return O!=null&&(T=="object"||T=="function")}function sc(O){return O!=null&&typeof O=="object"}var l5=Nt?gi(Nt):Tk;function Wk(O){return Gk(O)?Pk(O):Bk(O)}function qk(){return[]}function Qk(){return!1}r.exports=Kk})(Ta,Ta.exports)),Ta.exports}var RP=NP();const DP=pl(RP);var TP={};function BP(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var s=0;s<r.length;s++){var i=r.charAt(s),o=i.charCodeAt(0);if(t[o]!==255)throw new TypeError(i+" is ambiguous");t[o]=s}var a=r.length,c=r.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var b=0,I=0,_=0,A=m.length;_!==A&&m[_]===0;)_++,b++;for(var v=(A-_)*u+1>>>0,w=new Uint8Array(v);_!==A;){for(var y=m[_],g=0,h=v-1;(y!==0||g<I)&&h!==-1;h--,g++)y+=256*w[h]>>>0,w[h]=y%a>>>0,y=y/a>>>0;if(y!==0)throw new Error("Non-zero carry");I=g,_++}for(var x=v-I;x!==v&&w[x]===0;)x++;for(var S=c.repeat(b);x<v;++x)S+=r.charAt(w[x]);return S}function d(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var b=0;if(m[b]!==" "){for(var I=0,_=0;m[b]===c;)I++,b++;for(var A=(m.length-b)*l+1>>>0,v=new Uint8Array(A);m[b];){var w=t[m.charCodeAt(b)];if(w===255)return;for(var y=0,g=A-1;(w!==0||y<_)&&g!==-1;g--,y++)w+=a*v[g]>>>0,v[g]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");_=y,b++}if(m[b]!==" "){for(var h=A-_;h!==A&&v[h]===0;)h++;for(var x=new Uint8Array(I+(A-h)),S=I;h!==A;)x[S++]=v[h++];return x}}}function p(m){var b=d(m);if(b)return b;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:d,decode:p}}var UP=BP,kP=UP;const ky=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},LP=r=>new TextEncoder().encode(r),$P=r=>new TextDecoder().decode(r);class MP{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class FP{constructor(e,t,n){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Ly(this,e)}}class HP{constructor(e){this.decoders=e}or(e){return Ly(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ly=(r,e)=>new HP({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class jP{constructor(e,t,n,s){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=s,this.encoder=new MP(e,t,n),this.decoder=new FP(e,t,s)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Fl=({name:r,prefix:e,encode:t,decode:n})=>new jP(r,e,t,n),Ba=({prefix:r,name:e,alphabet:t})=>{const{encode:n,decode:s}=kP(t,e);return Fl({prefix:r,name:e,encode:n,decode:i=>ky(s(i))})},zP=(r,e,t,n)=>{const s={};for(let u=0;u<e.length;++u)s[e[u]]=u;let i=r.length;for(;r[i-1]==="=";)--i;const o=new Uint8Array(i*t/8|0);let a=0,c=0,l=0;for(let u=0;u<i;++u){const f=s[r[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<t|f,a+=t,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},VP=(r,e,t)=>{const n=e[e.length-1]==="=",s=(1<<t)-1;let i="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,i+=e[s&a>>o];if(o&&(i+=e[s&a<<t-o]),n)for(;i.length*t&7;)i+="=";return i},$t=({name:r,prefix:e,bitsPerChar:t,alphabet:n})=>Fl({prefix:e,name:r,encode(s){return VP(s,n,t)},decode(s){return zP(s,n,t,r)}}),GP=Fl({prefix:"\0",name:"identity",encode:r=>$P(r),decode:r=>LP(r)});var KP=Object.freeze({__proto__:null,identity:GP});const WP=$t({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qP=Object.freeze({__proto__:null,base2:WP});const QP=$t({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var JP=Object.freeze({__proto__:null,base8:QP});const ZP=Ba({prefix:"9",name:"base10",alphabet:"0123456789"});var YP=Object.freeze({__proto__:null,base10:ZP});const XP=$t({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),eN=$t({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var tN=Object.freeze({__proto__:null,base16:XP,base16upper:eN});const rN=$t({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),nN=$t({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),sN=$t({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),iN=$t({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),oN=$t({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),aN=$t({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),cN=$t({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),lN=$t({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),uN=$t({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var fN=Object.freeze({__proto__:null,base32:rN,base32upper:nN,base32pad:sN,base32padupper:iN,base32hex:oN,base32hexupper:aN,base32hexpad:cN,base32hexpadupper:lN,base32z:uN});const hN=Ba({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dN=Ba({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var pN=Object.freeze({__proto__:null,base36:hN,base36upper:dN});const gN=Ba({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),mN=Ba({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var bN=Object.freeze({__proto__:null,base58btc:gN,base58flickr:mN});const xN=$t({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wN=$t({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yN=$t({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),vN=$t({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var EN=Object.freeze({__proto__:null,base64:xN,base64pad:wN,base64url:yN,base64urlpad:vN});const $y=Array.from("🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂"),AN=$y.reduce((r,e,t)=>(r[t]=e,r),[]),_N=$y.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function IN(r){return r.reduce((e,t)=>(e+=AN[t],e),"")}function CN(r){const e=[];for(const t of r){const n=_N[t.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(n)}return new Uint8Array(e)}const SN=Fl({prefix:"🚀",name:"base256emoji",encode:IN,decode:CN});var ON=Object.freeze({__proto__:null,base256emoji:SN}),PN=Fy,My=128,NN=-128,RN=Math.pow(2,31);function Fy(r,e,t){e=e||[],t=t||0;for(var n=t;r>=RN;)e[t++]=r&255|My,r/=128;for(;r&NN;)e[t++]=r&255|My,r>>>=7;return e[t]=r|0,Fy.bytes=t-n+1,e}var DN=Lh,TN=128,Hy=127;function Lh(r,n){var t=0,n=n||0,s=0,i=n,o,a=r.length;do{if(i>=a)throw Lh.bytes=0,new RangeError("Could not decode varint");o=r[i++],t+=s<28?(o&Hy)<<s:(o&Hy)*Math.pow(2,s),s+=7}while(o>=TN);return Lh.bytes=i-n,t}var BN=Math.pow(2,7),UN=Math.pow(2,14),kN=Math.pow(2,21),LN=Math.pow(2,28),$N=Math.pow(2,35),MN=Math.pow(2,42),FN=Math.pow(2,49),HN=Math.pow(2,56),jN=Math.pow(2,63),zN=function(r){return r<BN?1:r<UN?2:r<kN?3:r<LN?4:r<$N?5:r<MN?6:r<FN?7:r<HN?8:r<jN?9:10},VN={encode:PN,decode:DN,encodingLength:zN},jy=VN;const zy=(r,e,t=0)=>(jy.encode(r,e,t),e),Vy=r=>jy.encodingLength(r),$h=(r,e)=>{const t=e.byteLength,n=Vy(r),s=n+Vy(t),i=new Uint8Array(s+t);return zy(r,i,0),zy(t,i,n),i.set(e,s),new GN(r,t,e,i)};class GN{constructor(e,t,n,s){this.code=e,this.size=t,this.digest=n,this.bytes=s}}const Gy=({name:r,code:e,encode:t})=>new KN(r,e,t);class KN{constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?$h(this.code,t):t.then(n=>$h(this.code,n))}else throw Error("Unknown type, must be binary type")}}const Ky=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),WN=Gy({name:"sha2-256",code:18,encode:Ky("SHA-256")}),qN=Gy({name:"sha2-512",code:19,encode:Ky("SHA-512")});var QN=Object.freeze({__proto__:null,sha256:WN,sha512:qN});const Wy=0,JN="identity",qy=ky;var ZN=Object.freeze({__proto__:null,identity:{code:Wy,name:JN,encode:qy,digest:r=>$h(Wy,qy(r))}});new TextEncoder,new TextDecoder;const Qy={...KP,...qP,...JP,...YP,...tN,...fN,...pN,...bN,...EN,...ON};({...QN,...ZN});function Jy(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function YN(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Jy(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function Zy(r,e,t,n){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:n}}}const Yy=Zy("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Mh=Zy("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=YN(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),XN={utf8:Yy,"utf-8":Yy,hex:Qy.base16,latin1:Mh,ascii:Mh,binary:Mh,...Qy};function eR(r,e="utf8"){const t=XN[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Jy(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}const Xy="wc",tR=2,e2="core",ps=`${Xy}@2:${e2}:`,rR={logger:"error"},nR={database:":memory:"},sR="crypto",t2="client_ed25519_seed",iR=oe.ONE_DAY,oR="keychain",aR="0.3",cR="messages",lR="0.3",uR=oe.SIX_HOURS,fR="publisher",r2="irn",hR="error",n2="wss://relay.walletconnect.com",s2="wss://relay.walletconnect.org",dR="relayer",Ht={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},pR="_subscription",Tn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},gR=oe.ONE_SECOND,mR="2.10.0",bR=1e4,xR="0.3",wR="WALLETCONNECT_CLIENT_ID",fn={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},yR="subscription",vR="0.3",ER=oe.FIVE_SECONDS*1e3,AR="pairing",_R="0.3",Ua={wc_pairingDelete:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:oe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:oe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:0},res:{ttl:oe.ONE_DAY,prompt:!1,tag:0}}},hn={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},IR="history",CR="0.3",SR="expirer",Nr={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},OR="0.3",Fh="verify-api",Hl="https://verify.walletconnect.com",i2="https://verify.walletconnect.org";class PR{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=oR,this.version=aR,this.initialized=!1,this.storagePrefix=ps,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()},this.get=n=>{this.isInitialized();const s=this.keychain.get(n);if(typeof s>"u"){const{message:i}=J("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return s},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=mr(t,this.name)}get context(){return ir(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,fy(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?hy(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=J("NOT_INITIALIZED",this.name);throw new Error(e)}}}class NR{constructor(e,t,n){this.core=e,this.logger=t,this.name=sR,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=s=>(this.isInitialized(),this.keychain.has(s)),this.getClientId=async()=>{this.isInitialized();const s=await this.getClientSeed(),i=mw(s);return gw(i.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const s=jS();return this.setPrivateKey(s.publicKey,s.privateKey)},this.signJWT=async s=>{this.isInitialized();const i=await this.getClientSeed(),o=mw(i),a=Ch();return await aC(a,s,iR,o)},this.generateSharedKey=(s,i,o)=>{this.isInitialized();const a=this.getPrivateKey(s),c=zS(a,i);return this.setSymKey(c,o)},this.setSymKey=async(s,i)=>{this.isInitialized();const o=i||VS(s);return await this.keychain.set(o,s),o},this.deleteKeyPair=async s=>{this.isInitialized(),await this.keychain.del(s)},this.deleteSymKey=async s=>{this.isInitialized(),await this.keychain.del(s)},this.encode=async(s,i,o)=>{this.isInitialized();const a=oy(o),c=v0(i);if(ay(a)){const d=a.senderPublicKey,p=a.receiverPublicKey;s=await this.generateSharedKey(d,p)}const l=this.getSymKey(s),{type:u,senderPublicKey:f}=a;return KS({type:u,symKey:l,message:c,senderPublicKey:f})},this.decode=async(s,i,o)=>{this.isInitialized();const a=QS(i,o);if(ay(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(s),l=WS({symKey:c,encoded:i});return y0(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=s=>{const i=Tl(s);return Ia(i.type)},this.getPayloadSenderPublicKey=s=>{const i=Tl(s);return i.senderPublicKey?Pr(i.senderPublicKey,Jt):void 0},this.core=e,this.logger=mr(t,this.name),this.keychain=n||new PR(this.core,this.logger)}get context(){return ir(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(t2)}catch{e=Ch(),await this.keychain.set(t2,e)}return eR(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=J("NOT_INITIALIZED",this.name);throw new Error(e)}}}class RR extends cA{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=cR,this.version=lR,this.initialized=!1,this.storagePrefix=ps,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,s)=>{this.isInitialized();const i=io(s);let o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[i]<"u"||(o[i]=s,this.messages.set(n,o),await this.persist()),i},this.get=n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s},this.has=(n,s)=>{this.isInitialized();const i=this.get(n),o=io(s);return typeof i[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=mr(e,this.name),this.core=t}get context(){return ir(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,fy(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?hy(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=J("NOT_INITIALIZED",this.name);throw new Error(e)}}}class DR extends lA{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new ln.EventEmitter,this.name=fR,this.queue=new Map,this.publishTimeout=oe.toMiliseconds(oe.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(n,s,i)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}});try{const a=i?.ttl||uR,c=Oh(i),l=i?.prompt||!1,u=i?.tag||0,f=i?.id||Ny().toString(),d={topic:n,message:s,opts:{ttl:a,relay:c,prompt:l,tag:u,id:f}},p=setTimeout(()=>this.queue.set(f,d),this.publishTimeout);try{await await Oa(this.rpcPublish(n,s,a,c,l,u,f),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(f),this.relayer.events.emit(Ht.publish,d)}catch(m){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(o=i?.internal)!=null&&o.throwOnFailedPublish)throw this.removeRequestFromQueue(f),m;return}finally{clearTimeout(p)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:i}})}catch(a){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(a),a}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.relayer=e,this.logger=mr(t,this.name),this.registerEventListeners()}get context(){return ir(this.logger)}rpcPublish(e,t,n,s,i,o,a){var c,l,u,f;const d={method:Ul(s.protocol).publish,params:{topic:e,message:t,ttl:n,prompt:i,tag:o},id:a};return Zt((c=d.params)==null?void 0:c.prompt)&&((l=d.params)==null||delete l.prompt),Zt((u=d.params)==null?void 0:u.tag)&&((f=d.params)==null||delete f.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:d}),this.relayer.request(d)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:t,message:n,opts:s}=e;await this.publish(t,n,s)})}registerEventListeners(){this.relayer.core.heartbeat.on(ga.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Ht.connection_stalled);return}this.checkQueue()}),this.relayer.on(Ht.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class TR{constructor(){this.map=new Map,this.set=(e,t)=>{const n=this.get(e);this.exists(e,t)||this.map.set(e,[...n,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,t))return;const s=n.filter(i=>i!==t);if(!s.length){this.map.delete(e);return}this.map.set(e,s)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var BR=Object.defineProperty,UR=Object.defineProperties,kR=Object.getOwnPropertyDescriptors,o2=Object.getOwnPropertySymbols,LR=Object.prototype.hasOwnProperty,$R=Object.prototype.propertyIsEnumerable,a2=(r,e,t)=>e in r?BR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ka=(r,e)=>{for(var t in e||(e={}))LR.call(e,t)&&a2(r,t,e[t]);if(o2)for(var t of o2(e))$R.call(e,t)&&a2(r,t,e[t]);return r},Hh=(r,e)=>UR(r,kR(e));class MR extends hA{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new TR,this.events=new ln.EventEmitter,this.name=yR,this.version=vR,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=ps,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,s)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{const i=Oh(s),o={topic:n,relay:i};this.pending.set(n,o);const a=await this.rpcSubscribe(n,i);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}}),a}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}},this.unsubscribe=async(n,s)=>{await this.restartToComplete(),this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((s,i)=>{const o=new oe.Watch;o.start(this.pendingSubscriptionWatchLabel);const a=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=ER&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),i(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=mr(t,this.name),this.clientId=""}get context(){return ir(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let n=!1;try{n=this.getSubscription(e).topic===t}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const n=this.topicMap.get(e);await Promise.all(n.map(async s=>await this.unsubscribeById(e,s,t)))}async unsubscribeById(e,t,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}});try{const s=Oh(n);await this.rpcUnsubscribe(e,t,s);const i=St("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(e,t){const n={method:Ul(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Oa(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ht.connection_stalled)}return io(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,n={method:Ul(t.protocol).batchSubscribe,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Oa(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(Ht.connection_stalled)}}rpcUnsubscribe(e,t,n){const s={method:Ul(n.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(e,t){this.setSubscription(e,Hh(ka({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,ka({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,n){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t))}addSubscription(e,t){this.subscriptions.set(e,ka({},t)),this.topicMap.set(t.topic,e),this.events.emit(fn.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:n}=J("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(fn.deleted,Hh(ka({},n),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(fn.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let t=0;t<e;t++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(fn.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=J("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const t=await this.rpcBatchSubscribe(e);Pa(t)&&this.onBatchSubscribe(t.map((n,s)=>Hh(ka({},e[s]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;const e=[];this.pending.forEach(t=>{e.push(t)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(ga.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(Ht.connect,async()=>{await this.onConnect()}),this.relayer.on(Ht.disconnect,()=>{this.onDisconnect()}),this.events.on(fn.created,async e=>{const t=fn.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()}),this.events.on(fn.deleted,async e=>{const t=fn.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=J("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{const t=setInterval(()=>{this.restartInProgress||(clearInterval(t),e())},this.pollingInterval)})}}var FR=Object.defineProperty,c2=Object.getOwnPropertySymbols,HR=Object.prototype.hasOwnProperty,jR=Object.prototype.propertyIsEnumerable,l2=(r,e,t)=>e in r?FR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zR=(r,e)=>{for(var t in e||(e={}))HR.call(e,t)&&l2(r,t,e[t]);if(c2)for(var t of c2(e))jR.call(e,t)&&l2(r,t,e[t]);return r};class VR extends uA{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new ln.EventEmitter,this.name=dR,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async t=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(t)}catch(n){throw this.logger.debug("Failed to Publish Request"),this.logger.error(n),n}},this.onPayloadHandler=t=>{this.onProviderPayload(t)},this.onConnectHandler=()=>{this.events.emit(Ht.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit(Ht.error,t)},this.registerProviderListeners=()=>{this.provider.on(Tn.payload,this.onPayloadHandler),this.provider.on(Tn.connect,this.onConnectHandler),this.provider.on(Tn.disconnect,this.onDisconnectHandler),this.provider.on(Tn.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?mr(e.logger,this.name):$0(L0({level:e.logger||hR})),this.messages=new RR(this.logger,e.core),this.subscriber=new MR(this,this.logger),this.publisher=new DR(this,this.logger),this.relayUrl=e?.relayUrl||n2,this.projectId=e.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${s2}...`),await this.restartTransport(s2)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},bR)}get context(){return ir(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,t,n){this.isInitialized(),await this.publisher.publish(e,t,n),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now()})}async subscribe(e,t){var n;this.isInitialized();let s=((n=this.subscriber.topicMap.get(e))==null?void 0:n[0])||"";return s||(await Promise.all([new Promise(i=>{this.subscriber.once(fn.created,o=>{o.topic===e&&i()})}),new Promise(async i=>{s=await this.subscriber.subscribe(e,t),i()})]),s)}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await Oa(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(t=>{if(!this.initialized)return t();this.subscriber.once(fn.resubscribed,()=>{t()})}),new Promise(async(t,n)=>{try{await Oa(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(s){n(s);return}t()})])}catch(t){this.logger.error(t);const n=t;if(!this.isConnectionStalled(n.message))throw t;this.provider.events.emit(Tn.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Ay())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(t=>e.includes(t))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new vP(new PP(oO({sdkVersion:mR,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:n}=e;await this.messages.set(t,n)}async shouldIgnoreMessageEvent(e){const{topic:t,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.debug(`Ignoring message for non-subscribed topic ${t}`),!0;const s=this.messages.has(t,n);return s&&this.logger.debug(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),kh(e)){if(!e.method.endsWith(pR))return;const t=e.params,{topic:n,message:s,publishedAt:i}=t.data,o={topic:n,message:s,publishedAt:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(zR({type:"event",event:t.id},o)),this.events.emit(t.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else Ml(e)&&this.events.emit(Ht.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Ht.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=Bh(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Tn.payload,this.onPayloadHandler),this.provider.off(Tn.connect,this.onConnectHandler),this.provider.off(Tn.disconnect,this.onDisconnectHandler),this.provider.off(Tn.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(Ht.connection_stalled,()=>{this.restartTransport().catch(t=>this.logger.error(t))});let e=await Ay();YO(async t=>{this.initialized&&e!==t&&(e=t,t?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(n=>this.logger.error(n))))})}onProviderDisconnect(){this.events.emit(Ht.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},oe.toMiliseconds(gR)))}isInitialized(){if(!this.initialized){const{message:e}=J("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{const t=setInterval(()=>{this.connected&&(clearInterval(t),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var GR=Object.defineProperty,u2=Object.getOwnPropertySymbols,KR=Object.prototype.hasOwnProperty,WR=Object.prototype.propertyIsEnumerable,f2=(r,e,t)=>e in r?GR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,h2=(r,e)=>{for(var t in e||(e={}))KR.call(e,t)&&f2(r,t,e[t]);if(u2)for(var t of u2(e))WR.call(e,t)&&f2(r,t,e[t]);return r};class jl extends fA{constructor(e,t,n,s=ps,i=void 0){super(e,t,n,s),this.core=e,this.logger=t,this.name=n,this.map=new Map,this.version=xR,this.cached=[],this.initialized=!1,this.storagePrefix=ps,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Zt(o)?this.map.set(this.getKey(o),o):PO(o)?this.map.set(o.id,o):NO(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>DP(a[c],o[c]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=h2(h2({},this.getData(o)),a);this.map.set(o,c),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=mr(t,this.name),this.storagePrefix=s,this.getKey=i}get context(){return ir(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){const{message:n}=J("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=J("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=J("NOT_INITIALIZED",this.name);throw new Error(e)}}}class qR{constructor(e,t){this.core=e,this.logger=t,this.name=AR,this.version=_R,this.events=new Gb,this.initialized=!1,this.storagePrefix=ps,this.ignoredPayloadTypes=[ei],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=Ch(),s=await this.core.crypto.setSymKey(n),i=zr(oe.FIVE_MINUTES),o={protocol:r2},a={topic:s,expiry:i,relay:o,active:!1},c=wO({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:n,relay:o});return await this.pairings.set(s,a),await this.core.relayer.subscribe(s),this.core.expirer.set(s,i),{topic:s,uri:c}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:s,symKey:i,relay:o}=mO(n.uri);if(this.pairings.keys.includes(s))throw new Error(`Pairing already exists: ${s}`);if(this.core.crypto.hasKeys(s))throw new Error(`Keychain already exists: ${s}`);const a=zr(oe.FIVE_MINUTES),c={topic:s,relay:o,expiry:a,active:!1};return await this.pairings.set(s,c),await this.core.crypto.setSymKey(i,s),await this.core.relayer.subscribe(s,{relay:o}),this.core.expirer.set(s,a),n.activatePairing&&await this.activate({topic:s}),c},this.activate=async({topic:n})=>{this.isInitialized();const s=zr(oe.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:s}),this.core.expirer.set(n,s)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:s}=n;if(this.pairings.keys.includes(s)){const i=await this.sendRequest(s,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=oo();this.events.once(ft("pairing_ping",i),({error:l})=>{l?c(l):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})},this.updateMetadata=async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",St("USER_DISCONNECTED")),await this.deletePairing(s))},this.sendRequest=async(n,s,i)=>{const o=Da(s,i),a=await this.core.crypto.encode(n,o),c=Ua[s].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id},this.sendResult=async(n,s,i)=>{const o=Bh(n,i),a=await this.core.crypto.encode(s,o),c=await this.core.history.get(s,n),l=Ua[c.request.method].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)},this.sendError=async(n,s,i)=>{const o=Uh(n,i),a=await this.core.crypto.encode(s,o),c=await this.core.history.get(s,n),l=Ua[c.request.method]?Ua[c.request.method].res:Ua.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(o)},this.deletePairing=async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,St("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(s=>ds(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))},this.onRelayEventRequest=n=>{const{topic:s,payload:i}=n;switch(i.method){case"wc_pairingPing":return this.onPairingPingRequest(s,i);case"wc_pairingDelete":return this.onPairingDeleteRequest(s,i);default:return this.onUnknownRpcMethodRequest(s,i)}},this.onRelayEventResponse=async n=>{const{topic:s,payload:i}=n,o=(await this.core.history.get(s,i.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(s,i);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,s)=>{const{id:i}=s;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit("pairing_ping",{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,s)=>{const{id:i}=s;setTimeout(()=>{Dn(s)?this.events.emit(ft("pairing_ping",i),{}):Vr(s)&&this.events.emit(ft("pairing_ping",i),{error:s.error})},500)},this.onPairingDeleteRequest=async(n,s)=>{const{id:i}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit("pairing_delete",{id:i,topic:n})}catch(o){await this.sendError(i,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,s)=>{const{id:i,method:o}=s;try{if(this.registeredMethods.includes(o))return;const a=St("WC_METHOD_UNSUPPORTED",o);await this.sendError(i,n,a),this.logger.error(a)}catch(a){await this.sendError(i,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(St("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!ar(n)){const{message:s}=J("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(s)}if(!OO(n.uri)){const{message:s}=J("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(s)}},this.isValidPing=async n=>{if(!ar(n)){const{message:i}=J("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidDisconnect=async n=>{if(!ar(n)){const{message:i}=J("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:s}=n;await this.isValidPairingTopic(s)},this.isValidPairingTopic=async n=>{if(!Ot(n,!1)){const{message:s}=J("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){const{message:s}=J("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(ds(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:s}=J("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}},this.core=e,this.logger=mr(t,this.name),this.pairings=new jl(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ir(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=J("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Ht.message,async e=>{const{topic:t,message:n}=e;if(!this.pairings.keys.includes(t)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const s=await this.core.crypto.decode(t,n);try{kh(s)?(this.core.history.set(t,s),this.onRelayEventRequest({topic:t,payload:s})):Ml(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:t,payload:s}),this.core.history.delete(t,s.id))}catch(i){this.logger.error(i)}})}registerExpirerEvents(){this.core.expirer.on(Nr.expired,async e=>{const{topic:t}=py(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit("pairing_expire",{topic:t}))})}}class QR extends aA{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new ln.EventEmitter,this.name=IR,this.version=CR,this.cached=[],this.initialized=!1,this.storagePrefix=ps,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,s,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:i}),this.records.has(s.id))return;const o={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:i,expiry:zr(oe.THIRTY_DAYS)};this.records.set(o.id,o),this.events.emit(hn.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=Vr(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.events.emit(hn.updated,s))},this.get=async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s)),this.delete=(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(i=>{if(i.topic===n){if(typeof s<"u"&&i.id!==s)return;this.records.delete(i.id),this.events.emit(hn.deleted,i)}})},this.exists=async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1),this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=mr(t,this.name)}get context(){return ir(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const n={topic:t.topic,request:Da(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:n}=J("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(hn.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=J("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(hn.created,e=>{const t=hn.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(hn.updated,e=>{const t=hn.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.events.on(hn.deleted,e=>{const t=hn.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e}),this.persist()}),this.core.heartbeat.on(ga.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{oe.toMiliseconds(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=J("NOT_INITIALIZED",this.name);throw new Error(e)}}}class JR extends dA{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new ln.EventEmitter,this.name=SR,this.version=OR,this.cached=[],this.initialized=!1,this.storagePrefix=ps,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}},this.set=(n,s)=>{this.isInitialized();const i=this.formatTarget(n),o={target:i,expiry:s};this.expirations.set(i,o),this.checkExpiry(i,o),this.events.emit(Nr.created,{target:i,expiration:o})},this.get=n=>{this.isInitialized();const s=this.formatTarget(n);return this.getExpiration(s)},this.del=n=>{if(this.isInitialized(),this.has(n)){const s=this.formatTarget(n),i=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Nr.deleted,{target:s,expiration:i})}},this.on=(n,s)=>{this.events.on(n,s)},this.once=(n,s)=>{this.events.once(n,s)},this.off=(n,s)=>{this.events.off(n,s)},this.removeListener=(n,s)=>{this.events.removeListener(n,s)},this.logger=mr(t,this.name)}get context(){return ir(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return aO(e);if(typeof e=="number")return cO(e);const{message:t}=J("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Nr.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=J("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:n}=J("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return t}checkExpiry(e,t){const{expiry:n}=t;oe.toMiliseconds(n)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Nr.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(ga.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Nr.created,e=>{const t=Nr.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Nr.expired,e=>{const t=Nr.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Nr.deleted,e=>{const t=Nr.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=J("NOT_INITIALIZED",this.name);throw new Error(e)}}}class ZR extends pA{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.name=Fh,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async n=>{if(this.verifyDisabled||Bl()||!Ca())return;const s=n?.verifyUrl||Hl;this.verifyUrl!==s&&this.removeIframe(),this.verifyUrl=s;try{await this.createIframe()}catch(i){this.logger.warn(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.warn(i)}if(!this.initialized){this.removeIframe(),this.verifyUrl=i2;try{await this.createIframe()}catch(i){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(i),this.verifyDisabled=!0}}},this.register=async n=>{this.initialized?this.sendPost(n.attestationId):(this.addToQueue(n.attestationId),await this.init())},this.resolve=async n=>{if(this.isDevEnv)return"";const s=n?.verifyUrl||Hl;let i="";try{i=await this.fetchAttestation(n.attestationId,s)}catch(o){this.logger.warn(`failed to resolve attestation: ${n.attestationId} from url: ${s}`),this.logger.warn(o),i=await this.fetchAttestation(n.attestationId,i2)}return i},this.fetchAttestation=async(n,s)=>{var i;this.logger.info(`resolving attestation: ${n} from url: ${s}`);const o=this.startAbortTimer(oe.ONE_SECOND*2),a=await fetch(`${s}/attestation/${n}`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?(i=await a.json())==null?void 0:i.origin:""},this.addToQueue=n=>{this.queue.push(n)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(n=>this.sendPost(n)),this.queue=[])},this.sendPost=n=>{var s;try{if(!this.iframe)return;(s=this.iframe.contentWindow)==null||s.postMessage(n,"*"),this.logger.info(`postMessage sent: ${n} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let n;const s=i=>{i.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",s),n())};await Promise.race([new Promise(i=>{if(document.getElementById(Fh))return i();window.addEventListener("message",s);const o=document.createElement("iframe");o.id=Fh,o.src=`${this.verifyUrl}/${this.projectId}`,o.style.display="none",document.body.append(o),this.iframe=o,n=i}),new Promise((i,o)=>setTimeout(()=>{window.removeEventListener("message",s),o("verify iframe load timeout")},oe.toMiliseconds(oe.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.logger=mr(t,this.name),this.verifyUrl=Hl,this.abortController=new AbortController,this.isDevEnv=Sh()&&TP.IS_VITEST}get context(){return ir(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),oe.toMiliseconds(e))}}var YR=Object.defineProperty,d2=Object.getOwnPropertySymbols,XR=Object.prototype.hasOwnProperty,eD=Object.prototype.propertyIsEnumerable,p2=(r,e,t)=>e in r?YR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,g2=(r,e)=>{for(var t in e||(e={}))XR.call(e,t)&&p2(r,t,e[t]);if(d2)for(var t of d2(e))eD.call(e,t)&&p2(r,t,e[t]);return r};const tD=class f5 extends oA{constructor(e){super(e),this.protocol=Xy,this.version=tR,this.name=e2,this.events=new ln.EventEmitter,this.initialized=!1,this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||n2;const t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:$0(L0({level:e?.logger||rR.logger}));this.logger=mr(t,this.name),this.heartbeat=new ga.HeartBeat,this.crypto=new NR(this,this.logger,e?.keychain),this.history=new QR(this,this.logger),this.expirer=new JR(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new d9(g2(g2({},nR),e?.storageOptions)),this.relayer=new VR({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new qR(this,this.logger),this.verify=new ZR(this.projectId||"",this.logger)}static async init(e){const t=new f5(e);await t.initialize();const n=await t.crypto.getClientId();return await t.storage.setItem(wR,n),t}get context(){return ir(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},m2="wc",b2=2,x2="client",jh=`${m2}@${b2}:${x2}:`,zh={name:x2,logger:"error"},w2="WALLETCONNECT_DEEPLINK_CHOICE",rD="proposal",nD="Proposal expired",sD="session",zl=oe.SEVEN_DAYS,iD="engine",La={wc_sessionPropose:{req:{ttl:oe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:oe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:oe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:oe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:oe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:oe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:oe.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:oe.THIRTY_SECONDS,prompt:!1,tag:1115}}},Vh={min:oe.FIVE_MINUTES,max:oe.SEVEN_DAYS},Bn={idle:"IDLE",active:"ACTIVE"},oD="request",aD=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var cD=Object.defineProperty,lD=Object.defineProperties,uD=Object.getOwnPropertyDescriptors,y2=Object.getOwnPropertySymbols,fD=Object.prototype.hasOwnProperty,hD=Object.prototype.propertyIsEnumerable,v2=(r,e,t)=>e in r?cD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,cr=(r,e)=>{for(var t in e||(e={}))fD.call(e,t)&&v2(r,t,e[t]);if(y2)for(var t of y2(e))hD.call(e,t)&&v2(r,t,e[t]);return r},$a=(r,e)=>lD(r,uD(e));class dD extends mA{constructor(e){super(e),this.name=iD,this.events=new Gb,this.initialized=!1,this.ignoredPayloadTypes=[ei],this.requestQueue={state:Bn.idle,queue:[]},this.sessionRequestQueue={state:Bn.idle,queue:[]},this.requestQueueDelay=oe.ONE_SECOND,this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(La)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},oe.toMiliseconds(this.requestQueueDelay)))},this.connect=async t=>{await this.isInitialized();const n=$a(cr({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:s,requiredNamespaces:i,optionalNamespaces:o,sessionProperties:a,relays:c}=n;let l=s,u,f=!1;if(l&&(f=this.client.core.pairing.pairings.get(l).active),!l||!f){const{topic:v,uri:w}=await this.client.core.pairing.create();l=v,u=w}const d=await this.client.core.crypto.generateKeyPair(),p=cr({requiredNamespaces:i,optionalNamespaces:o,relays:c??[{protocol:r2}],proposer:{publicKey:d,metadata:this.client.metadata}},a&&{sessionProperties:a}),{reject:m,resolve:b,done:I}=oo(oe.FIVE_MINUTES,nD);if(this.events.once(ft("session_connect"),async({error:v,session:w})=>{if(v)m(v);else if(w){w.self.publicKey=d;const y=$a(cr({},w),{requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces});await this.client.session.set(w.topic,y),await this.setExpiry(w.topic,w.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:w.peer.metadata}),b(y)}}),!l){const{message:v}=J("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(v)}const _=await this.sendRequest({topic:l,method:"wc_sessionPropose",params:p}),A=zr(oe.FIVE_MINUTES);return await this.setProposal(_,cr({id:_,expiry:A},p)),{uri:u,approval:I}},this.pair=async t=>(await this.isInitialized(),await this.client.core.pairing.pair(t)),this.approve=async t=>{await this.isInitialized(),await this.isValidApprove(t);const{id:n,relayProtocol:s,namespaces:i,sessionProperties:o}=t,a=this.client.proposal.get(n);let{pairingTopic:c,proposer:l,requiredNamespaces:u,optionalNamespaces:f}=a;c=c||"",Na(u)||(u=AO(i,"approve()"));const d=await this.client.core.crypto.generateKeyPair(),p=l.publicKey,m=await this.client.core.crypto.generateSharedKey(d,p);c&&n&&(await this.client.core.pairing.updateMetadata({topic:c,metadata:l.metadata}),await this.sendResult({id:n,topic:c,result:{relay:{protocol:s??"irn"},responderPublicKey:d}}),await this.client.proposal.delete(n,St("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:c}));const b=cr({relay:{protocol:s??"irn"},namespaces:i,requiredNamespaces:u,optionalNamespaces:f,pairingTopic:c,controller:{publicKey:d,metadata:this.client.metadata},expiry:zr(zl)},o&&{sessionProperties:o});await this.client.core.relayer.subscribe(m),await this.sendRequest({topic:m,method:"wc_sessionSettle",params:b,throwOnFailedPublish:!0});const I=$a(cr({},b),{topic:m,pairingTopic:c,acknowledged:!1,self:b.controller,peer:{publicKey:l.publicKey,metadata:l.metadata},controller:d});return await this.client.session.set(m,I),await this.setExpiry(m,zr(zl)),{topic:m,acknowledged:()=>new Promise(_=>setTimeout(()=>_(this.client.session.get(m)),500))}},this.reject=async t=>{await this.isInitialized(),await this.isValidReject(t);const{id:n,reason:s}=t,{pairingTopic:i}=this.client.proposal.get(n);i&&(await this.sendError(n,i,s),await this.client.proposal.delete(n,St("USER_DISCONNECTED")))},this.update=async t=>{await this.isInitialized(),await this.isValidUpdate(t);const{topic:n,namespaces:s}=t,i=await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:s}}),{done:o,resolve:a,reject:c}=oo();return this.events.once(ft("session_update",i),({error:l})=>{l?c(l):a()}),await this.client.session.update(n,{namespaces:s}),{acknowledged:o}},this.extend=async t=>{await this.isInitialized(),await this.isValidExtend(t);const{topic:n}=t,s=await this.sendRequest({topic:n,method:"wc_sessionExtend",params:{}}),{done:i,resolve:o,reject:a}=oo();return this.events.once(ft("session_extend",s),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,zr(zl)),{acknowledged:i}},this.request=async t=>{await this.isInitialized(),await this.isValidRequest(t);const{chainId:n,request:s,topic:i,expiry:o}=t,a=Th(),{done:c,resolve:l,reject:u}=oo(o);return this.events.once(ft("session_request",a),({error:f,result:d})=>{f?u(f):l(d)}),await Promise.all([new Promise(async f=>{await this.sendRequest({clientRpcId:a,topic:i,method:"wc_sessionRequest",params:{request:s,chainId:n},expiry:o,throwOnFailedPublish:!0}).catch(d=>u(d)),this.client.events.emit("session_request_sent",{topic:i,request:s,chainId:n,id:a}),f()}),new Promise(async f=>{const d=await this.client.core.storage.getItem(w2);lO({id:a,topic:i,wcDeepLink:d}),f()}),c()]).then(f=>f[2])},this.respond=async t=>{await this.isInitialized(),await this.isValidRespond(t);const{topic:n,response:s}=t,{id:i}=s;Dn(s)?await this.sendResult({id:i,topic:n,result:s.result,throwOnFailedPublish:!0}):Vr(s)&&await this.sendError(i,n,s.error),this.cleanupAfterResponse(t)},this.ping=async t=>{await this.isInitialized(),await this.isValidPing(t);const{topic:n}=t;if(this.client.session.keys.includes(n)){const s=await this.sendRequest({topic:n,method:"wc_sessionPing",params:{}}),{done:i,resolve:o,reject:a}=oo();this.events.once(ft("session_ping",s),({error:c})=>{c?a(c):o()}),await i()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async t=>{await this.isInitialized(),await this.isValidEmit(t);const{topic:n,event:s,chainId:i}=t;await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:s,chainId:i}})},this.disconnect=async t=>{await this.isInitialized(),await this.isValidDisconnect(t);const{topic:n}=t;this.client.session.keys.includes(n)?(await this.sendRequest({topic:n,method:"wc_sessionDelete",params:St("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession(n)):await this.client.core.pairing.disconnect({topic:n})},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(n=>CO(n,t))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const n=this.client.core.pairing.pairings.get(t.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(i=>{var o,a;return((o=i.peerMetadata)==null?void 0:o.url)&&((a=i.peerMetadata)==null?void 0:a.url)===t.peer.metadata.url&&i.topic&&i.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async(t,n)=>{const{self:s}=this.client.session.get(t);await this.client.core.relayer.unsubscribe(t),this.client.session.delete(t,St("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(s.publicKey)&&await this.client.core.crypto.deleteKeyPair(s.publicKey),this.client.core.crypto.keychain.has(t)&&await this.client.core.crypto.deleteSymKey(t),n||this.client.core.expirer.del(t),this.client.core.storage.removeItem(w2).catch(i=>this.client.logger.warn(i))},this.deleteProposal=async(t,n)=>{await Promise.all([this.client.proposal.delete(t,St("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(t)])},this.deletePendingSessionRequest=async(t,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,n),s?Promise.resolve():this.client.core.expirer.del(t)]),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(i=>i.id!==t),s&&(this.sessionRequestQueue.state=Bn.idle)},this.setExpiry=async(t,n)=>{this.client.session.keys.includes(t)&&await this.client.session.update(t,{expiry:n}),this.client.core.expirer.set(t,n)},this.setProposal=async(t,n)=>{await this.client.proposal.set(t,n),this.client.core.expirer.set(t,n.expiry)},this.setPendingSessionRequest=async t=>{const n=La.wc_sessionRequest.req.ttl,{id:s,topic:i,params:o}=t;await this.client.pendingRequest.set(s,{id:s,topic:i,params:o}),n&&this.client.core.expirer.set(s,zr(n))},this.sendRequest=async t=>{const{topic:n,method:s,params:i,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l}=t,u=Da(s,i,c);if(Ca()&&aD.includes(s)){const p=io(JSON.stringify(u));this.client.core.verify.register({attestationId:p})}const f=await this.client.core.crypto.encode(n,u),d=La[s].req;return o&&(d.ttl=o),a&&(d.id=a),this.client.core.history.set(n,u),l?(d.internal=$a(cr({},d.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,f,d)):this.client.core.relayer.publish(n,f,d).catch(p=>this.client.logger.error(p)),u.id},this.sendResult=async t=>{const{id:n,topic:s,result:i,throwOnFailedPublish:o}=t,a=Bh(n,i),c=await this.client.core.crypto.encode(s,a),l=await this.client.core.history.get(s,n),u=La[l.request.method].res;o?(u.internal=$a(cr({},u.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,c,u)):this.client.core.relayer.publish(s,c,u).catch(f=>this.client.logger.error(f)),await this.client.core.history.resolve(a)},this.sendError=async(t,n,s)=>{const i=Uh(t,s),o=await this.client.core.crypto.encode(n,i),a=await this.client.core.history.get(n,t),c=La[a.request.method].res;this.client.core.relayer.publish(n,o,c),await this.client.core.history.resolve(i)},this.cleanup=async()=>{const t=[],n=[];this.client.session.getAll().forEach(s=>{ds(s.expiry)&&t.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{ds(s.expiry)&&n.push(s.id)}),await Promise.all([...t.map(s=>this.deleteSession(s)),...n.map(s=>this.deleteProposal(s))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===Bn.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Bn.active;const t=this.requestQueue.queue.shift();if(t)try{this.processRequest(t),await new Promise(n=>setTimeout(n,300))}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Bn.idle},this.processRequest=t=>{const{topic:n,payload:s}=t,i=s.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeRequest(n,s);case"wc_sessionSettle":return this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return this.onSessionExtendRequest(n,s);case"wc_sessionPing":return this.onSessionPingRequest(n,s);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return this.onSessionRequest(n,s);case"wc_sessionEvent":return this.onSessionEventRequest(n,s);default:return this.client.logger.info(`Unsupported request method ${i}`)}},this.onRelayEventResponse=async t=>{const{topic:n,payload:s}=t,i=(await this.client.core.history.get(n,s.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:n}=t,{message:s}=J("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)},this.onSessionProposeRequest=async(t,n)=>{const{params:s,id:i}=n;try{this.isValidConnect(cr({},n.params));const o=zr(oe.FIVE_MINUTES),a=cr({id:i,pairingTopic:t,expiry:o},s);await this.setProposal(i,a);const c=io(JSON.stringify(n)),l=await this.getVerifyContext(c,a.proposer.metadata);this.client.events.emit("session_proposal",{id:i,params:a,verifyContext:l})}catch(o){await this.sendError(i,t,o),this.client.logger.error(o)}},this.onSessionProposeResponse=async(t,n)=>{const{id:s}=n;if(Dn(n)){const{result:i}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const o=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const a=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:a});const c=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:c});const l=await this.client.core.crypto.generateSharedKey(a,c);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:l});const u=await this.client.core.relayer.subscribe(l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:u}),await this.client.core.pairing.activate({topic:t})}else Vr(n)&&(await this.client.proposal.delete(s,St("USER_DISCONNECTED")),this.events.emit(ft("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(t,n)=>{const{id:s,params:i}=n;try{this.isValidSessionSettleRequest(i);const{relay:o,controller:a,expiry:c,namespaces:l,requiredNamespaces:u,optionalNamespaces:f,sessionProperties:d,pairingTopic:p}=n.params,m=cr({topic:t,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:p,requiredNamespaces:u,optionalNamespaces:f,controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},d&&{sessionProperties:d});await this.sendResult({id:n.id,topic:t,result:!0}),this.events.emit(ft("session_connect"),{session:m}),this.cleanupDuplicatePairings(m)}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.onSessionSettleResponse=async(t,n)=>{const{id:s}=n;Dn(n)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(ft("session_approve",s),{})):Vr(n)&&(await this.client.session.delete(t,St("USER_DISCONNECTED")),this.events.emit(ft("session_approve",s),{error:n.error}))},this.onSessionUpdateRequest=async(t,n)=>{const{params:s,id:i}=n;try{const o=`${t}_session_update`,a=$l.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidUpdate(cr({topic:t},s)),await this.client.session.update(t,{namespaces:s.namespaces}),await this.sendResult({id:i,topic:t,result:!0}),this.client.events.emit("session_update",{id:i,topic:t,params:s}),$l.set(o,i)}catch(o){await this.sendError(i,t,o),this.client.logger.error(o)}},this.isRequestOutOfSync=(t,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,n)=>{const{id:s}=n;Dn(n)?this.events.emit(ft("session_update",s),{}):Vr(n)&&this.events.emit(ft("session_update",s),{error:n.error})},this.onSessionExtendRequest=async(t,n)=>{const{id:s}=n;try{this.isValidExtend({topic:t}),await this.setExpiry(t,zr(zl)),await this.sendResult({id:s,topic:t,result:!0}),this.client.events.emit("session_extend",{id:s,topic:t})}catch(i){await this.sendError(s,t,i),this.client.logger.error(i)}},this.onSessionExtendResponse=(t,n)=>{const{id:s}=n;Dn(n)?this.events.emit(ft("session_extend",s),{}):Vr(n)&&this.events.emit(ft("session_extend",s),{error:n.error})},this.onSessionPingRequest=async(t,n)=>{const{id:s}=n;try{this.isValidPing({topic:t}),await this.sendResult({id:s,topic:t,result:!0}),this.client.events.emit("session_ping",{id:s,topic:t})}catch(i){await this.sendError(s,t,i),this.client.logger.error(i)}},this.onSessionPingResponse=(t,n)=>{const{id:s}=n;setTimeout(()=>{Dn(n)?this.events.emit(ft("session_ping",s),{}):Vr(n)&&this.events.emit(ft("session_ping",s),{error:n.error})},500)},this.onSessionDeleteRequest=async(t,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:t,reason:n.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once(Ht.publish,async()=>{i(await this.deleteSession(t))})}),this.sendResult({id:s,topic:t,result:!0})]),this.client.events.emit("session_delete",{id:s,topic:t})}catch(i){this.client.logger.error(i)}},this.onSessionRequest=async(t,n)=>{const{id:s,params:i}=n;try{this.isValidRequest(cr({topic:t},i)),await this.setPendingSessionRequest({id:s,topic:t,params:i}),this.addSessionRequestToSessionRequestQueue({id:s,topic:t,params:i}),await this.processSessionRequestQueue()}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.onSessionRequestResponse=(t,n)=>{const{id:s}=n;Dn(n)?this.events.emit(ft("session_request",s),{result:n.result}):Vr(n)&&this.events.emit(ft("session_request",s),{error:n.error})},this.onSessionEventRequest=async(t,n)=>{const{id:s,params:i}=n;try{const o=`${t}_session_event_${i.event.name}`,a=$l.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(cr({topic:t},i)),this.client.events.emit("session_event",{id:s,topic:t,params:i}),$l.set(o,s)}catch(o){await this.sendError(s,t,o),this.client.logger.error(o)}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Bn.idle,this.processSessionRequestQueue()},oe.toMiliseconds(this.requestQueueDelay))},this.processSessionRequestQueue=async()=>{if(this.sessionRequestQueue.state===Bn.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{const{id:n,topic:s,params:i}=t,o=io(JSON.stringify(Da("wc_sessionRequest",i,n))),a=this.client.session.get(s),c=await this.getVerifyContext(o,a.peer.metadata);this.sessionRequestQueue.state=Bn.active,this.client.events.emit("session_request",{id:n,topic:s,params:i,verifyContext:c})}catch(n){this.client.logger.error(n)}},this.isValidConnect=async t=>{if(!ar(t)){const{message:c}=J("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:i,sessionProperties:o,relays:a}=t;if(Zt(n)||await this.isValidPairingTopic(n),!$O(a)){const{message:c}=J("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(c)}!Zt(s)&&Na(s)!==0&&this.validateNamespaces(s,"requiredNamespaces"),!Zt(i)&&Na(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),Zt(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(t,n)=>{const s=LO(t,"connect()",n);if(s)throw new Error(s.message)},this.isValidApprove=async t=>{if(!ar(t))throw new Error(J("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:n,namespaces:s,relayProtocol:i,sessionProperties:o}=t;await this.isValidProposalId(n);const a=this.client.proposal.get(n),c=Ll(s,"approve()");if(c)throw new Error(c.message);const l=vy(a.requiredNamespaces,s,"approve()");if(l)throw new Error(l.message);if(!Ot(i,!0)){const{message:u}=J("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(u)}Zt(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async t=>{if(!ar(t)){const{message:i}=J("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(i)}const{id:n,reason:s}=t;if(await this.isValidProposalId(n),!FO(s)){const{message:i}=J("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(i)}},this.isValidSessionSettleRequest=t=>{if(!ar(t)){const{message:l}=J("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(l)}const{relay:n,controller:s,namespaces:i,expiry:o}=t;if(!wy(n)){const{message:l}=J("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=RO(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=Ll(i,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(ds(o)){const{message:l}=J("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async t=>{if(!ar(t)){const{message:c}=J("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(c)}const{topic:n,namespaces:s}=t;await this.isValidSessionTopic(n);const i=this.client.session.get(n),o=Ll(s,"update()");if(o)throw new Error(o.message);const a=vy(i.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async t=>{if(!ar(t)){const{message:s}=J("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(s)}const{topic:n}=t;await this.isValidSessionTopic(n)},this.isValidRequest=async t=>{if(!ar(t)){const{message:c}=J("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(c)}const{topic:n,request:s,chainId:i,expiry:o}=t;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!yy(a,i)){const{message:c}=J("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(c)}if(!HO(s)){const{message:c}=J("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!VO(a,i,s.method)){const{message:c}=J("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}if(o&&!qO(o,Vh)){const{message:c}=J("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${Vh.min} and ${Vh.max}`);throw new Error(c)}},this.isValidRespond=async t=>{if(!ar(t)){const{message:i}=J("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(i)}const{topic:n,response:s}=t;if(await this.isValidSessionTopic(n),!jO(s)){const{message:i}=J("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(i)}},this.isValidPing=async t=>{if(!ar(t)){const{message:s}=J("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(s)}const{topic:n}=t;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async t=>{if(!ar(t)){const{message:a}=J("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(a)}const{topic:n,event:s,chainId:i}=t;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!yy(o,i)){const{message:a}=J("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(a)}if(!zO(s)){const{message:a}=J("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!GO(o,i,s.name)){const{message:a}=J("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}},this.isValidDisconnect=async t=>{if(!ar(t)){const{message:s}=J("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(s)}const{topic:n}=t;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(t,n)=>{const s={verified:{verifyUrl:n.verifyUrl||Hl,validation:"UNKNOWN",origin:n.url||""}};try{const i=await this.client.core.verify.resolve({attestationId:t,verifyUrl:n.verifyUrl});i&&(s.verified.origin=i,s.verified.validation=i===new URL(n.url).origin?"VALID":"INVALID")}catch(i){this.client.logger.error(i)}return this.client.logger.info(`Verify context: ${JSON.stringify(s)}`),s},this.validateSessionProps=(t,n)=>{Object.values(t).forEach(s=>{if(!Ot(s,!1)){const{message:i}=J("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(s)}`);throw new Error(i)}})}}async isInitialized(){if(!this.initialized){const{message:e}=J("NOT_INITIALIZED",this.name);throw new Error(e)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Ht.message,async e=>{const{topic:t,message:n}=e;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const s=await this.client.core.crypto.decode(t,n);try{kh(s)?(this.client.core.history.set(t,s),this.onRelayEventRequest({topic:t,payload:s})):Ml(s)?(await this.client.core.history.resolve(s),await this.onRelayEventResponse({topic:t,payload:s}),this.client.core.history.delete(t,s.id)):this.onRelayEventUnknownPayload({topic:t,payload:s})}catch(i){this.client.logger.error(i)}})}registerExpirerEvents(){this.client.core.expirer.on(Nr.expired,async e=>{const{topic:t,id:n}=py(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,J("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession(t,!0),this.client.events.emit("session_expire",{topic:t})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}isValidPairingTopic(e){if(!Ot(e,!1)){const{message:t}=J("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=J("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(ds(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=J("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!Ot(e,!1)){const{message:t}=J("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(!this.client.session.keys.includes(e)){const{message:t}=J("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(ds(this.client.session.get(e).expiry)){await this.deleteSession(e);const{message:t}=J("EXPIRED",`session topic: ${e}`);throw new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Ot(e,!1)){const{message:t}=J("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=J("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!MO(e)){const{message:t}=J("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=J("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(ds(this.client.proposal.get(e).expiry)){await this.deleteProposal(e);const{message:t}=J("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class pD extends jl{constructor(e,t){super(e,t,rD,jh),this.core=e,this.logger=t}}class gD extends jl{constructor(e,t){super(e,t,sD,jh),this.core=e,this.logger=t}}class mD extends jl{constructor(e,t){super(e,t,oD,jh,n=>n.id),this.core=e,this.logger=t}}class Gh extends gA{constructor(e){super(e),this.protocol=m2,this.version=b2,this.name=zh.name,this.events=new ln.EventEmitter,this.on=(n,s)=>this.events.on(n,s),this.once=(n,s)=>this.events.once(n,s),this.off=(n,s)=>this.events.off(n,s),this.removeListener=(n,s)=>this.events.removeListener(n,s),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}},this.update=async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}},this.request=async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}},this.find=n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=e?.name||zh.name,this.metadata=e?.metadata||rO();const t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:$0(L0({level:e?.logger||zh.logger}));this.core=e?.core||new tD(e),this.logger=mr(t,this.name),this.session=new gD(this.core,this.logger),this.proposal=new pD(this.core,this.logger),this.pendingRequest=new mD(this.core,this.logger),this.engine=new dD(this)}static async init(e){const t=new Gh(e);return await t.initialize(),t}get context(){return ir(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}var bD=Object.defineProperty,xD=Object.defineProperties,wD=Object.getOwnPropertyDescriptors,E2=Object.getOwnPropertySymbols,yD=Object.prototype.hasOwnProperty,vD=Object.prototype.propertyIsEnumerable,A2=(r,e,t)=>e in r?bD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ED=(r,e)=>{for(var t in e||(e={}))yD.call(e,t)&&A2(r,t,e[t]);if(E2)for(var t of E2(e))vD.call(e,t)&&A2(r,t,e[t]);return r},AD=(r,e)=>xD(r,wD(e)),Kh=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)},Fe=(r,e,t)=>(Kh(r,e,"read from private field"),t?t.call(r):e.get(r)),ri=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},Vl=(r,e,t,n)=>(Kh(r,e,"write to private field"),e.set(r,t),t),jt=(r,e,t)=>(Kh(r,e,"access private method"),t),ni,co,Ma,Pt,Wh,_2,zt,Yt,qh,I2;class _D{constructor(e){ri(this,Wh),ri(this,zt),ri(this,qh),ri(this,ni,void 0),ri(this,co,void 0),ri(this,Ma,void 0),ri(this,Pt,void 0),Vl(this,ni,e),Vl(this,co,jt(this,Wh,_2).call(this)),jt(this,zt,Yt).call(this)}async connect(e){const{requiredNamespaces:t,optionalNamespaces:n}=e;return new Promise(async(s,i)=>{await jt(this,zt,Yt).call(this);const o=Fe(this,co).subscribeModal(l=>{l.open||(o(),i(new Error("Modal closed")))}),{uri:a,approval:c}=await Fe(this,Pt).connect(e);if(a){const l=new Set;t&&Object.values(t).forEach(({chains:u})=>{u&&u.forEach(f=>l.add(f))}),n&&Object.values(n).forEach(({chains:u})=>{u&&u.forEach(f=>l.add(f))}),await Fe(this,co).openModal({uri:a,chains:Array.from(l)})}try{const l=await c();s(l)}catch(l){i(l)}finally{o(),Fe(this,co).closeModal()}})}async disconnect(e){await jt(this,zt,Yt).call(this),await Fe(this,Pt).disconnect(e)}async request(e){return await jt(this,zt,Yt).call(this),await Fe(this,Pt).request(e)}async getSessions(){return await jt(this,zt,Yt).call(this),Fe(this,Pt).session.getAll()}async getSession(){return await jt(this,zt,Yt).call(this),Fe(this,Pt).session.getAll().at(-1)}async onSessionEvent(e){await jt(this,zt,Yt).call(this),Fe(this,Pt).on("session_event",e)}async offSessionEvent(e){await jt(this,zt,Yt).call(this),Fe(this,Pt).off("session_event",e)}async onSessionUpdate(e){await jt(this,zt,Yt).call(this),Fe(this,Pt).on("session_update",e)}async offSessionUpdate(e){await jt(this,zt,Yt).call(this),Fe(this,Pt).off("session_update",e)}async onSessionDelete(e){await jt(this,zt,Yt).call(this),Fe(this,Pt).on("session_delete",e)}async offSessionDelete(e){await jt(this,zt,Yt).call(this),Fe(this,Pt).off("session_delete",e)}async onSessionExpire(e){await jt(this,zt,Yt).call(this),Fe(this,Pt).on("session_expire",e)}async offSessionExpire(e){await jt(this,zt,Yt).call(this),Fe(this,Pt).off("session_expire",e)}}ni=new WeakMap,co=new WeakMap,Ma=new WeakMap,Pt=new WeakMap,Wh=new WeakSet,_2=function(){const{modalOptions:r,projectId:e}=Fe(this,ni);return new R7(AD(ED({},r),{projectId:e}))},zt=new WeakSet,Yt=async function(){return Fe(this,Pt)?!0:(!Fe(this,Ma)&&typeof window<"u"&&Vl(this,Ma,jt(this,qh,I2).call(this)),Fe(this,Ma))},qh=new WeakSet,I2=async function(){Vl(this,Pt,await Gh.init({metadata:Fe(this,ni).metadata,projectId:Fe(this,ni).projectId,relayUrl:Fe(this,ni).relayUrl}));const r=await Fe(this,Pt).core.crypto.getClientId();try{localStorage.setItem("WCM_WALLETCONNECT_CLIENT_ID",r)}catch{console.info("Unable to set client id")}};const ID=new _D({projectId:"310356f4b71b2f49dee3048bcf68240d",metadata:{name:"Xuseless Gas Airdrop",description:"XLayer Gas 空投申请",url:"https://xuseless.netlify.app",icons:["https://xuseless.netlify.app/icon.png"]}});window.connectWallet=async()=>{const r=await ID.connect({requiredNamespaces:{eip155:{methods:["eth_sendTransaction","personal_sign"],chains:["eip155:196"],events:["accountsChanged","chainChanged"]}}});console.log("Wallet connected:",r)},window.ethers=l7;/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Gl=window,Qh=Gl.ShadowRoot&&(Gl.ShadyCSS===void 0||Gl.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Jh=Symbol(),C2=new WeakMap;let S2=class{constructor(e,t,n){if(this._$cssResult$=!0,n!==Jh)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(Qh&&e===void 0){const n=t!==void 0&&t.length===1;n&&(e=C2.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&C2.set(t,e))}return e}toString(){return this.cssText}};const CD=r=>new S2(typeof r=="string"?r:r+"",void 0,Jh),Se=(r,...e)=>{const t=r.length===1?r[0]:e.reduce(((n,s,i)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+r[i+1]),r[0]);return new S2(t,r,Jh)},SD=(r,e)=>{Qh?r.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((t=>{const n=document.createElement("style"),s=Gl.litNonce;s!==void 0&&n.setAttribute("nonce",s),n.textContent=t.cssText,r.appendChild(n)}))},O2=Qh?r=>r:r=>r instanceof CSSStyleSheet?(e=>{let t="";for(const n of e.cssRules)t+=n.cssText;return CD(t)})(r):r;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Zh;const Kl=window,P2=Kl.trustedTypes,OD=P2?P2.emptyScript:"",N2=Kl.reactiveElementPolyfillSupport,Yh={toAttribute(r,e){switch(e){case Boolean:r=r?OD:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){let t=r;switch(e){case Boolean:t=r!==null;break;case Number:t=r===null?null:Number(r);break;case Object:case Array:try{t=JSON.parse(r)}catch{t=null}}return t}},R2=(r,e)=>e!==r&&(e==e||r==r),Xh={attribute:!0,type:String,converter:Yh,reflect:!1,hasChanged:R2},ed="finalized";let lo=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var t;this.finalize(),((t=this.h)!==null&&t!==void 0?t:this.h=[]).push(e)}static get observedAttributes(){this.finalize();const e=[];return this.elementProperties.forEach(((t,n)=>{const s=this._$Ep(n,t);s!==void 0&&(this._$Ev.set(s,n),e.push(s))})),e}static createProperty(e,t=Xh){if(t.state&&(t.attribute=!1),this.finalize(),this.elementProperties.set(e,t),!t.noAccessor&&!this.prototype.hasOwnProperty(e)){const n=typeof e=="symbol"?Symbol():"__"+e,s=this.getPropertyDescriptor(e,n,t);s!==void 0&&Object.defineProperty(this.prototype,e,s)}}static getPropertyDescriptor(e,t,n){return{get(){return this[t]},set(s){const i=this[e];this[t]=s,this.requestUpdate(e,i,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Xh}static finalize(){if(this.hasOwnProperty(ed))return!1;this[ed]=!0;const e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,n=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const s of n)this.createProperty(s,t[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const s of n)t.unshift(O2(s))}else e!==void 0&&t.push(O2(e));return t}static _$Ep(e,t){const n=t.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach((t=>t(this)))}addController(e){var t,n;((t=this._$ES)!==null&&t!==void 0?t:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)===null||n===void 0||n.call(e))}removeController(e){var t;(t=this._$ES)===null||t===void 0||t.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((e,t)=>{this.hasOwnProperty(t)&&(this._$Ei.set(t,this[t]),delete this[t])}))}createRenderRoot(){var e;const t=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return SD(t,this.constructor.elementStyles),t}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach((t=>{var n;return(n=t.hostConnected)===null||n===void 0?void 0:n.call(t)}))}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach((t=>{var n;return(n=t.hostDisconnected)===null||n===void 0?void 0:n.call(t)}))}attributeChangedCallback(e,t,n){this._$AK(e,n)}_$EO(e,t,n=Xh){var s;const i=this.constructor._$Ep(e,n);if(i!==void 0&&n.reflect===!0){const o=(((s=n.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?n.converter:Yh).toAttribute(t,n.type);this._$El=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$El=null}}_$AK(e,t){var n;const s=this.constructor,i=s._$Ev.get(e);if(i!==void 0&&this._$El!==i){const o=s.getPropertyOptions(i),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((n=o.converter)===null||n===void 0?void 0:n.fromAttribute)!==void 0?o.converter:Yh;this._$El=i,this[i]=a.fromAttribute(t,o.type),this._$El=null}}requestUpdate(e,t,n){let s=!0;e!==void 0&&(((n=n||this.constructor.getPropertyOptions(e)).hasChanged||R2)(this[e],t)?(this._$AL.has(e)||this._$AL.set(e,t),n.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,n))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((s,i)=>this[i]=s)),this._$Ei=void 0);let t=!1;const n=this._$AL;try{t=this.shouldUpdate(n),t?(this.willUpdate(n),(e=this._$ES)===null||e===void 0||e.forEach((s=>{var i;return(i=s.hostUpdate)===null||i===void 0?void 0:i.call(s)})),this.update(n)):this._$Ek()}catch(s){throw t=!1,this._$Ek(),s}t&&this._$AE(n)}willUpdate(e){}_$AE(e){var t;(t=this._$ES)===null||t===void 0||t.forEach((n=>{var s;return(s=n.hostUpdated)===null||s===void 0?void 0:s.call(n)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach(((t,n)=>this._$EO(n,this[n],t))),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};lo[ed]=!0,lo.elementProperties=new Map,lo.elementStyles=[],lo.shadowRootOptions={mode:"open"},N2?.({ReactiveElement:lo}),((Zh=Kl.reactiveElementVersions)!==null&&Zh!==void 0?Zh:Kl.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var td;const Wl=window,uo=Wl.trustedTypes,D2=uo?uo.createPolicy("lit-html",{createHTML:r=>r}):void 0,rd="$lit$",gs=`lit$${(Math.random()+"").slice(9)}$`,T2="?"+gs,PD=`<${T2}>`,si=document,Fa=()=>si.createComment(""),Ha=r=>r===null||typeof r!="object"&&typeof r!="function",B2=Array.isArray,ND=r=>B2(r)||typeof r?.[Symbol.iterator]=="function",nd=`[ 	
\f\r]`,ja=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,U2=/-->/g,k2=/>/g,ii=RegExp(`>|${nd}(?:([^\\s"'>=/]+)(${nd}*=${nd}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),L2=/'/g,$2=/"/g,M2=/^(?:script|style|textarea|title)$/i,F2=r=>(e,...t)=>({_$litType$:r,strings:e,values:t}),Q=F2(1),We=F2(2),oi=Symbol.for("lit-noChange"),mt=Symbol.for("lit-nothing"),H2=new WeakMap,ai=si.createTreeWalker(si,129,null,!1);function j2(r,e){if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return D2!==void 0?D2.createHTML(e):e}const RD=(r,e)=>{const t=r.length-1,n=[];let s,i=e===2?"<svg>":"",o=ja;for(let a=0;a<t;a++){const c=r[a];let l,u,f=-1,d=0;for(;d<c.length&&(o.lastIndex=d,u=o.exec(c),u!==null);)d=o.lastIndex,o===ja?u[1]==="!--"?o=U2:u[1]!==void 0?o=k2:u[2]!==void 0?(M2.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=ii):u[3]!==void 0&&(o=ii):o===ii?u[0]===">"?(o=s??ja,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?ii:u[3]==='"'?$2:L2):o===$2||o===L2?o=ii:o===U2||o===k2?o=ja:(o=ii,s=void 0);const p=o===ii&&r[a+1].startsWith("/>")?" ":"";i+=o===ja?c+PD:f>=0?(n.push(l),c.slice(0,f)+rd+c.slice(f)+gs+p):c+gs+(f===-2?(n.push(void 0),a):p)}return[j2(r,i+(r[t]||"<?>")+(e===2?"</svg>":"")),n]};class za{constructor({strings:e,_$litType$:t},n){let s;this.parts=[];let i=0,o=0;const a=e.length-1,c=this.parts,[l,u]=RD(e,t);if(this.el=za.createElement(l,n),ai.currentNode=this.el.content,t===2){const f=this.el.content,d=f.firstChild;d.remove(),f.append(...d.childNodes)}for(;(s=ai.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes()){const f=[];for(const d of s.getAttributeNames())if(d.endsWith(rd)||d.startsWith(gs)){const p=u[o++];if(f.push(d),p!==void 0){const m=s.getAttribute(p.toLowerCase()+rd).split(gs),b=/([.?@])?(.*)/.exec(p);c.push({type:1,index:i,name:b[2],strings:m,ctor:b[1]==="."?TD:b[1]==="?"?UD:b[1]==="@"?kD:ql})}else c.push({type:6,index:i})}for(const d of f)s.removeAttribute(d)}if(M2.test(s.tagName)){const f=s.textContent.split(gs),d=f.length-1;if(d>0){s.textContent=uo?uo.emptyScript:"";for(let p=0;p<d;p++)s.append(f[p],Fa()),ai.nextNode(),c.push({type:2,index:++i});s.append(f[d],Fa())}}}else if(s.nodeType===8)if(s.data===T2)c.push({type:2,index:i});else{let f=-1;for(;(f=s.data.indexOf(gs,f+1))!==-1;)c.push({type:7,index:i}),f+=gs.length-1}i++}}static createElement(e,t){const n=si.createElement("template");return n.innerHTML=e,n}}function fo(r,e,t=r,n){var s,i,o,a;if(e===oi)return e;let c=n!==void 0?(s=t._$Co)===null||s===void 0?void 0:s[n]:t._$Cl;const l=Ha(e)?void 0:e._$litDirective$;return c?.constructor!==l&&((i=c?._$AO)===null||i===void 0||i.call(c,!1),l===void 0?c=void 0:(c=new l(r),c._$AT(r,t,n)),n!==void 0?((o=(a=t)._$Co)!==null&&o!==void 0?o:a._$Co=[])[n]=c:t._$Cl=c),c!==void 0&&(e=fo(r,c._$AS(r,e.values),c,n)),e}class DD{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var t;const{el:{content:n},parts:s}=this._$AD,i=((t=e?.creationScope)!==null&&t!==void 0?t:si).importNode(n,!0);ai.currentNode=i;let o=ai.nextNode(),a=0,c=0,l=s[0];for(;l!==void 0;){if(a===l.index){let u;l.type===2?u=new Va(o,o.nextSibling,this,e):l.type===1?u=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(u=new LD(o,this,e)),this._$AV.push(u),l=s[++c]}a!==l?.index&&(o=ai.nextNode(),a++)}return ai.currentNode=si,i}v(e){let t=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,t),t+=n.strings.length-2):n._$AI(e[t])),t++}}class Va{constructor(e,t,n,s){var i;this.type=2,this._$AH=mt,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=n,this.options=s,this._$Cp=(i=s?.isConnected)===null||i===void 0||i}get _$AU(){var e,t;return(t=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&t!==void 0?t:this._$Cp}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=fo(this,e,t),Ha(e)?e===mt||e==null||e===""?(this._$AH!==mt&&this._$AR(),this._$AH=mt):e!==this._$AH&&e!==oi&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):ND(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==mt&&Ha(this._$AH)?this._$AA.nextSibling.data=e:this.$(si.createTextNode(e)),this._$AH=e}g(e){var t;const{values:n,_$litType$:s}=e,i=typeof s=="number"?this._$AC(e):(s.el===void 0&&(s.el=za.createElement(j2(s.h,s.h[0]),this.options)),s);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===i)this._$AH.v(n);else{const o=new DD(i,this),a=o.u(this.options);o.v(n),this.$(a),this._$AH=o}}_$AC(e){let t=H2.get(e.strings);return t===void 0&&H2.set(e.strings,t=new za(e)),t}T(e){B2(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let n,s=0;for(const i of e)s===t.length?t.push(n=new Va(this.k(Fa()),this.k(Fa()),this,this.options)):n=t[s],n._$AI(i),s++;s<t.length&&(this._$AR(n&&n._$AB.nextSibling,s),t.length=s)}_$AR(e=this._$AA.nextSibling,t){var n;for((n=this._$AP)===null||n===void 0||n.call(this,!1,!0,t);e&&e!==this._$AB;){const s=e.nextSibling;e.remove(),e=s}}setConnected(e){var t;this._$AM===void 0&&(this._$Cp=e,(t=this._$AP)===null||t===void 0||t.call(this,e))}}class ql{constructor(e,t,n,s,i){this.type=1,this._$AH=mt,this._$AN=void 0,this.element=e,this.name=t,this._$AM=s,this.options=i,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=mt}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,t=this,n,s){const i=this.strings;let o=!1;if(i===void 0)e=fo(this,e,t,0),o=!Ha(e)||e!==this._$AH&&e!==oi,o&&(this._$AH=e);else{const a=e;let c,l;for(e=i[0],c=0;c<i.length-1;c++)l=fo(this,a[n+c],t,c),l===oi&&(l=this._$AH[c]),o||(o=!Ha(l)||l!==this._$AH[c]),l===mt?e=mt:e!==mt&&(e+=(l??"")+i[c+1]),this._$AH[c]=l}o&&!s&&this.j(e)}j(e){e===mt?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class TD extends ql{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===mt?void 0:e}}const BD=uo?uo.emptyScript:"";class UD extends ql{constructor(){super(...arguments),this.type=4}j(e){e&&e!==mt?this.element.setAttribute(this.name,BD):this.element.removeAttribute(this.name)}}class kD extends ql{constructor(e,t,n,s,i){super(e,t,n,s,i),this.type=5}_$AI(e,t=this){var n;if((e=(n=fo(this,e,t,0))!==null&&n!==void 0?n:mt)===oi)return;const s=this._$AH,i=e===mt&&s!==mt||e.capture!==s.capture||e.once!==s.once||e.passive!==s.passive,o=e!==mt&&(s===mt||i);i&&this.element.removeEventListener(this.name,this,s),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var t,n;typeof this._$AH=="function"?this._$AH.call((n=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&n!==void 0?n:this.element,e):this._$AH.handleEvent(e)}}class LD{constructor(e,t,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){fo(this,e)}}const z2=Wl.litHtmlPolyfillSupport;z2?.(za,Va),((td=Wl.litHtmlVersions)!==null&&td!==void 0?td:Wl.litHtmlVersions=[]).push("2.8.0");const $D=(r,e,t)=>{var n,s;const i=(n=t?.renderBefore)!==null&&n!==void 0?n:e;let o=i._$litPart$;if(o===void 0){const a=(s=t?.renderBefore)!==null&&s!==void 0?s:null;i._$litPart$=o=new Va(e.insertBefore(Fa(),a),a,void 0,t??{})}return o._$AI(r),o};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var sd,id;class xe extends lo{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,t;const n=super.createRenderRoot();return(e=(t=this.renderOptions).renderBefore)!==null&&e!==void 0||(t.renderBefore=n.firstChild),n}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=$D(t,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return oi}}xe.finalized=!0,xe._$litElement$=!0,(sd=globalThis.litElementHydrateSupport)===null||sd===void 0||sd.call(globalThis,{LitElement:xe});const V2=globalThis.litElementPolyfillSupport;V2?.({LitElement:xe}),((id=globalThis.litElementVersions)!==null&&id!==void 0?id:globalThis.litElementVersions=[]).push("3.3.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _e=r=>e=>typeof e=="function"?((t,n)=>(customElements.define(t,n),n))(r,e):((t,n)=>{const{kind:s,elements:i}=n;return{kind:s,elements:i,finisher(o){customElements.define(t,o)}}})(r,e);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const MD=(r,e)=>e.kind==="method"&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(t){t.createProperty(e.key,r)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){typeof e.initializer=="function"&&(this[e.key]=e.initializer.call(this))},finisher(t){t.createProperty(e.key,r)}},FD=(r,e,t)=>{e.constructor.createProperty(t,r)};function he(r){return(e,t)=>t!==void 0?FD(r,e,t):MD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function lr(r){return he({...r,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var od;((od=window.HTMLSlotElement)===null||od===void 0?void 0:od.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const HD={ATTRIBUTE:1},jD=r=>(...e)=>({_$litDirective$:r,values:e});class zD{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,n){this._$Ct=e,this._$AM=t,this._$Ci=n}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Un=jD(class extends zD{constructor(r){var e;if(super(r),r.type!==HD.ATTRIBUTE||r.name!=="class"||((e=r.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(r){return" "+Object.keys(r).filter((e=>r[e])).join(" ")+" "}update(r,[e]){var t,n;if(this.it===void 0){this.it=new Set,r.strings!==void 0&&(this.nt=new Set(r.strings.join(" ").split(/\s/).filter((i=>i!==""))));for(const i in e)e[i]&&!(!((t=this.nt)===null||t===void 0)&&t.has(i))&&this.it.add(i);return this.render(e)}const s=r.element.classList;this.it.forEach((i=>{i in e||(s.remove(i),this.it.delete(i))}));for(const i in e){const o=!!e[i];o===this.it.has(i)||!((n=this.nt)===null||n===void 0)&&n.has(i)||(o?(s.add(i),this.it.add(i)):(s.remove(i),this.it.delete(i)))}return oi}});function VD(r,e){r.indexOf(e)===-1&&r.push(e)}const G2=(r,e,t)=>Math.min(Math.max(t,r),e),Rr={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},Ql=r=>typeof r=="number",ho=r=>Array.isArray(r)&&!Ql(r[0]),GD=(r,e,t)=>{const n=e-r;return((t-r)%n+n)%n+r};function KD(r,e){return ho(r)?r[GD(0,r.length,e)]:r}const K2=(r,e,t)=>-t*r+t*e+r,W2=()=>{},ms=r=>r,ad=(r,e,t)=>e-r===0?1:(t-r)/(e-r);function q2(r,e){const t=r[r.length-1];for(let n=1;n<=e;n++){const s=ad(0,e,n);r.push(K2(t,1,s))}}function WD(r){const e=[0];return q2(e,r-1),e}function qD(r,e=WD(r.length),t=ms){const n=r.length,s=n-e.length;return s>0&&q2(e,s),i=>{let o=0;for(;o<n-2&&!(i<e[o+1]);o++);let a=G2(0,1,ad(e[o],e[o+1],i));return a=KD(t,o)(a),K2(r[o],r[o+1],a)}}const Q2=r=>Array.isArray(r)&&Ql(r[0]),cd=r=>typeof r=="object"&&!!r.createAnimation,po=r=>typeof r=="function",QD=r=>typeof r=="string",Ga={ms:r=>r*1e3,s:r=>r/1e3},J2=(r,e,t)=>(((1-3*t+3*e)*r+(3*t-6*e))*r+3*e)*r,JD=1e-7,ZD=12;function YD(r,e,t,n,s){let i,o,a=0;do o=e+(t-e)/2,i=J2(o,n,s)-r,i>0?t=o:e=o;while(Math.abs(i)>JD&&++a<ZD);return o}function Ka(r,e,t,n){if(r===e&&t===n)return ms;const s=i=>YD(i,0,1,r,t);return i=>i===0||i===1?i:J2(s(i),e,n)}const XD=(r,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const n=t*r,s=e==="end"?Math.floor(n):Math.ceil(n);return G2(0,1,s/r)},eT={ease:Ka(.25,.1,.25,1),"ease-in":Ka(.42,0,1,1),"ease-in-out":Ka(.42,0,.58,1),"ease-out":Ka(0,0,.58,1)},tT=/\((.*?)\)/;function Z2(r){if(po(r))return r;if(Q2(r))return Ka(...r);const e=eT[r];if(e)return e;if(r.startsWith("steps")){const t=tT.exec(r);if(t){const n=t[1].split(",");return XD(parseFloat(n[0]),n[1].trim())}}return ms}class Y2{constructor(e,t=[0,1],{easing:n,duration:s=Rr.duration,delay:i=Rr.delay,endDelay:o=Rr.endDelay,repeat:a=Rr.repeat,offset:c,direction:l="normal",autoplay:u=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=ms,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((d,p)=>{this.resolve=d,this.reject=p}),n=n||Rr.easing,cd(n)){const d=n.createAnimation(t);n=d.easing,t=d.keyframes||t,s=d.duration||s}this.repeat=a,this.easing=ho(n)?ms:Z2(n),this.updateDuration(s);const f=qD(t,c,ho(n)?n.map(Z2):ms);this.tick=d=>{var p;i=i;let m=0;this.pauseTime!==void 0?m=this.pauseTime:m=(d-this.startTime)*this.rate,this.t=m,m/=1e3,m=Math.max(m-i,0),this.playState==="finished"&&this.pauseTime===void 0&&(m=this.totalDuration);const b=m/this.duration;let I=Math.floor(b),_=b%1;!_&&b>=1&&(_=1),_===1&&I--;const A=I%2;(l==="reverse"||l==="alternate"&&A||l==="alternate-reverse"&&!A)&&(_=1-_);const v=m>=this.totalDuration?1:Math.min(_,1),w=f(this.easing(v));e(w),this.pauseTime===void 0&&(this.playState==="finished"||m>=this.totalDuration+o)?(this.playState="finished",(p=this.resolve)===null||p===void 0||p.call(this,w)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},u&&this.play()}play(){const e=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=e-this.pauseTime:this.startTime||(this.startTime=e),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var e;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(e=this.reject)===null||e===void 0||e.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(e){this.duration=e,this.totalDuration=e*(this.repeat+1)}get currentTime(){return this.t}set currentTime(e){this.pauseTime!==void 0||this.rate===0?this.pauseTime=e:this.startTime=performance.now()-e/this.rate}get playbackRate(){return this.rate}set playbackRate(e){this.rate=e}}class rT{setAnimation(e){this.animation=e,e?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const ld=new WeakMap;function X2(r){return ld.has(r)||ld.set(r,{transforms:[],values:new Map}),ld.get(r)}function nT(r,e){return r.has(e)||r.set(e,new rT),r.get(e)}const sT=["","X","Y","Z"],iT=["translate","scale","rotate","skew"],Jl={x:"translateX",y:"translateY",z:"translateZ"},e3={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:r=>r+"deg"},oT={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:r=>r+"px"},rotate:e3,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:ms},skew:e3},Wa=new Map,ud=r=>`--motion-${r}`,Zl=["x","y","z"];iT.forEach(r=>{sT.forEach(e=>{Zl.push(r+e),Wa.set(ud(r+e),oT[r])})});const aT=(r,e)=>Zl.indexOf(r)-Zl.indexOf(e),cT=new Set(Zl),t3=r=>cT.has(r),lT=(r,e)=>{Jl[e]&&(e=Jl[e]);const{transforms:t}=X2(r);VD(t,e),r.style.transform=uT(t)},uT=r=>r.sort(aT).reduce(fT,"").trim(),fT=(r,e)=>`${r} ${e}(var(${ud(e)}))`,fd=r=>r.startsWith("--"),r3=new Set;function hT(r){if(!r3.has(r)){r3.add(r);try{const{syntax:e,initialValue:t}=Wa.has(r)?Wa.get(r):{};CSS.registerProperty({name:r,inherits:!1,syntax:e,initialValue:t})}catch{}}}const hd=(r,e)=>document.createElement("div").animate(r,e),n3={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{hd({opacity:[1]})}catch{return!1}return!0},finished:()=>!!hd({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{hd({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},dd={},go={};for(const r in n3)go[r]=()=>(dd[r]===void 0&&(dd[r]=n3[r]()),dd[r]);const dT=.015,pT=(r,e)=>{let t="";const n=Math.round(e/dT);for(let s=0;s<n;s++)t+=r(ad(0,n-1,s))+", ";return t.substring(0,t.length-2)},s3=(r,e)=>po(r)?go.linearEasing()?`linear(${pT(r,e)})`:Rr.easing:Q2(r)?gT(r):r,gT=([r,e,t,n])=>`cubic-bezier(${r}, ${e}, ${t}, ${n})`;function mT(r,e){for(let t=0;t<r.length;t++)r[t]===null&&(r[t]=t?r[t-1]:e());return r}const bT=r=>Array.isArray(r)?r:[r];function pd(r){return Jl[r]&&(r=Jl[r]),t3(r)?ud(r):r}const Yl={get:(r,e)=>{e=pd(e);let t=fd(e)?r.style.getPropertyValue(e):getComputedStyle(r)[e];if(!t&&t!==0){const n=Wa.get(e);n&&(t=n.initialValue)}return t},set:(r,e,t)=>{e=pd(e),fd(e)?r.style.setProperty(e,t):r.style[e]=t}};function i3(r,e=!0){if(!(!r||r.playState==="finished"))try{r.stop?r.stop():(e&&r.commitStyles(),r.cancel())}catch{}}function xT(r,e){var t;let n=e?.toDefaultUnit||ms;const s=r[r.length-1];if(QD(s)){const i=((t=s.match(/(-?[\d.]+)([a-z%]*)/))===null||t===void 0?void 0:t[2])||"";i&&(n=o=>o+i)}return n}function wT(){return window.__MOTION_DEV_TOOLS_RECORD}function yT(r,e,t,n={},s){const i=wT(),o=n.record!==!1&&i;let a,{duration:c=Rr.duration,delay:l=Rr.delay,endDelay:u=Rr.endDelay,repeat:f=Rr.repeat,easing:d=Rr.easing,persist:p=!1,direction:m,offset:b,allowWebkitAcceleration:I=!1,autoplay:_=!0}=n;const A=X2(r),v=t3(e);let w=go.waapi();v&&lT(r,e);const y=pd(e),g=nT(A.values,y),h=Wa.get(y);return i3(g.animation,!(cd(d)&&g.generator)&&n.record!==!1),()=>{const x=()=>{var D,B;return(B=(D=Yl.get(r,y))!==null&&D!==void 0?D:h?.initialValue)!==null&&B!==void 0?B:0};let S=mT(bT(t),x);const P=xT(S,h);if(cd(d)){const D=d.createAnimation(S,e!=="opacity",x,y,g);d=D.easing,S=D.keyframes||S,c=D.duration||c}if(fd(y)&&(go.cssRegisterProperty()?hT(y):w=!1),v&&!go.linearEasing()&&(po(d)||ho(d)&&d.some(po))&&(w=!1),w){h&&(S=S.map(L=>Ql(L)?h.toDefaultUnit(L):L)),S.length===1&&(!go.partialKeyframes()||o)&&S.unshift(x());const D={delay:Ga.ms(l),duration:Ga.ms(c),endDelay:Ga.ms(u),easing:ho(d)?void 0:s3(d,c),direction:m,iterations:f+1,fill:"both"};a=r.animate({[y]:S,offset:b,easing:ho(d)?d.map(L=>s3(L,c)):void 0},D),a.finished||(a.finished=new Promise((L,U)=>{a.onfinish=L,a.oncancel=U}));const B=S[S.length-1];a.finished.then(()=>{p||(Yl.set(r,y,B),a.cancel())}).catch(W2),I||(a.playbackRate=1.000001)}else if(s&&v)S=S.map(D=>typeof D=="string"?parseFloat(D):D),S.length===1&&S.unshift(parseFloat(x())),a=new s(D=>{Yl.set(r,y,P?P(D):D)},S,Object.assign(Object.assign({},n),{duration:c,easing:d}));else{const D=S[S.length-1];Yl.set(r,y,h&&Ql(D)?h.toDefaultUnit(D):D)}return o&&i(r,e,S,{duration:c,delay:l,easing:d,repeat:f,offset:b},"motion-one"),g.setAnimation(a),a&&!_&&a.pause(),a}}const vT=(r,e)=>r[e]?Object.assign(Object.assign({},r),r[e]):Object.assign({},r);function ET(r,e){return typeof r=="string"?r=document.querySelectorAll(r):r instanceof Element&&(r=[r]),Array.from(r||[])}const AT=r=>r(),o3=(r,e,t=Rr.duration)=>new Proxy({animations:r.map(AT).filter(Boolean),duration:t,options:e},IT),_T=r=>r.animations[0],IT={get:(r,e)=>{const t=_T(r);switch(e){case"duration":return r.duration;case"currentTime":return Ga.s(t?.[e]||0);case"playbackRate":case"playState":return t?.[e];case"finished":return r.finished||(r.finished=Promise.all(r.animations.map(CT)).catch(W2)),r.finished;case"stop":return()=>{r.animations.forEach(n=>i3(n))};case"forEachNative":return n=>{r.animations.forEach(s=>n(s,r))};default:return typeof t?.[e]>"u"?void 0:()=>r.animations.forEach(n=>n[e]())}},set:(r,e,t)=>{switch(e){case"currentTime":t=Ga.ms(t);case"playbackRate":for(let n=0;n<r.animations.length;n++)r.animations[n][e]=t;return!0}return!1}},CT=r=>r.finished;function ST(r,e,t){return po(r)?r(e,t):r}function OT(r){return function(t,n,s={}){t=ET(t);const i=t.length,o=[];for(let a=0;a<i;a++){const c=t[a];for(const l in n){const u=vT(s,l);u.delay=ST(u.delay,a,i);const f=yT(c,l,n[l],u,r);o.push(f)}}return o3(o,s,s.duration)}}const PT=OT(Y2);function NT(r,e={}){return o3([()=>{const t=new Y2(r,[0,1],e);return t.finished.catch(()=>{}),t}],e,e.duration)}function ci(r,e,t){return(po(r)?NT:PT)(r,e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Xt=r=>r??mt;var mo={},gd,a3;function RT(){return a3||(a3=1,gd=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),gd}var md={},bs={},c3;function li(){if(c3)return bs;c3=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return bs.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},bs.getSymbolTotalCodewords=function(n){return e[n]},bs.getBCHDigit=function(t){let n=0;for(;t!==0;)n++,t>>>=1;return n},bs.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');r=n},bs.isKanjiModeEnabled=function(){return typeof r<"u"},bs.toSJIS=function(n){return r(n)},bs}var bd={},l3;function xd(){return l3||(l3=1,(function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},r.from=function(n,s){if(r.isValid(n))return n;try{return e(n)}catch{return s}}})(bd)),bd}var wd,u3;function DT(){if(u3)return wd;u3=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},wd=r,wd}var yd,f3;function TT(){if(f3)return yd;f3=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,t,n,s){const i=e*this.size+t;this.data[i]=n,s&&(this.reservedBit[i]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},yd=r,yd}var vd={},h3;function BT(){return h3||(h3=1,(function(r){const e=li().getSymbolSize;r.getRowColCoords=function(n){if(n===1)return[];const s=Math.floor(n/7)+2,i=e(n),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let c=1;c<s-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},r.getPositions=function(n){const s=[],i=r.getRowColCoords(n),o=i.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||s.push([i[a],i[c]]);return s}})(vd)),vd}var Ed={},d3;function UT(){if(d3)return Ed;d3=1;const r=li().getSymbolSize,e=7;return Ed.getPositions=function(n){const s=r(n);return[[0,0],[s-e,0],[0,s-e]]},Ed}var Ad={},p3;function kT(){return p3||(p3=1,(function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},r.from=function(s){return r.isValid(s)?parseInt(s,10):void 0},r.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,c=0,l=null,u=null;for(let f=0;f<i;f++){a=c=0,l=u=null;for(let d=0;d<i;d++){let p=s.get(f,d);p===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=p,a=1),p=s.get(d,f),p===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=p,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},r.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const l=s.get(a,c)+s.get(a,c+1)+s.get(a+1,c)+s.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},r.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,c=0;for(let l=0;l<i;l++){a=c=0;for(let u=0;u<i;u++)a=a<<1&2047|s.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|s.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},r.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function t(n,s,i){switch(n){case r.Patterns.PATTERN000:return(s+i)%2===0;case r.Patterns.PATTERN001:return s%2===0;case r.Patterns.PATTERN010:return i%3===0;case r.Patterns.PATTERN011:return(s+i)%3===0;case r.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case r.Patterns.PATTERN101:return s*i%2+s*i%3===0;case r.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case r.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}r.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)i.isReserved(c,a)||i.xor(c,a,t(s,c,a))},r.getBestMask=function(s,i){const o=Object.keys(r.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){i(l),r.applyMask(l,s);const u=r.getPenaltyN1(s)+r.getPenaltyN2(s)+r.getPenaltyN3(s)+r.getPenaltyN4(s);r.applyMask(l,s),u<c&&(c=u,a=l)}return a}})(Ad)),Ad}var Xl={},g3;function m3(){if(g3)return Xl;g3=1;const r=xd(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Xl.getBlocksCount=function(s,i){switch(i){case r.L:return e[(s-1)*4+0];case r.M:return e[(s-1)*4+1];case r.Q:return e[(s-1)*4+2];case r.H:return e[(s-1)*4+3];default:return}},Xl.getTotalCodewordsCount=function(s,i){switch(i){case r.L:return t[(s-1)*4+0];case r.M:return t[(s-1)*4+1];case r.Q:return t[(s-1)*4+2];case r.H:return t[(s-1)*4+3];default:return}},Xl}var _d={},qa={},b3;function LT(){if(b3)return qa;b3=1;const r=new Uint8Array(512),e=new Uint8Array(256);return(function(){let n=1;for(let s=0;s<255;s++)r[s]=n,e[n]=s,n<<=1,n&256&&(n^=285);for(let s=255;s<512;s++)r[s]=r[s-255]})(),qa.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},qa.exp=function(n){return r[n]},qa.mul=function(n,s){return n===0||s===0?0:r[e[n]+e[s]]},qa}var x3;function $T(){return x3||(x3=1,(function(r){const e=LT();r.mul=function(n,s){const i=new Uint8Array(n.length+s.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=e.mul(n[o],s[a]);return i},r.mod=function(n,s){let i=new Uint8Array(n);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=e.mul(s[c],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},r.generateECPolynomial=function(n){let s=new Uint8Array([1]);for(let i=0;i<n;i++)s=r.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(_d)),_d}var Id,w3;function MT(){if(w3)return Id;w3=1;const r=$T();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(n.length+this.degree);s.set(n);const i=r.mod(s,this.genPoly),o=this.degree-i.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(i,o),a}return i},Id=e,Id}var Cd={},Sd={},Od={},y3;function v3(){return y3||(y3=1,Od.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),Od}var dn={},E3;function A3(){if(E3)return dn;E3=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;dn.KANJI=new RegExp(t,"g"),dn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),dn.BYTE=new RegExp(n,"g"),dn.NUMERIC=new RegExp(r,"g"),dn.ALPHANUMERIC=new RegExp(e,"g");const s=new RegExp("^"+t+"$"),i=new RegExp("^"+r+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return dn.testKanji=function(c){return s.test(c)},dn.testNumeric=function(c){return i.test(c)},dn.testAlphanumeric=function(c){return o.test(c)},dn}var _3;function ui(){return _3||(_3=1,(function(r){const e=v3(),t=A3();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},r.getBestModeForData=function(i){return t.testNumeric(i)?r.NUMERIC:t.testAlphanumeric(i)?r.ALPHANUMERIC:t.testKanji(i)?r.KANJI:r.BYTE},r.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},r.isValid=function(i){return i&&i.bit&&i.ccBits};function n(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+s)}}r.from=function(i,o){if(r.isValid(i))return i;try{return n(i)}catch{return o}}})(Sd)),Sd}var I3;function FT(){return I3||(I3=1,(function(r){const e=li(),t=m3(),n=xd(),s=ui(),i=v3(),o=7973,a=e.getBCHDigit(o);function c(d,p,m){for(let b=1;b<=40;b++)if(p<=r.getCapacity(b,m,d))return b}function l(d,p){return s.getCharCountIndicator(d,p)+4}function u(d,p){let m=0;return d.forEach(function(b){const I=l(b.mode,p);m+=I+b.getBitsLength()}),m}function f(d,p){for(let m=1;m<=40;m++)if(u(d,m)<=r.getCapacity(m,p,s.MIXED))return m}r.from=function(p,m){return i.isValid(p)?parseInt(p,10):m},r.getCapacity=function(p,m,b){if(!i.isValid(p))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=s.BYTE);const I=e.getSymbolTotalCodewords(p),_=t.getTotalCodewordsCount(p,m),A=(I-_)*8;if(b===s.MIXED)return A;const v=A-l(b,p);switch(b){case s.NUMERIC:return Math.floor(v/10*3);case s.ALPHANUMERIC:return Math.floor(v/11*2);case s.KANJI:return Math.floor(v/13);case s.BYTE:default:return Math.floor(v/8)}},r.getBestVersionForData=function(p,m){let b;const I=n.from(m,n.M);if(Array.isArray(p)){if(p.length>1)return f(p,I);if(p.length===0)return 1;b=p[0]}else b=p;return c(b.mode,b.getLength(),I)},r.getEncodedBits=function(p){if(!i.isValid(p)||p<7)throw new Error("Invalid QR Code version");let m=p<<12;for(;e.getBCHDigit(m)-a>=0;)m^=o<<e.getBCHDigit(m)-a;return p<<12|m}})(Cd)),Cd}var Pd={},C3;function HT(){if(C3)return Pd;C3=1;const r=li(),e=1335,t=21522,n=r.getBCHDigit(e);return Pd.getEncodedBits=function(i,o){const a=i.bit<<3|o;let c=a<<10;for(;r.getBCHDigit(c)-n>=0;)c^=e<<r.getBCHDigit(c)-n;return(a<<10|c)^t},Pd}var Nd={},Rd,S3;function jT(){if(S3)return Rd;S3=1;const r=ui();function e(t){this.mode=r.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let s,i,o;for(s=0;s+3<=this.data.length;s+=3)i=this.data.substr(s,3),o=parseInt(i,10),n.put(o,10);const a=this.data.length-s;a>0&&(i=this.data.substr(s),o=parseInt(i,10),n.put(o,a*3+1))},Rd=e,Rd}var Dd,O3;function zT(){if(O3)return Dd;O3=1;const r=ui(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(n){this.mode=r.ALPHANUMERIC,this.data=n}return t.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(s){let i;for(i=0;i+2<=this.data.length;i+=2){let o=e.indexOf(this.data[i])*45;o+=e.indexOf(this.data[i+1]),s.put(o,11)}this.data.length%2&&s.put(e.indexOf(this.data[i]),6)},Dd=t,Dd}var Td,P3;function VT(){return P3||(P3=1,Td=function(e){for(var t=[],n=e.length,s=0;s<n;s++){var i=e.charCodeAt(s);if(i>=55296&&i<=56319&&n>s+1){var o=e.charCodeAt(s+1);o>=56320&&o<=57343&&(i=(i-55296)*1024+o-56320+65536,s+=1)}if(i<128){t.push(i);continue}if(i<2048){t.push(i>>6|192),t.push(i&63|128);continue}if(i<55296||i>=57344&&i<65536){t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128);continue}if(i>=65536&&i<=1114111){t.push(i>>18|240),t.push(i>>12&63|128),t.push(i>>6&63|128),t.push(i&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}),Td}var Bd,N3;function GT(){if(N3)return Bd;N3=1;const r=VT(),e=ui();function t(n){this.mode=e.BYTE,typeof n=="string"&&(n=r(n)),this.data=new Uint8Array(n)}return t.getBitsLength=function(s){return s*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let s=0,i=this.data.length;s<i;s++)n.put(this.data[s],8)},Bd=t,Bd}var Ud,R3;function KT(){if(R3)return Ud;R3=1;const r=ui(),e=li();function t(n){this.mode=r.KANJI,this.data=n}return t.getBitsLength=function(s){return s*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let s;for(s=0;s<this.data.length;s++){let i=e.toSJIS(this.data[s]);if(i>=33088&&i<=40956)i-=33088;else if(i>=57408&&i<=60351)i-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);i=(i>>>8&255)*192+(i&255),n.put(i,13)}},Ud=t,Ud}var kd={exports:{}},D3;function WT(){return D3||(D3=1,(function(r){var e={single_source_shortest_paths:function(t,n,s){var i={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,l,u,f,d,p,m,b,I;!a.empty();){c=a.pop(),l=c.value,f=c.cost,d=t[l]||{};for(u in d)d.hasOwnProperty(u)&&(p=d[u],m=f+p,b=o[u],I=typeof o[u]>"u",(I||b>m)&&(o[u]=m,a.push(u,m),i[u]=l))}if(typeof s<"u"&&typeof o[s]>"u"){var _=["Could not find a path from ",n," to ",s,"."].join("");throw new Error(_)}return i},extract_shortest_path_from_predecessor_list:function(t,n){for(var s=[],i=n;i;)s.push(i),t[i],i=t[i];return s.reverse(),s},find_path:function(t,n,s){var i=e.single_source_shortest_paths(t,n,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(t){var n=e.PriorityQueue,s={},i;t=t||{};for(i in n)n.hasOwnProperty(i)&&(s[i]=n[i]);return s.queue=[],s.sorter=t.sorter||n.default_sorter,s},default_sorter:function(t,n){return t.cost-n.cost},push:function(t,n){var s={value:t,cost:n};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e})(kd)),kd.exports}var T3;function qT(){return T3||(T3=1,(function(r){const e=ui(),t=jT(),n=zT(),s=GT(),i=KT(),o=A3(),a=li(),c=WT();function l(_){return unescape(encodeURIComponent(_)).length}function u(_,A,v){const w=[];let y;for(;(y=_.exec(v))!==null;)w.push({data:y[0],index:y.index,mode:A,length:y[0].length});return w}function f(_){const A=u(o.NUMERIC,e.NUMERIC,_),v=u(o.ALPHANUMERIC,e.ALPHANUMERIC,_);let w,y;return a.isKanjiModeEnabled()?(w=u(o.BYTE,e.BYTE,_),y=u(o.KANJI,e.KANJI,_)):(w=u(o.BYTE_KANJI,e.BYTE,_),y=[]),A.concat(v,w,y).sort(function(h,x){return h.index-x.index}).map(function(h){return{data:h.data,mode:h.mode,length:h.length}})}function d(_,A){switch(A){case e.NUMERIC:return t.getBitsLength(_);case e.ALPHANUMERIC:return n.getBitsLength(_);case e.KANJI:return i.getBitsLength(_);case e.BYTE:return s.getBitsLength(_)}}function p(_){return _.reduce(function(A,v){const w=A.length-1>=0?A[A.length-1]:null;return w&&w.mode===v.mode?(A[A.length-1].data+=v.data,A):(A.push(v),A)},[])}function m(_){const A=[];for(let v=0;v<_.length;v++){const w=_[v];switch(w.mode){case e.NUMERIC:A.push([w,{data:w.data,mode:e.ALPHANUMERIC,length:w.length},{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.ALPHANUMERIC:A.push([w,{data:w.data,mode:e.BYTE,length:w.length}]);break;case e.KANJI:A.push([w,{data:w.data,mode:e.BYTE,length:l(w.data)}]);break;case e.BYTE:A.push([{data:w.data,mode:e.BYTE,length:l(w.data)}])}}return A}function b(_,A){const v={},w={start:{}};let y=["start"];for(let g=0;g<_.length;g++){const h=_[g],x=[];for(let S=0;S<h.length;S++){const P=h[S],D=""+g+S;x.push(D),v[D]={node:P,lastCount:0},w[D]={};for(let B=0;B<y.length;B++){const L=y[B];v[L]&&v[L].node.mode===P.mode?(w[L][D]=d(v[L].lastCount+P.length,P.mode)-d(v[L].lastCount,P.mode),v[L].lastCount+=P.length):(v[L]&&(v[L].lastCount=P.length),w[L][D]=d(P.length,P.mode)+4+e.getCharCountIndicator(P.mode,A))}}y=x}for(let g=0;g<y.length;g++)w[y[g]].end=0;return{map:w,table:v}}function I(_,A){let v;const w=e.getBestModeForData(_);if(v=e.from(A,w),v!==e.BYTE&&v.bit<w.bit)throw new Error('"'+_+'" cannot be encoded with mode '+e.toString(v)+`.
 Suggested mode is: `+e.toString(w));switch(v===e.KANJI&&!a.isKanjiModeEnabled()&&(v=e.BYTE),v){case e.NUMERIC:return new t(_);case e.ALPHANUMERIC:return new n(_);case e.KANJI:return new i(_);case e.BYTE:return new s(_)}}r.fromArray=function(A){return A.reduce(function(v,w){return typeof w=="string"?v.push(I(w,null)):w.data&&v.push(I(w.data,w.mode)),v},[])},r.fromString=function(A,v){const w=f(A,a.isKanjiModeEnabled()),y=m(w),g=b(y,v),h=c.find_path(g.map,"start","end"),x=[];for(let S=1;S<h.length-1;S++)x.push(g.table[h[S]].node);return r.fromArray(p(x))},r.rawSplit=function(A){return r.fromArray(f(A,a.isKanjiModeEnabled()))}})(Nd)),Nd}var B3;function QT(){if(B3)return md;B3=1;const r=li(),e=xd(),t=DT(),n=TT(),s=BT(),i=UT(),o=kT(),a=m3(),c=MT(),l=FT(),u=HT(),f=ui(),d=qT();function p(g,h){const x=g.size,S=i.getPositions(h);for(let P=0;P<S.length;P++){const D=S[P][0],B=S[P][1];for(let L=-1;L<=7;L++)if(!(D+L<=-1||x<=D+L))for(let U=-1;U<=7;U++)B+U<=-1||x<=B+U||(L>=0&&L<=6&&(U===0||U===6)||U>=0&&U<=6&&(L===0||L===6)||L>=2&&L<=4&&U>=2&&U<=4?g.set(D+L,B+U,!0,!0):g.set(D+L,B+U,!1,!0))}}function m(g){const h=g.size;for(let x=8;x<h-8;x++){const S=x%2===0;g.set(x,6,S,!0),g.set(6,x,S,!0)}}function b(g,h){const x=s.getPositions(h);for(let S=0;S<x.length;S++){const P=x[S][0],D=x[S][1];for(let B=-2;B<=2;B++)for(let L=-2;L<=2;L++)B===-2||B===2||L===-2||L===2||B===0&&L===0?g.set(P+B,D+L,!0,!0):g.set(P+B,D+L,!1,!0)}}function I(g,h){const x=g.size,S=l.getEncodedBits(h);let P,D,B;for(let L=0;L<18;L++)P=Math.floor(L/3),D=L%3+x-8-3,B=(S>>L&1)===1,g.set(P,D,B,!0),g.set(D,P,B,!0)}function _(g,h,x){const S=g.size,P=u.getEncodedBits(h,x);let D,B;for(D=0;D<15;D++)B=(P>>D&1)===1,D<6?g.set(D,8,B,!0):D<8?g.set(D+1,8,B,!0):g.set(S-15+D,8,B,!0),D<8?g.set(8,S-D-1,B,!0):D<9?g.set(8,15-D-1+1,B,!0):g.set(8,15-D-1,B,!0);g.set(S-8,8,1,!0)}function A(g,h){const x=g.size;let S=-1,P=x-1,D=7,B=0;for(let L=x-1;L>0;L-=2)for(L===6&&L--;;){for(let U=0;U<2;U++)if(!g.isReserved(P,L-U)){let C=!1;B<h.length&&(C=(h[B]>>>D&1)===1),g.set(P,L-U,C),D--,D===-1&&(B++,D=7)}if(P+=S,P<0||x<=P){P-=S,S=-S;break}}}function v(g,h,x){const S=new t;x.forEach(function(U){S.put(U.mode.bit,4),S.put(U.getLength(),f.getCharCountIndicator(U.mode,g)),U.write(S)});const P=r.getSymbolTotalCodewords(g),D=a.getTotalCodewordsCount(g,h),B=(P-D)*8;for(S.getLengthInBits()+4<=B&&S.put(0,4);S.getLengthInBits()%8!==0;)S.putBit(0);const L=(B-S.getLengthInBits())/8;for(let U=0;U<L;U++)S.put(U%2?17:236,8);return w(S,g,h)}function w(g,h,x){const S=r.getSymbolTotalCodewords(h),P=a.getTotalCodewordsCount(h,x),D=S-P,B=a.getBlocksCount(h,x),L=S%B,U=B-L,C=Math.floor(S/B),E=Math.floor(D/B),R=E+1,k=C-E,H=new c(k);let M=0;const K=new Array(B),W=new Array(B);let F=0;const G=new Uint8Array(g.buffer);for(let ie=0;ie<B;ie++){const ce=ie<U?E:R;K[ie]=G.slice(M,M+ce),W[ie]=H.encode(K[ie]),M+=ce,F=Math.max(F,ce)}const j=new Uint8Array(S);let X=0,se,ne;for(se=0;se<F;se++)for(ne=0;ne<B;ne++)se<K[ne].length&&(j[X++]=K[ne][se]);for(se=0;se<k;se++)for(ne=0;ne<B;ne++)j[X++]=W[ne][se];return j}function y(g,h,x,S){let P;if(Array.isArray(g))P=d.fromArray(g);else if(typeof g=="string"){let C=h;if(!C){const E=d.rawSplit(g);C=l.getBestVersionForData(E,x)}P=d.fromString(g,C||40)}else throw new Error("Invalid data");const D=l.getBestVersionForData(P,x);if(!D)throw new Error("The amount of data is too big to be stored in a QR Code");if(!h)h=D;else if(h<D)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+D+`.
`);const B=v(h,x,P),L=r.getSymbolSize(h),U=new n(L);return p(U,h),m(U),b(U,h),_(U,x,0),h>=7&&I(U,h),A(U,B),isNaN(S)&&(S=o.getBestMask(U,_.bind(null,U,x))),o.applyMask(S,U),_(U,x,S),{modules:U,version:h,errorCorrectionLevel:x,maskPattern:S,segments:P}}return md.create=function(h,x){if(typeof h>"u"||h==="")throw new Error("No input text");let S=e.M,P,D;return typeof x<"u"&&(S=e.from(x.errorCorrectionLevel,e.M),P=l.from(x.version),D=o.from(x.maskPattern),x.toSJISFunc&&r.setToSJISFunction(x.toSJISFunc)),y(h,P,S,D)},md}var Ld={},$d={},U3;function k3(){return U3||(U3=1,(function(r){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let n=t.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+t);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(i){return[i,i]}))),n.length===6&&n.push("F","F");const s=parseInt(n.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+n.slice(0,6).join("")}}r.getOptions=function(n){n||(n={}),n.color||(n.color={});const s=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,i=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},r.getScale=function(n,s){return s.width&&s.width>=n+s.margin*2?s.width/(n+s.margin*2):s.scale},r.getImageWidth=function(n,s){const i=r.getScale(n,s);return Math.floor((n+s.margin*2)*i)},r.qrToImageData=function(n,s,i){const o=s.modules.size,a=s.modules.data,c=r.getScale(o,i),l=Math.floor((o+i.margin*2)*c),u=i.margin*c,f=[i.color.light,i.color.dark];for(let d=0;d<l;d++)for(let p=0;p<l;p++){let m=(d*l+p)*4,b=i.color.light;if(d>=u&&p>=u&&d<l-u&&p<l-u){const I=Math.floor((d-u)/c),_=Math.floor((p-u)/c);b=f[a[I*o+_]?1:0]}n[m++]=b.r,n[m++]=b.g,n[m++]=b.b,n[m]=b.a}}})($d)),$d}var L3;function JT(){return L3||(L3=1,(function(r){const e=k3();function t(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(i,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=n()),c=e.getOptions(c);const u=e.getImageWidth(i.modules.size,c),f=l.getContext("2d"),d=f.createImageData(u,u);return e.qrToImageData(d.data,i,c),t(f,l,u),f.putImageData(d,0,0),l},r.renderToDataURL=function(i,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=r.render(i,o,c),u=c.type||"image/png",f=c.rendererOpts||{};return l.toDataURL(u,f.quality)}})(Ld)),Ld}var Md={},$3;function ZT(){if($3)return Md;$3=1;const r=k3();function e(s,i){const o=s.a/255,a=i+'="'+s.hex+'"';return o<1?a+" "+i+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function t(s,i,o){let a=s+i;return typeof o<"u"&&(a+=" "+o),a}function n(s,i,o){let a="",c=0,l=!1,u=0;for(let f=0;f<s.length;f++){const d=Math.floor(f%i),p=Math.floor(f/i);!d&&!l&&(l=!0),s[f]?(u++,f>0&&d>0&&s[f-1]||(a+=l?t("M",d+o,.5+p+o):t("m",c,0),c=0,l=!1),d+1<i&&s[f+1]||(a+=t("h",u),u=0)):c++}return a}return Md.render=function(i,o,a){const c=r.getOptions(o),l=i.modules.size,u=i.modules.data,f=l+c.margin*2,d=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",p="<path "+e(c.color.dark,"stroke")+' d="'+n(u,l,c.margin)+'"/>',m='viewBox="0 0 '+f+" "+f+'"',I='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+m+' shape-rendering="crispEdges">'+d+p+`</svg>
`;return typeof a=="function"&&a(null,I),I},Md}var M3;function YT(){if(M3)return mo;M3=1;const r=RT(),e=QT(),t=JT(),n=ZT();function s(i,o,a,c,l){const u=[].slice.call(arguments,1),f=u.length,d=typeof u[f-1]=="function";if(!d&&!r())throw new Error("Callback required as last argument");if(d){if(f<2)throw new Error("Too few arguments provided");f===2?(l=a,a=o,o=c=void 0):f===3&&(o.getContext&&typeof l>"u"?(l=c,c=void 0):(l=c,c=a,a=o,o=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(a=o,o=c=void 0):f===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(p,m){try{const b=e.create(a,c);p(i(b,o,c))}catch(b){m(b)}})}try{const p=e.create(a,c);l(null,i(p,o,c))}catch(p){l(p)}}return mo.create=e.create,mo.toCanvas=s.bind(null,t.render),mo.toDataURL=s.bind(null,t.renderToDataURL),mo.toString=s.bind(null,function(i,o,a){return n.render(i,a)}),mo}var XT=YT();const eB=pl(XT);var tB=Object.defineProperty,F3=Object.getOwnPropertySymbols,rB=Object.prototype.hasOwnProperty,nB=Object.prototype.propertyIsEnumerable,H3=(r,e,t)=>e in r?tB(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Fd=(r,e)=>{for(var t in e||(e={}))rB.call(e,t)&&H3(r,t,e[t]);if(F3)for(var t of F3(e))nB.call(e,t)&&H3(r,t,e[t]);return r};function sB(){var r;const e=(r=ls.state.themeMode)!=null?r:"dark",n={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[e];return{"--wcm-color-fg-1":n.foreground[1],"--wcm-color-fg-2":n.foreground[2],"--wcm-color-fg-3":n.foreground[3],"--wcm-color-bg-1":n.background[1],"--wcm-color-bg-2":n.background[2],"--wcm-color-bg-3":n.background[3],"--wcm-color-overlay":n.overlay}}function j3(){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}}const Ae={getPreset(r){return j3()[r]},setTheme(){const r=document.querySelector(":root"),{themeVariables:e}=ls.state;if(r){const t=Fd(Fd(Fd({},sB()),j3()),e);Object.entries(t).forEach(([n,s])=>r.style.setProperty(n,s))}},globalCss:Se`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},iB=Se`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;var oB=Object.defineProperty,aB=Object.getOwnPropertyDescriptor,bo=(r,e,t,n)=>{for(var s=n>1?void 0:n?aB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&oB(e,t,s),s};let xs=class extends xe{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const r={"wcm-icon-left":this.iconLeft!==void 0,"wcm-icon-right":this.iconRight!==void 0,"wcm-ghost":this.variant==="ghost","wcm-outline":this.variant==="outline"};let e="inverse";return this.variant==="ghost"&&(e="secondary"),this.variant==="outline"&&(e="accent"),Q`<button class="${Un(r)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${e}"><slot></slot></wcm-text>${this.iconRight}</button>`}};xs.styles=[Ae.globalCss,iB],bo([he({type:Boolean})],xs.prototype,"disabled",2),bo([he()],xs.prototype,"iconLeft",2),bo([he()],xs.prototype,"iconRight",2),bo([he()],xs.prototype,"onClick",2),bo([he()],xs.prototype,"variant",2),xs=bo([_e("wcm-button")],xs);const cB=Se`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;var lB=Object.defineProperty,uB=Object.getOwnPropertyDescriptor,Hd=(r,e,t,n)=>{for(var s=n>1?void 0:n?uB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&lB(e,t,s),s};let Qa=class extends xe{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const r={"wcm-secondary":this.variant==="secondary"};return Q`<button ?disabled="${this.disabled}" class="${Un(r)}"><slot></slot></button>`}};Qa.styles=[Ae.globalCss,cB],Hd([he({type:Boolean})],Qa.prototype,"disabled",2),Hd([he()],Qa.prototype,"variant",2),Qa=Hd([_e("wcm-button-big")],Qa);const fB=Se`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;var hB=Object.getOwnPropertyDescriptor,dB=(r,e,t,n)=>{for(var s=n>1?void 0:n?hB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let jd=class extends xe{render(){return Q`<div><slot></slot></div>`}};jd.styles=[Ae.globalCss,fB],jd=dB([_e("wcm-info-footer")],jd);const Oe={CROSS_ICON:We`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:We`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:We`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:We`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:We`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:We`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:We`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:We`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:We`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:We`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:We`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:We`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:We`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:We`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:We`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:We`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:We`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:We`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},pB=Se`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;var gB=Object.getOwnPropertyDescriptor,mB=(r,e,t,n)=>{for(var s=n>1?void 0:n?gB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let zd=class extends xe{render(){return Q`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${Oe.WALLET_CONNECT_LOGO} <button @click="${Gs.close}">${Oe.CROSS_ICON}</button></div>`}};zd.styles=[Ae.globalCss,pB],zd=mB([_e("wcm-modal-backcard")],zd);const bB=Se`main{padding:20px;padding-top:0;width:100%}`;var xB=Object.getOwnPropertyDescriptor,wB=(r,e,t,n)=>{for(var s=n>1?void 0:n?xB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let Vd=class extends xe{render(){return Q`<main><slot></slot></main>`}};Vd.styles=[Ae.globalCss,bB],Vd=wB([_e("wcm-modal-content")],Vd);const yB=Se`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;var vB=Object.getOwnPropertyDescriptor,EB=(r,e,t,n)=>{for(var s=n>1?void 0:n?vB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let Gd=class extends xe{render(){return Q`<footer><slot></slot></footer>`}};Gd.styles=[Ae.globalCss,yB],Gd=EB([_e("wcm-modal-footer")],Gd);const AB=Se`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;var _B=Object.defineProperty,IB=Object.getOwnPropertyDescriptor,Ja=(r,e,t,n)=>{for(var s=n>1?void 0:n?IB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&_B(e,t,s),s};let fi=class extends xe{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return Q`<button class="wcm-back-btn" @click="${Ve.goBack}">${Oe.BACK_ICON}</button>`}actionBtnTemplate(){return Q`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const r={"wcm-border":this.border},e=Ve.state.history.length>1,t=this.title?Q`<wcm-text variant="big-bold">${this.title}</wcm-text>`:Q`<slot></slot>`;return Q`<header class="${Un(r)}">${e?this.backBtnTemplate():null} ${t} ${this.onAction?this.actionBtnTemplate():null}</header>`}};fi.styles=[Ae.globalCss,AB],Ja([he()],fi.prototype,"title",2),Ja([he()],fi.prototype,"onAction",2),Ja([he()],fi.prototype,"actionIcon",2),Ja([he({type:Boolean})],fi.prototype,"border",2),fi=Ja([_e("wcm-modal-header")],fi);const ue={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(r,e){const t=r.renderRoot.querySelector(e);if(!t)throw new Error(`${e} not found`);return t},getWalletIcon({id:r,image_id:e}){const{walletImages:t}=gr.state;return t?.[r]?t[r]:e?nr.getWalletImageUrl(e):""},getWalletName(r,e=!1){return e&&r.length>8?`${r.substring(0,8)}..`:r},isMobileAnimation(){return window.innerWidth<=ue.MOBILE_BREAKPOINT},async preloadImage(r){const e=new Promise((t,n)=>{const s=new Image;s.onload=t,s.onerror=n,s.crossOrigin="anonymous",s.src=r});return Promise.race([e,re.wait(3e3)])},getErrorMessage(r){return r instanceof Error?r.message:"Unknown Error"},debounce(r,e=500){let t;return(...n)=>{function s(){r(...n)}t&&clearTimeout(t),t=setTimeout(s,e)}},handleMobileLinking(r,e="_self"){const{walletConnectUri:t}=tt.state,{mobile:n,name:s}=r,i=n?.native,o=n?.universal;ue.setRecentWallet(r);function a(c){if(i){const l=re.formatNativeUrl(i,c,s);re.openHref(l,e)}else if(o){const l=re.formatUniversalUrl(o,c,s);re.openHref(l,e)}}t&&a(t)},handleAndroidLinking(){const{walletConnectUri:r}=tt.state;r&&(re.setWalletConnectAndroidDeepLink(r),re.openHref(r,re.isTelegram()?"_blank":"_self"))},async handleUriCopy(){const{walletConnectUri:r}=tt.state;if(r)try{await navigator.clipboard.writeText(r),us.openToast("Link copied","success")}catch{us.openToast("Failed to copy","error")}},getCustomImageUrls(){const{walletImages:r}=gr.state,e=Object.values(r??{});return Object.values(e)},truncate(r,e=8){return r.length<=e?r:`${r.substring(0,4)}...${r.substring(r.length-4)}`},setRecentWallet(r){try{localStorage.setItem(ue.WCM_RECENT_WALLET_DATA,JSON.stringify(r))}catch{console.info("Unable to set recent wallet")}},getRecentWallet(){try{const r=localStorage.getItem(ue.WCM_RECENT_WALLET_DATA);return r?JSON.parse(r):void 0}catch{console.info("Unable to get recent wallet")}},caseSafeIncludes(r,e){return r.toUpperCase().includes(e.toUpperCase())},openWalletExplorerUrl(){re.openHref(ue.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{desktop:r,mobile:e}=re.getWalletRouterData(),t=!!r?.native,n=!!r?.universal,s=!!e?.native||!!e?.universal;return{isDesktop:t,isMobile:s,isWeb:n}},goToConnectingView(r){Ve.setData({Wallet:r});const e=re.isMobile(),{isDesktop:t,isWeb:n,isMobile:s}=ue.getCachedRouterWalletPlatforms();e?s?(Ve.push("MobileConnecting"),!re.isAndroid()&&re.isTelegram()&&this.handleMobileLinking(r,"_blank")):n?Ve.push("WebConnecting"):Ve.push("InstallWallet"):t?Ve.push("DesktopConnecting"):n?Ve.push("WebConnecting"):s?Ve.push("MobileQrcodeConnecting"):Ve.push("InstallWallet")}},CB=Se`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;var SB=Object.defineProperty,OB=Object.getOwnPropertyDescriptor,Kd=(r,e,t,n)=>{for(var s=n>1?void 0:n?OB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&SB(e,t,s),s};let Za=class extends xe{constructor(){super(),this.view=Ve.state.view,this.prevView=Ve.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=Ve.subscribe(r=>{this.view!==r.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([r])=>{const e=`${r.contentRect.height}px`;this.oldHeight!=="0px"&&ci(this.routerEl,{height:[this.oldHeight,e]},{duration:.2}),this.oldHeight=e}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var r,e;(r=this.unsubscribe)==null||r.call(this),(e=this.resizeObserver)==null||e.disconnect()}get routerEl(){return ue.getShadowRootElement(this,".wcm-router")}get contentEl(){return ue.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return Q`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return Q`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return Q`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return Q`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return Q`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return Q`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return Q`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return Q`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return Q`<div>Not Found</div>`}}async onChangeRoute(){await ci(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=Ve.state.view,ci(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return Q`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};Za.styles=[Ae.globalCss,CB],Kd([lr()],Za.prototype,"view",2),Kd([lr()],Za.prototype,"prevView",2),Za=Kd([_e("wcm-modal-router")],Za);const PB=Se`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;var NB=Object.defineProperty,RB=Object.getOwnPropertyDescriptor,z3=(r,e,t,n)=>{for(var s=n>1?void 0:n?RB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&NB(e,t,s),s};let eu=class extends xe{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=us.subscribe(r=>{r.open?(this.open=!0,this.timeout=setTimeout(()=>us.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var r;(r=this.unsubscribe)==null||r.call(this),clearTimeout(this.timeout),us.closeToast()}render(){const{message:r,variant:e}=us.state,t={"wcm-success":e==="success","wcm-error":e==="error"};return this.open?Q`<div class="${Un(t)}">${e==="success"?Oe.CHECKMARK_ICON:null} ${e==="error"?Oe.CROSS_ICON:null}<wcm-text variant="small-regular">${r}</wcm-text></div>`:null}};eu.styles=[Ae.globalCss,PB],z3([lr()],eu.prototype,"open",2),eu=z3([_e("wcm-modal-toast")],eu);const DB=.1,V3=2.5,kn=7;function Wd(r,e,t){return r===e?!1:(r-e<0?e-r:r-e)<=t+DB}function TB(r,e){const t=Array.prototype.slice.call(eB.create(r,{errorCorrectionLevel:e}).modules.data,0),n=Math.sqrt(t.length);return t.reduce((s,i,o)=>(o%n===0?s.push([i]):s[s.length-1].push(i))&&s,[])}const BB={generate(r,e,t){const n="#141414",s="#ffffff",i=[],o=TB(r,"Q"),a=e/o.length,c=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];c.forEach(({x:m,y:b})=>{const I=(o.length-kn)*a*m,_=(o.length-kn)*a*b,A=.45;for(let v=0;v<c.length;v+=1){const w=a*(kn-v*2);i.push(We`<rect fill="${v%2===0?n:s}" height="${w}" rx="${w*A}" ry="${w*A}" width="${w}" x="${I+a*v}" y="${_+a*v}">`)}});const l=Math.floor((t+25)/a),u=o.length/2-l/2,f=o.length/2+l/2-1,d=[];o.forEach((m,b)=>{m.forEach((I,_)=>{if(o[b][_]&&!(b<kn&&_<kn||b>o.length-(kn+1)&&_<kn||b<kn&&_>o.length-(kn+1))&&!(b>u&&b<f&&_>u&&_<f)){const A=b*a+a/2,v=_*a+a/2;d.push([A,v])}})});const p={};return d.forEach(([m,b])=>{p[m]?p[m].push(b):p[m]=[b]}),Object.entries(p).map(([m,b])=>{const I=b.filter(_=>b.every(A=>!Wd(_,A,a)));return[Number(m),I]}).forEach(([m,b])=>{b.forEach(I=>{i.push(We`<circle cx="${m}" cy="${I}" fill="${n}" r="${a/V3}">`)})}),Object.entries(p).filter(([m,b])=>b.length>1).map(([m,b])=>{const I=b.filter(_=>b.some(A=>Wd(_,A,a)));return[Number(m),I]}).map(([m,b])=>{b.sort((_,A)=>_<A?-1:1);const I=[];for(const _ of b){const A=I.find(v=>v.some(w=>Wd(_,w,a)));A?A.push(_):I.push([_])}return[m,I.map(_=>[_[0],_[_.length-1]])]}).forEach(([m,b])=>{b.forEach(([I,_])=>{i.push(We`<line x1="${m}" x2="${m}" y1="${I}" y2="${_}" stroke="${n}" stroke-width="${a/(V3/2)}" stroke-linecap="round">`)})}),i}},UB=Se`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;var kB=Object.defineProperty,LB=Object.getOwnPropertyDescriptor,xo=(r,e,t,n)=>{for(var s=n>1?void 0:n?LB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&kB(e,t,s),s};let Ln=class extends xe{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){const e=ls.state.themeMode==="light"?this.size:this.size-36;return We`<svg height="${e}" width="${e}">${BB.generate(this.uri,e,e/4)}</svg>`}render(){const r={"wcm-dark":ls.state.themeMode==="dark"};return Q`<div style="${`width: ${this.size}px`}" class="${Un(r)}">${this.walletId||this.imageUrl?Q`<wcm-wallet-image walletId="${Xt(this.walletId)}" imageId="${Xt(this.imageId)}" imageUrl="${Xt(this.imageUrl)}"></wcm-wallet-image>`:Oe.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};Ln.styles=[Ae.globalCss,UB],xo([he()],Ln.prototype,"uri",2),xo([he({type:Number})],Ln.prototype,"size",2),xo([he()],Ln.prototype,"imageId",2),xo([he()],Ln.prototype,"walletId",2),xo([he()],Ln.prototype,"imageUrl",2),Ln=xo([_e("wcm-qrcode")],Ln);const $B=Se`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;var MB=Object.defineProperty,FB=Object.getOwnPropertyDescriptor,G3=(r,e,t,n)=>{for(var s=n>1?void 0:n?FB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&MB(e,t,s),s};let tu=class extends xe{constructor(){super(...arguments),this.onChange=()=>null}render(){return Q`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${Oe.SEARCH_ICON}`}};tu.styles=[Ae.globalCss,$B],G3([he()],tu.prototype,"onChange",2),tu=G3([_e("wcm-search-input")],tu);const HB=Se`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;var jB=Object.getOwnPropertyDescriptor,zB=(r,e,t,n)=>{for(var s=n>1?void 0:n?jB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let qd=class extends xe{render(){return Q`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};qd.styles=[Ae.globalCss,HB],qd=zB([_e("wcm-spinner")],qd);const VB=Se`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;var GB=Object.defineProperty,KB=Object.getOwnPropertyDescriptor,Qd=(r,e,t,n)=>{for(var s=n>1?void 0:n?KB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&GB(e,t,s),s};let Ya=class extends xe{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const r={"wcm-big-bold":this.variant==="big-bold","wcm-medium-regular":this.variant==="medium-regular","wcm-small-regular":this.variant==="small-regular","wcm-small-thin":this.variant==="small-thin","wcm-xsmall-regular":this.variant==="xsmall-regular","wcm-xsmall-bold":this.variant==="xsmall-bold","wcm-color-primary":this.color==="primary","wcm-color-secondary":this.color==="secondary","wcm-color-tertiary":this.color==="tertiary","wcm-color-inverse":this.color==="inverse","wcm-color-accnt":this.color==="accent","wcm-color-error":this.color==="error"};return Q`<span><slot class="${Un(r)}"></slot></span>`}};Ya.styles=[Ae.globalCss,VB],Qd([he()],Ya.prototype,"variant",2),Qd([he()],Ya.prototype,"color",2),Ya=Qd([_e("wcm-text")],Ya);const WB=Se`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;var qB=Object.defineProperty,QB=Object.getOwnPropertyDescriptor,ws=(r,e,t,n)=>{for(var s=n>1?void 0:n?QB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&qB(e,t,s),s};let pn=class extends xe{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?Q`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?Q`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){Ub.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var r;return Q`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${Xt(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${(r=this.label)!=null?r:ue.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};pn.styles=[Ae.globalCss,WB],ws([he()],pn.prototype,"onClick",2),ws([he()],pn.prototype,"name",2),ws([he()],pn.prototype,"walletId",2),ws([he()],pn.prototype,"label",2),ws([he()],pn.prototype,"imageId",2),ws([he({type:Boolean})],pn.prototype,"installed",2),ws([he({type:Boolean})],pn.prototype,"recent",2),pn=ws([_e("wcm-wallet-button")],pn);const JB=Se`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var ZB=Object.defineProperty,YB=Object.getOwnPropertyDescriptor,ru=(r,e,t,n)=>{for(var s=n>1?void 0:n?YB(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&ZB(e,t,s),s};let wo=class extends xe{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var r;const e=(r=this.imageUrl)!=null&&r.length?this.imageUrl:ue.getWalletIcon({id:this.walletId,image_id:this.imageId});return Q`${e.length?Q`<div><img crossorigin="anonymous" src="${e}" alt="${this.id}"></div>`:Oe.WALLET_PLACEHOLDER}`}};wo.styles=[Ae.globalCss,JB],ru([he()],wo.prototype,"walletId",2),ru([he()],wo.prototype,"imageId",2),ru([he()],wo.prototype,"imageUrl",2),wo=ru([_e("wcm-wallet-image")],wo);var XB=Object.defineProperty,eU=Object.getOwnPropertyDescriptor,K3=(r,e,t,n)=>{for(var s=n>1?void 0:n?eU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&XB(e,t,s),s};let Jd=class extends xe{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(r){try{r?.length&&await Promise.all(r.map(async e=>ue.preloadImage(e)))}catch{console.info("Unsuccessful attempt at preloading some images",r)}}async preloadListings(){if(gr.state.enableExplorer){await nr.getRecomendedWallets(),tt.setIsDataLoaded(!0);const{recomendedWallets:r}=nr.state,e=r.map(t=>ue.getWalletIcon(t));await this.loadImages(e)}else tt.setIsDataLoaded(!0)}async preloadCustomImages(){const r=ue.getCustomImageUrls();await this.loadImages(r)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(r){console.error(r),us.openToast("Failed preloading","error")}}};K3([lr()],Jd.prototype,"preload",2),Jd=K3([_e("wcm-explorer-context")],Jd);var tU=Object.getOwnPropertyDescriptor,rU=(r,e,t,n)=>{for(var s=n>1?void 0:n?tU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let W3=class extends xe{constructor(){super(),this.unsubscribeTheme=void 0,Ae.setTheme(),this.unsubscribeTheme=ls.subscribe(Ae.setTheme)}disconnectedCallback(){var r;(r=this.unsubscribeTheme)==null||r.call(this)}};W3=rU([_e("wcm-theme-context")],W3);const nU=Se`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var sU=Object.getOwnPropertyDescriptor,iU=(r,e,t,n)=>{for(var s=n>1?void 0:n?sU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let Zd=class extends xe{onGoToQrcode(){Ve.push("Qrcode")}render(){const{recomendedWallets:r}=nr.state,e=[...r,...r],t=re.RECOMMENDED_WALLET_AMOUNT*2;return Q`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${Oe.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${Oe.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(t)].map((n,s)=>{const i=e[s%e.length];return i?Q`<wcm-wallet-image walletId="${i.id}" imageId="${i.image_id}"></wcm-wallet-image>`:Oe.WALLET_PLACEHOLDER})}</div><wcm-button-big @click="${ue.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};Zd.styles=[Ae.globalCss,nU],Zd=iU([_e("wcm-android-wallet-selection")],Zd);const oU=Se`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;var aU=Object.defineProperty,cU=Object.getOwnPropertyDescriptor,yo=(r,e,t,n)=>{for(var s=n>1?void 0:n?cU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&aU(e,t,s),s};let ys=class extends xe{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var r,e;const i=(e=(r=ls.state.themeVariables)==null?void 0:r["--wcm-wallet-icon-large-border-radius"])!=null?e:Ae.getPreset("--wcm-wallet-icon-large-border-radius");let o=0;i.includes("%")?o=88/100*parseInt(i,10):o=parseInt(i,10),o*=1.17;const a=317-o*1.57,c=425-o*1.8;return Q`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${o}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${a}" stroke-dashoffset="${c}"></use></svg>`}render(){const r={"wcm-error":this.isError,"wcm-stale":this.isStale};return Q`<div class="${Un(r)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${Xt(this.walletId)}" imageId="${Xt(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};ys.styles=[Ae.globalCss,oU],yo([he()],ys.prototype,"walletId",2),yo([he()],ys.prototype,"imageId",2),yo([he({type:Boolean})],ys.prototype,"isError",2),yo([he({type:Boolean})],ys.prototype,"isStale",2),yo([he()],ys.prototype,"label",2),ys=yo([_e("wcm-connector-waiting")],ys);const vo={manualWallets(){var r,e;const{mobileWallets:t,desktopWallets:n}=gr.state,s=(r=vo.recentWallet())==null?void 0:r.id,i=re.isMobile()?t:n,o=i?.filter(a=>s!==a.id);return(e=re.isMobile()?o?.map(({id:a,name:c,links:l})=>({id:a,name:c,mobile:l,links:l})):o?.map(({id:a,name:c,links:l})=>({id:a,name:c,desktop:l,links:l})))!=null?e:[]},recentWallet(){return ue.getRecentWallet()},recomendedWallets(r=!1){var e;const t=r||(e=vo.recentWallet())==null?void 0:e.id,{recomendedWallets:n}=nr.state;return n.filter(i=>t!==i.id)}},vs={onConnecting(r){ue.goToConnectingView(r)},manualWalletsTemplate(){return vo.manualWallets().map(e=>Q`<wcm-wallet-button walletId="${e.id}" name="${e.name}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`)},recomendedWalletsTemplate(r=!1){return vo.recomendedWallets(r).map(t=>Q`<wcm-wallet-button name="${t.name}" walletId="${t.id}" imageId="${t.image_id}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`)},recentWalletTemplate(){const r=vo.recentWallet();if(r)return Q`<wcm-wallet-button name="${r.name}" walletId="${r.id}" imageId="${Xt(r.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(r)}"></wcm-wallet-button>`}},lU=Se`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;var uU=Object.getOwnPropertyDescriptor,fU=(r,e,t,n)=>{for(var s=n>1?void 0:n?uU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let Yd=class extends xe{render(){const{explorerExcludedWalletIds:r,enableExplorer:e}=gr.state,t=r!=="ALL"&&e,n=vs.manualWalletsTemplate(),s=vs.recomendedWalletsTemplate();let o=[vs.recentWalletTemplate(),...n,...s];o=o.filter(Boolean);const a=o.length>4||t;let c=[];a?c=o.slice(0,3):c=o;const l=!!c.length;return Q`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${ue.handleUriCopy}" .actionIcon="${Oe.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${Oe.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${Oe.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${l?Q`<wcm-modal-footer><div class="wcm-desktop-title">${Oe.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${c} ${a?Q`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};Yd.styles=[Ae.globalCss,lU],Yd=fU([_e("wcm-desktop-wallet-selection")],Yd);const hU=Se`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;var dU=Object.getOwnPropertyDescriptor,pU=(r,e,t,n)=>{for(var s=n>1?void 0:n?dU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let Xd=class extends xe{render(){const{termsOfServiceUrl:r,privacyPolicyUrl:e}=gr.state;return r??e?Q`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${r?Q`<a href="${r}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${r&&e?"and":null} ${e?Q`<a href="${e}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};Xd.styles=[Ae.globalCss,hU],Xd=pU([_e("wcm-legal-notice")],Xd);const gU=Se`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;var mU=Object.getOwnPropertyDescriptor,bU=(r,e,t,n)=>{for(var s=n>1?void 0:n?mU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let ep=class extends xe{onQrcode(){Ve.push("Qrcode")}render(){const{explorerExcludedWalletIds:r,enableExplorer:e}=gr.state,t=r!=="ALL"&&e,n=vs.manualWalletsTemplate(),s=vs.recomendedWalletsTemplate();let o=[vs.recentWalletTemplate(),...n,...s];o=o.filter(Boolean);const a=o.length>8||t;let c=[];a?c=o.slice(0,7):c=o;const l=!!c.length;return Q`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${Oe.QRCODE_ICON}"></wcm-modal-header>${l?Q`<wcm-modal-content><div>${c} ${a?Q`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};ep.styles=[Ae.globalCss,gU],ep=bU([_e("wcm-mobile-wallet-selection")],ep);const xU=Se`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;var wU=Object.defineProperty,yU=Object.getOwnPropertyDescriptor,tp=(r,e,t,n)=>{for(var s=n>1?void 0:n?yU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&wU(e,t,s),s};let Eo=class extends xe{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=Gs.subscribe(r=>{r.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var r;(r=this.unsubscribeModal)==null||r.call(this)}get overlayEl(){return ue.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return ue.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(r){if(document.querySelector("body"))if(r){const t=document.getElementById("wcm-styles");t?.remove()}else document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>')}onCloseModal(r){r.target===r.currentTarget&&Gs.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{const r=ue.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},e=.1,t=.2;await Promise.all([ci(this.overlayEl,{opacity:[0,1]},{delay:e,duration:t}).finished,ci(this.containerEl,r,{delay:e,duration:t}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const r=ue.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},e=.2;await Promise.all([ci(this.overlayEl,{opacity:[1,0]},{duration:e}).finished,ci(this.containerEl,r,{duration:e}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",r=>{var e;r.key==="Escape"?Gs.close():r.key==="Tab"&&((e=r.target)!=null&&e.tagName.includes("wcm-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var r;(r=this.abortController)==null||r.abort(),this.abortController=void 0}render(){const r={"wcm-overlay":!0,"wcm-active":this.active};return Q`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${Un(r)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?Q`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};Eo.styles=[Ae.globalCss,xU],tp([lr()],Eo.prototype,"open",2),tp([lr()],Eo.prototype,"active",2),Eo=tp([_e("wcm-modal")],Eo);const vU=Se`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;var EU=Object.defineProperty,AU=Object.getOwnPropertyDescriptor,Xa=(r,e,t,n)=>{for(var s=n>1?void 0:n?AU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&EU(e,t,s),s};let hi=class extends xe{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){re.isMobile()?Ve.replace("MobileConnecting"):Ve.replace("MobileQrcodeConnecting")}onDesktop(){Ve.replace("DesktopConnecting")}onWeb(){Ve.replace("WebConnecting")}render(){return Q`<div>${this.isRetry?Q`<slot></slot>`:null} ${this.isMobile?Q`<wcm-button .onClick="${this.onMobile}" .iconLeft="${Oe.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?Q`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${Oe.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?Q`<wcm-button .onClick="${this.onWeb}" .iconLeft="${Oe.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};hi.styles=[Ae.globalCss,vU],Xa([he({type:Boolean})],hi.prototype,"isMobile",2),Xa([he({type:Boolean})],hi.prototype,"isDesktop",2),Xa([he({type:Boolean})],hi.prototype,"isWeb",2),Xa([he({type:Boolean})],hi.prototype,"isRetry",2),hi=Xa([_e("wcm-platform-selection")],hi);const _U=Se`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var IU=Object.getOwnPropertyDescriptor,CU=(r,e,t,n)=>{for(var s=n>1?void 0:n?IU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let rp=class extends xe{onClick(){Ve.push("WalletExplorer")}render(){const{recomendedWallets:r}=nr.state,e=vo.manualWallets(),t=[...r,...e].reverse().slice(0,4);return Q`<button @click="${this.onClick}"><div class="wcm-icons">${t.map(n=>{const s=ue.getWalletIcon(n);if(s)return Q`<img crossorigin="anonymous" src="${s}">`;const i=ue.getWalletIcon({id:n.id});return i?Q`<img crossorigin="anonymous" src="${i}">`:Oe.WALLET_PLACEHOLDER})} ${[...Array(4-t.length)].map(()=>Oe.WALLET_PLACEHOLDER)}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};rp.styles=[Ae.globalCss,_U],rp=CU([_e("wcm-view-all-wallets-button")],rp);const SU=Se`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var OU=Object.defineProperty,PU=Object.getOwnPropertyDescriptor,nu=(r,e,t,n)=>{for(var s=n>1?void 0:n?PU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&OU(e,t,s),s};let Ao=class extends xe{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout(()=>{const{walletConnectUri:r}=tt.state;this.uri=r},0)}get overlayEl(){return ue.getShadowRootElement(this,".wcm-qr-container")}render(){return Q`<div class="wcm-qr-container">${this.uri?Q`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${Xt(this.walletId)}" imageId="${Xt(this.imageId)}"></wcm-qrcode>`:Q`<wcm-spinner></wcm-spinner>`}</div>`}};Ao.styles=[Ae.globalCss,SU],nu([he()],Ao.prototype,"walletId",2),nu([he()],Ao.prototype,"imageId",2),nu([lr()],Ao.prototype,"uri",2),Ao=nu([_e("wcm-walletconnect-qr")],Ao);var NU=Object.getOwnPropertyDescriptor,RU=(r,e,t,n)=>{for(var s=n>1?void 0:n?NU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let np=class extends xe{viewTemplate(){return re.isAndroid()&&!re.isTelegram()?Q`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:re.isMobile()?Q`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:Q`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return Q`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};np.styles=[Ae.globalCss],np=RU([_e("wcm-connect-wallet-view")],np);const DU=Se`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var TU=Object.defineProperty,BU=Object.getOwnPropertyDescriptor,q3=(r,e,t,n)=>{for(var s=n>1?void 0:n?BU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&TU(e,t,s),s};let su=class extends xe{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(r){const{desktop:e,name:t}=re.getWalletRouterData(),n=e?.native,s=e?.universal;if(n){const i=re.formatNativeUrl(n,r,t);re.openHref(i,"_self")}else if(s){const i=re.formatUniversalUrl(s,r,t);re.openHref(i,"_blank")}}openDesktopApp(){const{walletConnectUri:r}=tt.state,e=re.getWalletRouterData();ue.setRecentWallet(e),r&&this.onFormatAndRedirect(r)}render(){const{name:r,id:e,image_id:t}=re.getWalletRouterData(),{isMobile:n,isWeb:s}=ue.getCachedRouterWalletPlatforms();return Q`<wcm-modal-header title="${r}" .onAction="${ue.handleUriCopy}" .actionIcon="${Oe.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Xt(t)}" label="${`Continue in ${r}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${r} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isWeb="${s}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${Oe.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};su.styles=[Ae.globalCss,DU],q3([lr()],su.prototype,"isError",2),su=q3([_e("wcm-desktop-connecting-view")],su);const UU=Se`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;var kU=Object.getOwnPropertyDescriptor,LU=(r,e,t,n)=>{for(var s=n>1?void 0:n?kU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let sp=class extends xe{onInstall(r){r&&re.openHref(r,"_blank")}render(){const{name:r,id:e,image_id:t,homepage:n}=re.getWalletRouterData();return Q`<wcm-modal-header title="${r}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Xt(t)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${r} to continue. If multiple browser extensions are installed, disable non ${r} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(n)}" .iconLeft="${Oe.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};sp.styles=[Ae.globalCss,UU],sp=LU([_e("wcm-install-wallet-view")],sp);const $U=Se`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;var MU=Object.defineProperty,FU=Object.getOwnPropertyDescriptor,Q3=(r,e,t,n)=>{for(var s=n>1?void 0:n?FU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&MU(e,t,s),s};let iu=class extends xe{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(r,e=!1){const{mobile:t,name:n}=re.getWalletRouterData(),s=t?.native,i=t?.universal,o=re.isTelegram()?"_blank":"_self";if(r=re.isTelegram()&&re.isAndroid()?encodeURIComponent(r):r,s&&!e){const a=re.formatNativeUrl(s,r,n);re.openHref(a,o)}else if(i){const a=re.formatUniversalUrl(i,r,n);re.openHref(a,o)}}openMobileApp(r=!1){const{walletConnectUri:e}=tt.state,t=re.getWalletRouterData();e&&this.onFormatAndRedirect(e,r),ue.setRecentWallet(t)}onGoToAppStore(r){r&&re.openHref(r,"_blank")}render(){const{name:r,id:e,image_id:t,app:n,mobile:s}=re.getWalletRouterData(),{isWeb:i}=ue.getCachedRouterWalletPlatforms(),o=n?.ios,a=s?.universal;return Q`<wcm-modal-header title="${r}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Xt(t)}" label="Tap 'Open' to continue…" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${i}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${Oe.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${a?Q`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${e}" imageId="${Xt(t)}"></wcm-wallet-image><wcm-text>${`Get ${r}`}</wcm-text></div><wcm-button .iconRight="${Oe.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(o)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};iu.styles=[Ae.globalCss,$U],Q3([lr()],iu.prototype,"isError",2),iu=Q3([_e("wcm-mobile-connecting-view")],iu);const HU=Se`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var jU=Object.getOwnPropertyDescriptor,zU=(r,e,t,n)=>{for(var s=n>1?void 0:n?jU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let ip=class extends xe{render(){const{name:r,id:e,image_id:t}=re.getWalletRouterData(),{isDesktop:n,isWeb:s}=ue.getCachedRouterWalletPlatforms();return Q`<wcm-modal-header title="${r}" .onAction="${ue.handleUriCopy}" .actionIcon="${Oe.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${e}" imageId="${Xt(t)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${r} app`}</wcm-text><wcm-platform-selection .isDesktop="${n}" .isWeb="${s}"></wcm-platform-selection></wcm-info-footer>`}};ip.styles=[Ae.globalCss,HU],ip=zU([_e("wcm-mobile-qr-connecting-view")],ip);var VU=Object.getOwnPropertyDescriptor,GU=(r,e,t,n)=>{for(var s=n>1?void 0:n?VU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=o(s)||s);return s};let op=class extends xe{render(){return Q`<wcm-modal-header title="Scan the code" .onAction="${ue.handleUriCopy}" .actionIcon="${Oe.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};op.styles=[Ae.globalCss],op=GU([_e("wcm-qrcode-view")],op);const KU=Se`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var WU=Object.defineProperty,qU=Object.getOwnPropertyDescriptor,ec=(r,e,t,n)=>{for(var s=n>1?void 0:n?qU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&WU(e,t,s),s};const ap=40;let di=class extends xe{constructor(){super(...arguments),this.loading=!nr.state.wallets.listings.length,this.firstFetch=!nr.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=ue.debounce(r=>{r.length>=1?(this.firstFetch=!0,this.endReached=!1,this.search=r,nr.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),nr.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var r;(r=this.intersectionObserver)==null||r.disconnect()}get placeholderEl(){return ue.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([r])=>{r.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:r,search:e}=nr.state,{listings:t,total:n}=this.search?e:r;return n<=ap||t.length>=n}async fetchWallets(){var r;const{wallets:e,search:t}=nr.state,{listings:n,total:s,page:i}=this.search?t:e;if(!this.endReached&&(this.firstFetch||s>ap&&n.length<s))try{this.loading=!0;const o=(r=tt.state.chains)==null?void 0:r.join(","),{listings:a}=await nr.getWallets({page:this.firstFetch?1:i+1,entries:ap,search:this.search,version:2,chains:o}),c=a.map(l=>ue.getWalletIcon(l));await Promise.all([...c.map(async l=>ue.preloadImage(l)),re.wait(300)]),this.endReached=this.isLastPage()}catch(o){console.error(o),us.openToast(ue.getErrorMessage(o),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(r){re.isAndroid()?ue.handleMobileLinking(r):ue.goToConnectingView(r)}onSearchChange(r){const{value:e}=r.target;this.searchDebounce(e)}render(){const{wallets:r,search:e}=nr.state,{listings:t}=this.search?e:r,n=this.loading&&!t.length,s=this.search.length>=3;let i=vs.manualWalletsTemplate(),o=vs.recomendedWalletsTemplate(!0);s&&(i=i.filter(({values:l})=>ue.caseSafeIncludes(l[0],this.search)),o=o.filter(({values:l})=>ue.caseSafeIncludes(l[0],this.search)));const a=!this.loading&&!t.length&&!o.length,c={"wcm-loading":n,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":a};return Q`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${Un(c)}"><div class="wcm-grid">${n?null:i} ${n?null:o} ${n?null:t.map(l=>Q`${l?Q`<wcm-wallet-button imageId="${l.image_id}" name="${l.name}" walletId="${l.id}" .onClick="${()=>this.onConnect(l)}"></wcm-wallet-button>`:null}`)}</div><div class="wcm-placeholder-block">${a?Q`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!a&&this.loading?Q`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};di.styles=[Ae.globalCss,KU],ec([lr()],di.prototype,"loading",2),ec([lr()],di.prototype,"firstFetch",2),ec([lr()],di.prototype,"search",2),ec([lr()],di.prototype,"endReached",2),di=ec([_e("wcm-wallet-explorer-view")],di);const QU=Se`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var JU=Object.defineProperty,ZU=Object.getOwnPropertyDescriptor,J3=(r,e,t,n)=>{for(var s=n>1?void 0:n?ZU(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(s=(n?o(e,t,s):o(s))||s);return n&&s&&JU(e,t,s),s};let ou=class extends xe{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(r){const{desktop:e,name:t}=re.getWalletRouterData(),n=e?.universal;if(n){const s=re.formatUniversalUrl(n,r,t);re.openHref(s,"_blank")}}openWebWallet(){const{walletConnectUri:r}=tt.state,e=re.getWalletRouterData();ue.setRecentWallet(e),r&&this.onFormatAndRedirect(r)}render(){const{name:r,id:e,image_id:t}=re.getWalletRouterData(),{isMobile:n,isDesktop:s}=ue.getCachedRouterWalletPlatforms(),i=re.isMobile();return Q`<wcm-modal-header title="${r}" .onAction="${ue.handleUriCopy}" .actionIcon="${Oe.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${e}" imageId="${Xt(t)}" label="${`Continue in ${r}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${r} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${n}" .isDesktop="${i?!1:s}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${Oe.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};ou.styles=[Ae.globalCss,QU],J3([lr()],ou.prototype,"isError",2),ou=J3([_e("wcm-web-connecting-view")],ou);const YU=Object.freeze(Object.defineProperty({__proto__:null,get WcmModal(){return Eo},get WcmQrCode(){return Ln}},Symbol.toStringTag,{value:"Module"}))})();
